var L5=Object.defineProperty;var z5=(t,e,n)=>e in t?L5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var W=(t,e,n)=>z5(t,typeof e!="symbol"?e+"":e,n);function k5(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function ag(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Th={exports:{}},Ua={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2;function P5(){if(z2)return Ua;z2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:o}}return Ua.Fragment=e,Ua.jsx=n,Ua.jsxs=n,Ua}var k2;function Y5(){return k2||(k2=1,Th.exports=P5()),Th.exports}var It=Y5(),Bh={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2;function G5(){if(P2)return Et;P2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function A(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function w(G,tt,at){this.props=G,this.context=tt,this.refs=y,this.updater=at||v}w.prototype.isReactComponent={},w.prototype.setState=function(G,tt){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,tt,"setState")},w.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function C(){}C.prototype=w.prototype;function T(G,tt,at){this.props=G,this.context=tt,this.refs=y,this.updater=at||v}var D=T.prototype=new C;D.constructor=T,x(D,w.prototype),D.isPureReactComponent=!0;var M=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function B(G,tt,at,ot,mt,ft){return at=ft.ref,{$$typeof:t,type:G,key:tt,ref:at!==void 0?at:null,props:ft}}function U(G,tt){return B(G.type,tt,void 0,void 0,void 0,G.props)}function N(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function S(G){var tt={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(at){return tt[at]})}var I=/\/+/g;function F(G,tt){return typeof G=="object"&&G!==null&&G.key!=null?S(""+G.key):tt.toString(36)}function L(){}function k(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(L,L):(G.status="pending",G.then(function(tt){G.status==="pending"&&(G.status="fulfilled",G.value=tt)},function(tt){G.status==="pending"&&(G.status="rejected",G.reason=tt)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function q(G,tt,at,ot,mt){var ft=typeof G;(ft==="undefined"||ft==="boolean")&&(G=null);var dt=!1;if(G===null)dt=!0;else switch(ft){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(G.$$typeof){case t:case e:dt=!0;break;case m:return dt=G._init,q(dt(G._payload),tt,at,ot,mt)}}if(dt)return mt=mt(G),dt=ot===""?"."+F(G,0):ot,M(mt)?(at="",dt!=null&&(at=dt.replace(I,"$&/")+"/"),q(mt,tt,at,"",function(Ce){return Ce})):mt!=null&&(N(mt)&&(mt=U(mt,at+(mt.key==null||G&&G.key===mt.key?"":(""+mt.key).replace(I,"$&/")+"/")+dt)),tt.push(mt)),1;dt=0;var Ut=ot===""?".":ot+":";if(M(G))for(var Ft=0;Ft<G.length;Ft++)ot=G[Ft],ft=Ut+F(ot,Ft),dt+=q(ot,tt,at,ft,mt);else if(Ft=A(G),typeof Ft=="function")for(G=Ft.call(G),Ft=0;!(ot=G.next()).done;)ot=ot.value,ft=Ut+F(ot,Ft++),dt+=q(ot,tt,at,ft,mt);else if(ft==="object"){if(typeof G.then=="function")return q(k(G),tt,at,ot,mt);throw tt=String(G),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return dt}function P(G,tt,at){if(G==null)return G;var ot=[],mt=0;return q(G,ot,"","",function(ft){return tt.call(at,ft,mt++)}),ot}function K(G){if(G._status===-1){var tt=G._result;tt=tt(),tt.then(function(at){(G._status===0||G._status===-1)&&(G._status=1,G._result=at)},function(at){(G._status===0||G._status===-1)&&(G._status=2,G._result=at)}),G._status===-1&&(G._status=0,G._result=tt)}if(G._status===1)return G._result.default;throw G._result}var J=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function rt(){}return Et.Children={map:P,forEach:function(G,tt,at){P(G,function(){tt.apply(this,arguments)},at)},count:function(G){var tt=0;return P(G,function(){tt++}),tt},toArray:function(G){return P(G,function(tt){return tt})||[]},only:function(G){if(!N(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Et.Component=w,Et.Fragment=n,Et.Profiler=a,Et.PureComponent=T,Et.StrictMode=s,Et.Suspense=u,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Et.__COMPILER_RUNTIME={__proto__:null,c:function(G){return E.H.useMemoCache(G)}},Et.cache=function(G){return function(){return G.apply(null,arguments)}},Et.cloneElement=function(G,tt,at){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ot=x({},G.props),mt=G.key,ft=void 0;if(tt!=null)for(dt in tt.ref!==void 0&&(ft=void 0),tt.key!==void 0&&(mt=""+tt.key),tt)!R.call(tt,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&tt.ref===void 0||(ot[dt]=tt[dt]);var dt=arguments.length-2;if(dt===1)ot.children=at;else if(1<dt){for(var Ut=Array(dt),Ft=0;Ft<dt;Ft++)Ut[Ft]=arguments[Ft+2];ot.children=Ut}return B(G.type,mt,void 0,void 0,ft,ot)},Et.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Et.createElement=function(G,tt,at){var ot,mt={},ft=null;if(tt!=null)for(ot in tt.key!==void 0&&(ft=""+tt.key),tt)R.call(tt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(mt[ot]=tt[ot]);var dt=arguments.length-2;if(dt===1)mt.children=at;else if(1<dt){for(var Ut=Array(dt),Ft=0;Ft<dt;Ft++)Ut[Ft]=arguments[Ft+2];mt.children=Ut}if(G&&G.defaultProps)for(ot in dt=G.defaultProps,dt)mt[ot]===void 0&&(mt[ot]=dt[ot]);return B(G,ft,void 0,void 0,null,mt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(G){return{$$typeof:h,render:G}},Et.isValidElement=N,Et.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:K}},Et.memo=function(G,tt){return{$$typeof:f,type:G,compare:tt===void 0?null:tt}},Et.startTransition=function(G){var tt=E.T,at={};E.T=at;try{var ot=G(),mt=E.S;mt!==null&&mt(at,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(rt,J)}catch(ft){J(ft)}finally{E.T=tt}},Et.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Et.use=function(G){return E.H.use(G)},Et.useActionState=function(G,tt,at){return E.H.useActionState(G,tt,at)},Et.useCallback=function(G,tt){return E.H.useCallback(G,tt)},Et.useContext=function(G){return E.H.useContext(G)},Et.useDebugValue=function(){},Et.useDeferredValue=function(G,tt){return E.H.useDeferredValue(G,tt)},Et.useEffect=function(G,tt,at){var ot=E.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(G,tt)},Et.useId=function(){return E.H.useId()},Et.useImperativeHandle=function(G,tt,at){return E.H.useImperativeHandle(G,tt,at)},Et.useInsertionEffect=function(G,tt){return E.H.useInsertionEffect(G,tt)},Et.useLayoutEffect=function(G,tt){return E.H.useLayoutEffect(G,tt)},Et.useMemo=function(G,tt){return E.H.useMemo(G,tt)},Et.useOptimistic=function(G,tt){return E.H.useOptimistic(G,tt)},Et.useReducer=function(G,tt,at){return E.H.useReducer(G,tt,at)},Et.useRef=function(G){return E.H.useRef(G)},Et.useState=function(G){return E.H.useState(G)},Et.useSyncExternalStore=function(G,tt,at){return E.H.useSyncExternalStore(G,tt,at)},Et.useTransition=function(){return E.H.useTransition()},Et.version="19.1.0",Et}var Y2;function xf(){return Y2||(Y2=1,Bh.exports=G5()),Bh.exports}var ct=xf();const Mr=ag(ct),G2=k5({__proto__:null,default:Mr},[ct]);var Rh={exports:{}},Fa={},Uh={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function H5(){return H2||(H2=1,function(t){function e(P,K){var J=P.length;P.push(K);t:for(;0<J;){var rt=J-1>>>1,G=P[rt];if(0<a(G,K))P[rt]=K,P[J]=G,J=rt;else break t}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var K=P[0],J=P.pop();if(J!==K){P[0]=J;t:for(var rt=0,G=P.length,tt=G>>>1;rt<tt;){var at=2*(rt+1)-1,ot=P[at],mt=at+1,ft=P[mt];if(0>a(ot,J))mt<G&&0>a(ft,ot)?(P[rt]=ft,P[mt]=J,rt=mt):(P[rt]=ot,P[at]=J,rt=at);else if(mt<G&&0>a(ft,J))P[rt]=ft,P[mt]=J,rt=mt;else break t}}return K}function a(P,K){var J=P.sortIndex-K.sortIndex;return J!==0?J:P.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var u=[],f=[],m=1,g=null,A=3,v=!1,x=!1,y=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function M(P){for(var K=n(f);K!==null;){if(K.callback===null)s(f);else if(K.startTime<=P)s(f),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(f)}}function E(P){if(y=!1,M(P),!x)if(n(u)!==null)x=!0,R||(R=!0,F());else{var K=n(f);K!==null&&q(E,K.startTime-P)}}var R=!1,B=-1,U=5,N=-1;function S(){return w?!0:!(t.unstable_now()-N<U)}function I(){if(w=!1,R){var P=t.unstable_now();N=P;var K=!0;try{t:{x=!1,y&&(y=!1,T(B),B=-1),v=!0;var J=A;try{e:{for(M(P),g=n(u);g!==null&&!(g.expirationTime>P&&S());){var rt=g.callback;if(typeof rt=="function"){g.callback=null,A=g.priorityLevel;var G=rt(g.expirationTime<=P);if(P=t.unstable_now(),typeof G=="function"){g.callback=G,M(P),K=!0;break e}g===n(u)&&s(u),M(P)}else s(u);g=n(u)}if(g!==null)K=!0;else{var tt=n(f);tt!==null&&q(E,tt.startTime-P),K=!1}}break t}finally{g=null,A=J,v=!1}K=void 0}}finally{K?F():R=!1}}}var F;if(typeof D=="function")F=function(){D(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,k=L.port2;L.port1.onmessage=I,F=function(){k.postMessage(null)}}else F=function(){C(I,0)};function q(P,K){B=C(function(){P(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(P){switch(A){case 1:case 2:case 3:var K=3;break;default:K=A}var J=A;A=K;try{return P()}finally{A=J}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var J=A;A=P;try{return K()}finally{A=J}},t.unstable_scheduleCallback=function(P,K,J){var rt=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?rt+J:rt):J=rt,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=J+G,P={id:m++,callback:K,priorityLevel:P,startTime:J,expirationTime:G,sortIndex:-1},J>rt?(P.sortIndex=J,e(f,P),n(u)===null&&P===n(f)&&(y?(T(B),B=-1):y=!0,q(E,J-rt))):(P.sortIndex=G,e(u,P),x||v||(x=!0,R||(R=!0,F()))),P},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(P){var K=A;return function(){var J=A;A=K;try{return P.apply(this,arguments)}finally{A=J}}}}(Fh)),Fh}var q2;function q5(){return q2||(q2=1,Uh.exports=H5()),Uh.exports}var Vh={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function K5(){if(K2)return Ye;K2=1;var t=xf();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(u,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:u,containerInfo:f,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(u,f,null,m)},Ye.flushSync=function(u){var f=c.T,m=s.p;try{if(c.T=null,s.p=2,u)return u()}finally{c.T=f,s.p=m,s.d.f()}},Ye.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(u,f))},Ye.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},Ye.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,g=h(m,f.crossOrigin),A=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?s.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:A,fetchPriority:v}):m==="script"&&s.d.X(u,{crossOrigin:g,integrity:A,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ye.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=h(f.as,f.crossOrigin);s.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(u)},Ye.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=h(m,f.crossOrigin);s.d.L(u,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ye.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=h(f.as,f.crossOrigin);s.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(u)},Ye.requestFormReset=function(u){s.d.r(u)},Ye.unstable_batchedUpdates=function(u,f){return u(f)},Ye.useFormState=function(u,f,m){return c.H.useFormState(u,f,m)},Ye.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ye.version="19.1.0",Ye}var Q2;function Q5(){if(Q2)return Vh.exports;Q2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vh.exports=K5(),Vh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function j5(){if(j2)return Fa;j2=1;var t=q5(),e=xf(),n=Q5();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(s(188))}function u(i){var r=i.alternate;if(!r){if(r=o(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,d=r;;){var p=l.return;if(p===null)break;var b=p.alternate;if(b===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===l)return h(p),i;if(b===d)return h(p),r;b=b.sibling}throw Error(s(188))}if(l.return!==d.return)l=p,d=b;else{for(var V=!1,O=p.child;O;){if(O===l){V=!0,l=p,d=b;break}if(O===d){V=!0,d=p,l=b;break}O=O.sibling}if(!V){for(O=b.child;O;){if(O===l){V=!0,l=b,d=p;break}if(O===d){V=!0,d=b,l=p;break}O=O.sibling}if(!V)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function f(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=f(i),r!==null)return r;i=i.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function k(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case w:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case R:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case D:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case M:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return r=i.displayName||null,r!==null?r:k(i.type)||"Memo";case U:r=i._payload,i=i._init;try{return k(i(r))}catch{}}return null}var q=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},rt=[],G=-1;function tt(i){return{current:i}}function at(i){0>G||(i.current=rt[G],rt[G]=null,G--)}function ot(i,r){G++,rt[G]=i.current,i.current=r}var mt=tt(null),ft=tt(null),dt=tt(null),Ut=tt(null);function Ft(i,r){switch(ot(dt,r),ot(ft,i),ot(mt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?f2(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=f2(r),i=d2(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}at(mt),ot(mt,i)}function Ce(){at(mt),at(ft),at(dt)}function ve(i){i.memoizedState!==null&&ot(Ut,i);var r=mt.current,l=d2(r,i.type);r!==l&&(ot(ft,i),ot(mt,l))}function se(i){ft.current===i&&(at(mt),at(ft)),Ut.current===i&&(at(Ut),Ea._currentValue=J)}var Zt=Object.prototype.hasOwnProperty,Ui=t.unstable_scheduleCallback,zi=t.unstable_cancelCallback,ao=t.unstable_shouldYield,Fr=t.unstable_requestPaint,Ve=t.unstable_now,vn=t.unstable_getCurrentPriorityLevel,Ms=t.unstable_ImmediatePriority,Vr=t.unstable_UserBlockingPriority,Es=t.unstable_NormalPriority,Mt=t.unstable_LowPriority,Xf=t.unstable_IdlePriority,xA=t.log,yA=t.unstable_setDisableYieldValue,Ir=null,si=null;function xn(i){if(typeof xA=="function"&&yA(i),si&&typeof si.setStrictMode=="function")try{si.setStrictMode(Ir,i)}catch{}}var ri=Math.clz32?Math.clz32:CA,bA=Math.log,wA=Math.LN2;function CA(i){return i>>>=0,i===0?32:31-(bA(i)/wA|0)|0}var oo=256,lo=4194304;function Jn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function co(i,r,l){var d=i.pendingLanes;if(d===0)return 0;var p=0,b=i.suspendedLanes,V=i.pingedLanes;i=i.warmLanes;var O=d&134217727;return O!==0?(d=O&~b,d!==0?p=Jn(d):(V&=O,V!==0?p=Jn(V):l||(l=O&~i,l!==0&&(p=Jn(l))))):(O=d&~b,O!==0?p=Jn(O):V!==0?p=Jn(V):l||(l=d&~i,l!==0&&(p=Jn(l)))),p===0?0:r!==0&&r!==p&&(r&b)===0&&(b=p&-p,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:p}function Nr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function SA(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zf(){var i=oo;return oo<<=1,(oo&4194048)===0&&(oo=256),i}function Wf(){var i=lo;return lo<<=1,(lo&62914560)===0&&(lo=4194304),i}function pc(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Or(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function MA(i,r,l,d,p,b){var V=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var O=i.entanglements,H=i.expirationTimes,Z=i.hiddenUpdates;for(l=V&~l;0<l;){var it=31-ri(l),st=1<<it;O[it]=0,H[it]=-1;var _=Z[it];if(_!==null)for(Z[it]=null,it=0;it<_.length;it++){var $=_[it];$!==null&&($.lane&=-536870913)}l&=~st}d!==0&&Jf(i,d,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(V&~r))}function Jf(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var d=31-ri(r);i.entangledLanes|=r,i.entanglements[d]=i.entanglements[d]|1073741824|l&4194090}function _f(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var d=31-ri(l),p=1<<d;p&r|i[d]&r&&(i[d]|=r),l&=~p}}function vc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function xc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $f(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:F2(i.type))}function EA(i,r){var l=K.p;try{return K.p=i,r()}finally{K.p=l}}var yn=Math.random().toString(36).slice(2),ke="__reactFiber$"+yn,Ze="__reactProps$"+yn,Ds="__reactContainer$"+yn,yc="__reactEvents$"+yn,DA="__reactListeners$"+yn,TA="__reactHandles$"+yn,t0="__reactResources$"+yn,Lr="__reactMarker$"+yn;function bc(i){delete i[ke],delete i[Ze],delete i[yc],delete i[DA],delete i[TA]}function Ts(i){var r=i[ke];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Ds]||l[ke]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=p2(i);i!==null;){if(l=i[ke])return l;i=p2(i)}return r}i=l,l=i.parentNode}return null}function Bs(i){if(i=i[ke]||i[Ds]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function zr(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Rs(i){var r=i[t0];return r||(r=i[t0]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ee(i){i[Lr]=!0}var e0=new Set,i0={};function _n(i,r){Us(i,r),Us(i+"Capture",r)}function Us(i,r){for(i0[i]=r,i=0;i<r.length;i++)e0.add(r[i])}var BA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),n0={},s0={};function RA(i){return Zt.call(s0,i)?!0:Zt.call(n0,i)?!1:BA.test(i)?s0[i]=!0:(n0[i]=!0,!1)}function uo(i,r,l){if(RA(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function ho(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function _i(i,r,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+d)}}var wc,r0;function Fs(i){if(wc===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);wc=r&&r[1]||"",r0=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wc+i+r0}var Cc=!1;function Sc(i,r){if(!i||Cc)return"";Cc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch($){var _=$}Reflect.construct(i,[],st)}else{try{st.call()}catch($){_=$}i.call(st.prototype)}}else{try{throw Error()}catch($){_=$}(st=i())&&typeof st.catch=="function"&&st.catch(function(){})}}catch($){if($&&_&&typeof $.stack=="string")return[$.stack,_.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),V=b[0],O=b[1];if(V&&O){var H=V.split(`
`),Z=O.split(`
`);for(p=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(d===H.length||p===Z.length)for(d=H.length-1,p=Z.length-1;1<=d&&0<=p&&H[d]!==Z[p];)p--;for(;1<=d&&0<=p;d--,p--)if(H[d]!==Z[p]){if(d!==1||p!==1)do if(d--,p--,0>p||H[d]!==Z[p]){var it=`
`+H[d].replace(" at new "," at ");return i.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",i.displayName)),it}while(1<=d&&0<=p);break}}}finally{Cc=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Fs(l):""}function UA(i){switch(i.tag){case 26:case 27:case 5:return Fs(i.type);case 16:return Fs("Lazy");case 13:return Fs("Suspense");case 19:return Fs("SuspenseList");case 0:case 15:return Sc(i.type,!1);case 11:return Sc(i.type.render,!1);case 1:return Sc(i.type,!0);case 31:return Fs("Activity");default:return""}}function a0(i){try{var r="";do r+=UA(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function vi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function o0(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function FA(i){var r=o0(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),d=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,b=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(V){d=""+V,b.call(this,V)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function fo(i){i._valueTracker||(i._valueTracker=FA(i))}function l0(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return i&&(d=o0(i)?i.checked?"true":"false":i.value),i=d,i!==l?(r.setValue(i),!0):!1}function mo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var VA=/[\n"\\]/g;function xi(i){return i.replace(VA,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Mc(i,r,l,d,p,b,V,O){i.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.type=V:i.removeAttribute("type"),r!=null?V==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+vi(r)):i.value!==""+vi(r)&&(i.value=""+vi(r)):V!=="submit"&&V!=="reset"||i.removeAttribute("value"),r!=null?Ec(i,V,vi(r)):l!=null?Ec(i,V,vi(l)):d!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+vi(O):i.removeAttribute("name")}function c0(i,r,l,d,p,b,V,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null))return;l=l!=null?""+vi(l):"",r=r!=null?""+vi(r):l,O||r===i.value||(i.value=r),i.defaultValue=r}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=O?i.checked:!!d,i.defaultChecked=!!d,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(i.name=V)}function Ec(i,r,l){r==="number"&&mo(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Vs(i,r,l,d){if(i=i.options,r){r={};for(var p=0;p<l.length;p++)r["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=r.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+vi(l),r=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function u0(i,r,l){if(r!=null&&(r=""+vi(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+vi(l):""}function h0(i,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(s(92));if(q(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=vi(r),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d)}function Is(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var IA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function f0(i,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":d?i.setProperty(r,l):typeof l!="number"||l===0||IA.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function d0(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in r)d=r[p],r.hasOwnProperty(p)&&l[p]!==d&&f0(i,p,d)}else for(var b in r)r.hasOwnProperty(b)&&f0(i,b,r[b])}function Dc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),OA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(i){return OA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Tc=null;function Bc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ns=null,Os=null;function m0(i){var r=Bs(i);if(r&&(i=r.stateNode)){var l=i[Ze]||null;t:switch(i=r.stateNode,r.type){case"input":if(Mc(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xi(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==i&&d.form===i.form){var p=d[Ze]||null;if(!p)throw Error(s(90));Mc(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===i.form&&l0(d)}break t;case"textarea":u0(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Vs(i,!!l.multiple,r,!1)}}}var Rc=!1;function g0(i,r,l){if(Rc)return i(r,l);Rc=!0;try{var d=i(r);return d}finally{if(Rc=!1,(Ns!==null||Os!==null)&&(tl(),Ns&&(r=Ns,i=Os,Os=Ns=null,m0(r),i)))for(r=0;r<i.length;r++)m0(i[r])}}function kr(i,r){var l=i.stateNode;if(l===null)return null;var d=l[Ze]||null;if(d===null)return null;l=d[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uc=!1;if($i)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Uc=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Uc=!1}var bn=null,Fc=null,Ao=null;function A0(){if(Ao)return Ao;var i,r=Fc,l=r.length,d,p="value"in bn?bn.value:bn.textContent,b=p.length;for(i=0;i<l&&r[i]===p[i];i++);var V=l-i;for(d=1;d<=V&&r[l-d]===p[b-d];d++);return Ao=p.slice(i,1<d?1-d:void 0)}function po(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function vo(){return!0}function p0(){return!1}function We(i){function r(l,d,p,b,V){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=b,this.target=V,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?vo:p0,this.isPropagationStopped=p0,this}return m(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),r}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=We($n),Yr=m({},$n,{view:0,detail:0}),LA=We(Yr),Vc,Ic,Gr,yo=m({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gr&&(Gr&&i.type==="mousemove"?(Vc=i.screenX-Gr.screenX,Ic=i.screenY-Gr.screenY):Ic=Vc=0,Gr=i),Vc)},movementY:function(i){return"movementY"in i?i.movementY:Ic}}),v0=We(yo),zA=m({},yo,{dataTransfer:0}),kA=We(zA),PA=m({},Yr,{relatedTarget:0}),Nc=We(PA),YA=m({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),GA=We(YA),HA=m({},$n,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qA=We(HA),KA=m({},$n,{data:0}),x0=We(KA),QA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZA(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=XA[i])?!!r[i]:!1}function Oc(){return ZA}var WA=m({},Yr,{key:function(i){if(i.key){var r=QA[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=po(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?jA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(i){return i.type==="keypress"?po(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?po(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),JA=We(WA),_A=m({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y0=We(_A),$A=m({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),tp=We($A),ep=m({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),ip=We(ep),np=m({},yo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),sp=We(np),rp=m({},$n,{newState:0,oldState:0}),ap=We(rp),op=[9,13,27,32],Lc=$i&&"CompositionEvent"in window,Hr=null;$i&&"documentMode"in document&&(Hr=document.documentMode);var lp=$i&&"TextEvent"in window&&!Hr,b0=$i&&(!Lc||Hr&&8<Hr&&11>=Hr),w0=" ",C0=!1;function S0(i,r){switch(i){case"keyup":return op.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ls=!1;function cp(i,r){switch(i){case"compositionend":return M0(r);case"keypress":return r.which!==32?null:(C0=!0,w0);case"textInput":return i=r.data,i===w0&&C0?null:i;default:return null}}function up(i,r){if(Ls)return i==="compositionend"||!Lc&&S0(i,r)?(i=A0(),Ao=Fc=bn=null,Ls=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b0&&r.locale!=="ko"?null:r.data;default:return null}}var hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!hp[i.type]:r==="textarea"}function D0(i,r,l,d){Ns?Os?Os.push(d):Os=[d]:Ns=d,r=al(r,"onChange"),0<r.length&&(l=new xo("onChange","change",null,l,d),i.push({event:l,listeners:r}))}var qr=null,Kr=null;function fp(i){o2(i,0)}function bo(i){var r=zr(i);if(l0(r))return i}function T0(i,r){if(i==="change")return r}var B0=!1;if($i){var zc;if($i){var kc="oninput"in document;if(!kc){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),kc=typeof R0.oninput=="function"}zc=kc}else zc=!1;B0=zc&&(!document.documentMode||9<document.documentMode)}function U0(){qr&&(qr.detachEvent("onpropertychange",F0),Kr=qr=null)}function F0(i){if(i.propertyName==="value"&&bo(Kr)){var r=[];D0(r,Kr,i,Bc(i)),g0(fp,r)}}function dp(i,r,l){i==="focusin"?(U0(),qr=r,Kr=l,qr.attachEvent("onpropertychange",F0)):i==="focusout"&&U0()}function mp(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bo(Kr)}function gp(i,r){if(i==="click")return bo(r)}function Ap(i,r){if(i==="input"||i==="change")return bo(r)}function pp(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ai=typeof Object.is=="function"?Object.is:pp;function Qr(i,r){if(ai(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!Zt.call(r,p)||!ai(i[p],r[p]))return!1}return!0}function V0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function I0(i,r){var l=V0(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=r&&d>=r)return{node:l,offset:r-i};i=d}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=V0(l)}}function N0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?N0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function O0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=mo(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=mo(i.document)}return r}function Pc(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var vp=$i&&"documentMode"in document&&11>=document.documentMode,zs=null,Yc=null,jr=null,Gc=!1;function L0(i,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gc||zs==null||zs!==mo(d)||(d=zs,"selectionStart"in d&&Pc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),jr&&Qr(jr,d)||(jr=d,d=al(Yc,"onSelect"),0<d.length&&(r=new xo("onSelect","select",null,r,l),i.push({event:r,listeners:d}),r.target=zs)))}function ts(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var ks={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},Hc={},z0={};$i&&(z0=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function es(i){if(Hc[i])return Hc[i];if(!ks[i])return i;var r=ks[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in z0)return Hc[i]=r[l];return i}var k0=es("animationend"),P0=es("animationiteration"),Y0=es("animationstart"),xp=es("transitionrun"),yp=es("transitionstart"),bp=es("transitioncancel"),G0=es("transitionend"),H0=new Map,qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qc.push("scrollEnd");function Fi(i,r){H0.set(i,r),_n(r,[i])}var q0=new WeakMap;function yi(i,r){if(typeof i=="object"&&i!==null){var l=q0.get(i);return l!==void 0?l:(r={value:i,source:r,stack:a0(r)},q0.set(i,r),r)}return{value:i,source:r,stack:a0(r)}}var bi=[],Ps=0,Kc=0;function wo(){for(var i=Ps,r=Kc=Ps=0;r<i;){var l=bi[r];bi[r++]=null;var d=bi[r];bi[r++]=null;var p=bi[r];bi[r++]=null;var b=bi[r];if(bi[r++]=null,d!==null&&p!==null){var V=d.pending;V===null?p.next=p:(p.next=V.next,V.next=p),d.pending=p}b!==0&&K0(l,p,b)}}function Co(i,r,l,d){bi[Ps++]=i,bi[Ps++]=r,bi[Ps++]=l,bi[Ps++]=d,Kc|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Qc(i,r,l,d){return Co(i,r,l,d),So(i)}function Ys(i,r){return Co(i,null,null,r),So(i)}function K0(i,r,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var p=!1,b=i.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&r!==null&&(p=31-ri(l),i=b.hiddenUpdates,d=i[p],d===null?i[p]=[r]:d.push(r),r.lane=l|536870912),b):null}function So(i){if(50<va)throw va=0,_u=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Gs={};function wp(i,r,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(i,r,l,d){return new wp(i,r,l,d)}function jc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function tn(i,r){var l=i.alternate;return l===null?(l=oi(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Q0(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Mo(i,r,l,d,p,b){var V=0;if(d=i,typeof i=="function")jc(i)&&(V=1);else if(typeof i=="string")V=S5(i,l,mt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case N:return i=oi(31,l,r,p),i.elementType=N,i.lanes=b,i;case x:return is(l.children,p,b,r);case y:V=8,p|=24;break;case w:return i=oi(12,l,r,p|2),i.elementType=w,i.lanes=b,i;case E:return i=oi(13,l,r,p),i.elementType=E,i.lanes=b,i;case R:return i=oi(19,l,r,p),i.elementType=R,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case D:V=10;break t;case T:V=9;break t;case M:V=11;break t;case B:V=14;break t;case U:V=16,d=null;break t}V=29,l=Error(s(130,i===null?"null":typeof i,"")),d=null}return r=oi(V,l,r,p),r.elementType=i,r.type=d,r.lanes=b,r}function is(i,r,l,d){return i=oi(7,i,d,r),i.lanes=l,i}function Xc(i,r,l){return i=oi(6,i,null,r),i.lanes=l,i}function Zc(i,r,l){return r=oi(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Hs=[],qs=0,Eo=null,Do=0,wi=[],Ci=0,ns=null,en=1,nn="";function ss(i,r){Hs[qs++]=Do,Hs[qs++]=Eo,Eo=i,Do=r}function j0(i,r,l){wi[Ci++]=en,wi[Ci++]=nn,wi[Ci++]=ns,ns=i;var d=en;i=nn;var p=32-ri(d)-1;d&=~(1<<p),l+=1;var b=32-ri(r)+p;if(30<b){var V=p-p%5;b=(d&(1<<V)-1).toString(32),d>>=V,p-=V,en=1<<32-ri(r)+p|l<<p|d,nn=b+i}else en=1<<b|l<<p|d,nn=i}function Wc(i){i.return!==null&&(ss(i,1),j0(i,1,0))}function Jc(i){for(;i===Eo;)Eo=Hs[--qs],Hs[qs]=null,Do=Hs[--qs],Hs[qs]=null;for(;i===ns;)ns=wi[--Ci],wi[Ci]=null,nn=wi[--Ci],wi[Ci]=null,en=wi[--Ci],wi[Ci]=null}var Ke=null,ue=null,kt=!1,rs=null,ki=!1,_c=Error(s(519));function as(i){var r=Error(s(418,""));throw Wr(yi(r,i)),_c}function X0(i){var r=i.stateNode,l=i.type,d=i.memoizedProps;switch(r[ke]=i,r[Ze]=d,l){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(l=0;l<ya.length;l++)Rt(ya[l],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":Rt("invalid",r),c0(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),fo(r);break;case"select":Rt("invalid",r);break;case"textarea":Rt("invalid",r),h0(r,d.value,d.defaultValue,d.children),fo(r)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||h2(r.textContent,l)?(d.popover!=null&&(Rt("beforetoggle",r),Rt("toggle",r)),d.onScroll!=null&&Rt("scroll",r),d.onScrollEnd!=null&&Rt("scrollend",r),d.onClick!=null&&(r.onclick=ol),r=!0):r=!1,r||as(i)}function Z0(i){for(Ke=i.return;Ke;)switch(Ke.tag){case 5:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:Ke=Ke.return}}function Xr(i){if(i!==Ke)return!1;if(!kt)return Z0(i),kt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||mh(i.type,i.memoizedProps)),l=!l),l&&ue&&as(i),Z0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){ue=Ii(i.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}ue=null}}else r===27?(r=ue,Ln(i.type)?(i=vh,vh=null,ue=i):ue=r):ue=Ke?Ii(i.stateNode.nextSibling):null;return!0}function Zr(){ue=Ke=null,kt=!1}function W0(){var i=rs;return i!==null&&($e===null?$e=i:$e.push.apply($e,i),rs=null),i}function Wr(i){rs===null?rs=[i]:rs.push(i)}var $c=tt(null),os=null,sn=null;function wn(i,r,l){ot($c,r._currentValue),r._currentValue=l}function rn(i){i._currentValue=$c.current,at($c)}function tu(i,r,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),i===l)break;i=i.return}}function eu(i,r,l,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var V=p.child;b=b.firstContext;t:for(;b!==null;){var O=b;b=p;for(var H=0;H<r.length;H++)if(O.context===r[H]){b.lanes|=l,O=b.alternate,O!==null&&(O.lanes|=l),tu(b.return,l,i),d||(V=null);break t}b=O.next}}else if(p.tag===18){if(V=p.return,V===null)throw Error(s(341));V.lanes|=l,b=V.alternate,b!==null&&(b.lanes|=l),tu(V,l,i),V=null}else V=p.child;if(V!==null)V.return=p;else for(V=p;V!==null;){if(V===i){V=null;break}if(p=V.sibling,p!==null){p.return=V.return,V=p;break}V=V.return}p=V}}function Jr(i,r,l,d){i=null;for(var p=r,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var V=p.alternate;if(V===null)throw Error(s(387));if(V=V.memoizedProps,V!==null){var O=p.type;ai(p.pendingProps.value,V.value)||(i!==null?i.push(O):i=[O])}}else if(p===Ut.current){if(V=p.alternate,V===null)throw Error(s(387));V.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Ea):i=[Ea])}p=p.return}i!==null&&eu(r,i,l,d),r.flags|=262144}function To(i){for(i=i.firstContext;i!==null;){if(!ai(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ls(i){os=i,sn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Pe(i){return J0(os,i)}function Bo(i,r){return os===null&&ls(i),J0(i,r)}function J0(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},sn===null){if(i===null)throw Error(s(308));sn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else sn=sn.next=r;return l}var Cp=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},Sp=t.unstable_scheduleCallback,Mp=t.unstable_NormalPriority,Se={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iu(){return{controller:new Cp,data:new Map,refCount:0}}function _r(i){i.refCount--,i.refCount===0&&Sp(Mp,function(){i.controller.abort()})}var $r=null,nu=0,Ks=0,Qs=null;function Ep(i,r){if($r===null){var l=$r=[];nu=0,Ks=rh(),Qs={status:"pending",value:void 0,then:function(d){l.push(d)}}}return nu++,r.then(_0,_0),r}function _0(){if(--nu===0&&$r!==null){Qs!==null&&(Qs.status="fulfilled");var i=$r;$r=null,Ks=0,Qs=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Dp(i,r){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){d.status="fulfilled",d.value=r;for(var p=0;p<l.length;p++)(0,l[p])(r)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}var $0=P.S;P.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Ep(i,r),$0!==null&&$0(i,r)};var cs=tt(null);function su(){var i=cs.current;return i!==null?i:te.pooledCache}function Ro(i,r){r===null?ot(cs,cs.current):ot(cs,r.pool)}function t1(){var i=su();return i===null?null:{parent:Se._currentValue,pool:i}}var ta=Error(s(460)),e1=Error(s(474)),Uo=Error(s(542)),ru={then:function(){}};function i1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fo(){}function n1(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Fo,Fo),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,r1(i),i;default:if(typeof r.status=="string")r.then(Fo,Fo);else{if(i=te,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(d){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=d}},function(d){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,r1(i),i}throw ea=r,ta}}var ea=null;function s1(){if(ea===null)throw Error(s(459));var i=ea;return ea=null,i}function r1(i){if(i===ta||i===Uo)throw Error(s(483))}var Cn=!1;function au(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ou(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Sn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Mn(i,r,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ht&2)!==0){var p=d.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),d.pending=r,r=So(i),K0(i,null,l),r}return Co(i,d,r,l),So(i)}function ia(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,_f(i,l)}}function lu(i,r){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var V={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?p=b=V:b=b.next=V,l=l.next}while(l!==null);b===null?p=b=r:b=b.next=r}else p=b=r;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var cu=!1;function na(){if(cu){var i=Qs;if(i!==null)throw i}}function sa(i,r,l,d){cu=!1;var p=i.updateQueue;Cn=!1;var b=p.firstBaseUpdate,V=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var H=O,Z=H.next;H.next=null,V===null?b=Z:V.next=Z,V=H;var it=i.alternate;it!==null&&(it=it.updateQueue,O=it.lastBaseUpdate,O!==V&&(O===null?it.firstBaseUpdate=Z:O.next=Z,it.lastBaseUpdate=H))}if(b!==null){var st=p.baseState;V=0,it=Z=H=null,O=b;do{var _=O.lane&-536870913,$=_!==O.lane;if($?(Nt&_)===_:(d&_)===_){_!==0&&_===Ks&&(cu=!0),it!==null&&(it=it.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var wt=i,xt=O;_=r;var jt=l;switch(xt.tag){case 1:if(wt=xt.payload,typeof wt=="function"){st=wt.call(jt,st,_);break t}st=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=xt.payload,_=typeof wt=="function"?wt.call(jt,st,_):wt,_==null)break t;st=m({},st,_);break t;case 2:Cn=!0}}_=O.callback,_!==null&&(i.flags|=64,$&&(i.flags|=8192),$=p.callbacks,$===null?p.callbacks=[_]:$.push(_))}else $={lane:_,tag:O.tag,payload:O.payload,callback:O.callback,next:null},it===null?(Z=it=$,H=st):it=it.next=$,V|=_;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;$=O,O=$.next,$.next=null,p.lastBaseUpdate=$,p.shared.pending=null}}while(!0);it===null&&(H=st),p.baseState=H,p.firstBaseUpdate=Z,p.lastBaseUpdate=it,b===null&&(p.shared.lanes=0),Vn|=V,i.lanes=V,i.memoizedState=st}}function a1(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function o1(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)a1(l[i],r)}var js=tt(null),Vo=tt(0);function l1(i,r){i=fn,ot(Vo,i),ot(js,r),fn=i|r.baseLanes}function uu(){ot(Vo,fn),ot(js,js.current)}function hu(){fn=Vo.current,at(js),at(Vo)}var En=0,Dt=null,Kt=null,xe=null,Io=!1,Xs=!1,us=!1,No=0,ra=0,Zs=null,Tp=0;function me(){throw Error(s(321))}function fu(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!ai(i[l],r[l]))return!1;return!0}function du(i,r,l,d,p,b){return En=b,Dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=i===null||i.memoizedState===null?K1:Q1,us=!1,b=l(d,p),us=!1,Xs&&(b=u1(r,l,d,p)),c1(i),b}function c1(i){P.H=Yo;var r=Kt!==null&&Kt.next!==null;if(En=0,xe=Kt=Dt=null,Io=!1,ra=0,Zs=null,r)throw Error(s(300));i===null||De||(i=i.dependencies,i!==null&&To(i)&&(De=!0))}function u1(i,r,l,d){Dt=i;var p=0;do{if(Xs&&(Zs=null),ra=0,Xs=!1,25<=p)throw Error(s(301));if(p+=1,xe=Kt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}P.H=Np,b=r(l,d)}while(Xs);return b}function Bp(){var i=P.H,r=i.useState()[0];return r=typeof r.then=="function"?aa(r):r,i=i.useState()[0],(Kt!==null?Kt.memoizedState:null)!==i&&(Dt.flags|=1024),r}function mu(){var i=No!==0;return No=0,i}function gu(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Au(i){if(Io){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Io=!1}En=0,xe=Kt=Dt=null,Xs=!1,ra=No=0,Zs=null}function Je(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Dt.memoizedState=xe=i:xe=xe.next=i,xe}function ye(){if(Kt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var r=xe===null?Dt.memoizedState:xe.next;if(r!==null)xe=r,Kt=i;else{if(i===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},xe===null?Dt.memoizedState=xe=i:xe=xe.next=i}return xe}function pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function aa(i){var r=ra;return ra+=1,Zs===null&&(Zs=[]),i=n1(Zs,i,r),r=Dt,(xe===null?r.memoizedState:xe.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?K1:Q1),i}function Oo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return aa(i);if(i.$$typeof===D)return Pe(i)}throw Error(s(438,String(i)))}function vu(i){var r=null,l=Dt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=Dt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=pu(),Dt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),d=0;d<i;d++)l[d]=S;return r.index++,l}function an(i,r){return typeof r=="function"?r(i):r}function Lo(i){var r=ye();return xu(r,Kt,i)}function xu(i,r,l){var d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var p=i.baseQueue,b=d.pending;if(b!==null){if(p!==null){var V=p.next;p.next=b.next,b.next=V}r.baseQueue=p=b,d.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{r=p.next;var O=V=null,H=null,Z=r,it=!1;do{var st=Z.lane&-536870913;if(st!==Z.lane?(Nt&st)===st:(En&st)===st){var _=Z.revertLane;if(_===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),st===Ks&&(it=!0);else if((En&_)===_){Z=Z.next,_===Ks&&(it=!0);continue}else st={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(O=H=st,V=b):H=H.next=st,Dt.lanes|=_,Vn|=_;st=Z.action,us&&l(b,st),b=Z.hasEagerState?Z.eagerState:l(b,st)}else _={lane:st,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(O=H=_,V=b):H=H.next=_,Dt.lanes|=st,Vn|=st;Z=Z.next}while(Z!==null&&Z!==r);if(H===null?V=b:H.next=O,!ai(b,i.memoizedState)&&(De=!0,it&&(l=Qs,l!==null)))throw l;i.memoizedState=b,i.baseState=V,i.baseQueue=H,d.lastRenderedState=b}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function yu(i){var r=ye(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,b=r.memoizedState;if(p!==null){l.pending=null;var V=p=p.next;do b=i(b,V.action),V=V.next;while(V!==p);ai(b,r.memoizedState)||(De=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,d]}function h1(i,r,l){var d=Dt,p=ye(),b=kt;if(b){if(l===void 0)throw Error(s(407));l=l()}else l=r();var V=!ai((Kt||p).memoizedState,l);V&&(p.memoizedState=l,De=!0),p=p.queue;var O=m1.bind(null,d,p,i);if(oa(2048,8,O,[i]),p.getSnapshot!==r||V||xe!==null&&xe.memoizedState.tag&1){if(d.flags|=2048,Ws(9,zo(),d1.bind(null,d,p,l,r),null),te===null)throw Error(s(349));b||(En&124)!==0||f1(d,r,l)}return l}function f1(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Dt.updateQueue,r===null?(r=pu(),Dt.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function d1(i,r,l,d){r.value=l,r.getSnapshot=d,g1(r)&&A1(i)}function m1(i,r,l){return l(function(){g1(r)&&A1(i)})}function g1(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!ai(i,l)}catch{return!0}}function A1(i){var r=Ys(i,2);r!==null&&fi(r,i,2)}function bu(i){var r=Je();if(typeof i=="function"){var l=i;if(i=l(),us){xn(!0);try{l()}finally{xn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:i},r}function p1(i,r,l,d){return i.baseState=l,xu(i,Kt,typeof d=="function"?d:an)}function Rp(i,r,l,d,p){if(Po(i))throw Error(s(485));if(i=r.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){b.listeners.push(V)}};P.T!==null?l(!0):b.isTransition=!1,d(b),l=r.pending,l===null?(b.next=r.pending=b,v1(r,b)):(b.next=l.next,r.pending=l.next=b)}}function v1(i,r){var l=r.action,d=r.payload,p=i.state;if(r.isTransition){var b=P.T,V={};P.T=V;try{var O=l(p,d),H=P.S;H!==null&&H(V,O),x1(i,r,O)}catch(Z){wu(i,r,Z)}finally{P.T=b}}else try{b=l(p,d),x1(i,r,b)}catch(Z){wu(i,r,Z)}}function x1(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){y1(i,r,d)},function(d){return wu(i,r,d)}):y1(i,r,l)}function y1(i,r,l){r.status="fulfilled",r.value=l,b1(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,v1(i,l)))}function wu(i,r,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,b1(r),r=r.next;while(r!==d)}i.action=null}function b1(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function w1(i,r){return r}function C1(i,r){if(kt){var l=te.formState;if(l!==null){t:{var d=Dt;if(kt){if(ue){e:{for(var p=ue,b=ki;p.nodeType!==8;){if(!b){p=null;break e}if(p=Ii(p.nextSibling),p===null){p=null;break e}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){ue=Ii(p.nextSibling),d=p.data==="F!";break t}}as(d)}d=!1}d&&(r=l[0])}}return l=Je(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w1,lastRenderedState:r},l.queue=d,l=G1.bind(null,Dt,d),d.dispatch=l,d=bu(!1),b=Du.bind(null,Dt,!1,d.queue),d=Je(),p={state:r,dispatch:null,action:i,pending:null},d.queue=p,l=Rp.bind(null,Dt,p,b,l),p.dispatch=l,d.memoizedState=i,[r,l,!1]}function S1(i){var r=ye();return M1(r,Kt,i)}function M1(i,r,l){if(r=xu(i,r,w1)[0],i=Lo(an)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=aa(r)}catch(V){throw V===ta?Uo:V}else d=r;r=ye();var p=r.queue,b=p.dispatch;return l!==r.memoizedState&&(Dt.flags|=2048,Ws(9,zo(),Up.bind(null,p,l),null)),[d,b,i]}function Up(i,r){i.action=r}function E1(i){var r=ye(),l=Kt;if(l!==null)return M1(r,l,i);ye(),r=r.memoizedState,l=ye();var d=l.queue.dispatch;return l.memoizedState=i,[r,d,!1]}function Ws(i,r,l,d){return i={tag:i,create:l,deps:d,inst:r,next:null},r=Dt.updateQueue,r===null&&(r=pu(),Dt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,r.lastEffect=i),i}function zo(){return{destroy:void 0,resource:void 0}}function D1(){return ye().memoizedState}function ko(i,r,l,d){var p=Je();d=d===void 0?null:d,Dt.flags|=i,p.memoizedState=Ws(1|r,zo(),l,d)}function oa(i,r,l,d){var p=ye();d=d===void 0?null:d;var b=p.memoizedState.inst;Kt!==null&&d!==null&&fu(d,Kt.memoizedState.deps)?p.memoizedState=Ws(r,b,l,d):(Dt.flags|=i,p.memoizedState=Ws(1|r,b,l,d))}function T1(i,r){ko(8390656,8,i,r)}function B1(i,r){oa(2048,8,i,r)}function R1(i,r){return oa(4,2,i,r)}function U1(i,r){return oa(4,4,i,r)}function F1(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function V1(i,r,l){l=l!=null?l.concat([i]):null,oa(4,4,F1.bind(null,r,i),l)}function Cu(){}function I1(i,r){var l=ye();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&fu(r,d[1])?d[0]:(l.memoizedState=[i,r],i)}function N1(i,r){var l=ye();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&fu(r,d[1]))return d[0];if(d=i(),us){xn(!0);try{i()}finally{xn(!1)}}return l.memoizedState=[d,r],d}function Su(i,r,l){return l===void 0||(En&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=zd(),Dt.lanes|=i,Vn|=i,l)}function O1(i,r,l,d){return ai(l,r)?l:js.current!==null?(i=Su(i,l,d),ai(i,r)||(De=!0),i):(En&42)===0?(De=!0,i.memoizedState=l):(i=zd(),Dt.lanes|=i,Vn|=i,r)}function L1(i,r,l,d,p){var b=K.p;K.p=b!==0&&8>b?b:8;var V=P.T,O={};P.T=O,Du(i,!1,r,l);try{var H=p(),Z=P.S;if(Z!==null&&Z(O,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var it=Dp(H,d);la(i,r,it,hi(i))}else la(i,r,d,hi(i))}catch(st){la(i,r,{then:function(){},status:"rejected",reason:st},hi())}finally{K.p=b,P.T=V}}function Fp(){}function Mu(i,r,l,d){if(i.tag!==5)throw Error(s(476));var p=z1(i).queue;L1(i,p,r,J,l===null?Fp:function(){return k1(i),l(d)})}function z1(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:J},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function k1(i){var r=z1(i).next.queue;la(i,r,{},hi())}function Eu(){return Pe(Ea)}function P1(){return ye().memoizedState}function Y1(){return ye().memoizedState}function Vp(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=hi();i=Sn(l);var d=Mn(r,i,l);d!==null&&(fi(d,r,l),ia(d,r,l)),r={cache:iu()},i.payload=r;return}r=r.return}}function Ip(i,r,l){var d=hi();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Po(i)?H1(r,l):(l=Qc(i,r,l,d),l!==null&&(fi(l,i,d),q1(l,r,d)))}function G1(i,r,l){var d=hi();la(i,r,l,d)}function la(i,r,l,d){var p={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Po(i))H1(r,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var V=r.lastRenderedState,O=b(V,l);if(p.hasEagerState=!0,p.eagerState=O,ai(O,V))return Co(i,r,p,0),te===null&&wo(),!1}catch{}finally{}if(l=Qc(i,r,p,d),l!==null)return fi(l,i,d),q1(l,r,d),!0}return!1}function Du(i,r,l,d){if(d={lane:2,revertLane:rh(),action:d,hasEagerState:!1,eagerState:null,next:null},Po(i)){if(r)throw Error(s(479))}else r=Qc(i,l,d,2),r!==null&&fi(r,i,2)}function Po(i){var r=i.alternate;return i===Dt||r!==null&&r===Dt}function H1(i,r){Xs=Io=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function q1(i,r,l){if((l&4194048)!==0){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,_f(i,l)}}var Yo={readContext:Pe,use:Oo,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},K1={readContext:Pe,use:Oo,useCallback:function(i,r){return Je().memoizedState=[i,r===void 0?null:r],i},useContext:Pe,useEffect:T1,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,ko(4194308,4,F1.bind(null,r,i),l)},useLayoutEffect:function(i,r){return ko(4194308,4,i,r)},useInsertionEffect:function(i,r){ko(4,2,i,r)},useMemo:function(i,r){var l=Je();r=r===void 0?null:r;var d=i();if(us){xn(!0);try{i()}finally{xn(!1)}}return l.memoizedState=[d,r],d},useReducer:function(i,r,l){var d=Je();if(l!==void 0){var p=l(r);if(us){xn(!0);try{l(r)}finally{xn(!1)}}}else p=r;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=Ip.bind(null,Dt,i),[d.memoizedState,i]},useRef:function(i){var r=Je();return i={current:i},r.memoizedState=i},useState:function(i){i=bu(i);var r=i.queue,l=G1.bind(null,Dt,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Cu,useDeferredValue:function(i,r){var l=Je();return Su(l,i,r)},useTransition:function(){var i=bu(!1);return i=L1.bind(null,Dt,i.queue,!0,!1),Je().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var d=Dt,p=Je();if(kt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),te===null)throw Error(s(349));(Nt&124)!==0||f1(d,r,l)}p.memoizedState=l;var b={value:l,getSnapshot:r};return p.queue=b,T1(m1.bind(null,d,b,i),[i]),d.flags|=2048,Ws(9,zo(),d1.bind(null,d,b,l,r),null),l},useId:function(){var i=Je(),r=te.identifierPrefix;if(kt){var l=nn,d=en;l=(d&~(1<<32-ri(d)-1)).toString(32)+l,r="«"+r+"R"+l,l=No++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=Tp++,r="«"+r+"r"+l.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Eu,useFormState:C1,useActionState:C1,useOptimistic:function(i){var r=Je();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Du.bind(null,Dt,!0,l),l.dispatch=r,[i,r]},useMemoCache:vu,useCacheRefresh:function(){return Je().memoizedState=Vp.bind(null,Dt)}},Q1={readContext:Pe,use:Oo,useCallback:I1,useContext:Pe,useEffect:B1,useImperativeHandle:V1,useInsertionEffect:R1,useLayoutEffect:U1,useMemo:N1,useReducer:Lo,useRef:D1,useState:function(){return Lo(an)},useDebugValue:Cu,useDeferredValue:function(i,r){var l=ye();return O1(l,Kt.memoizedState,i,r)},useTransition:function(){var i=Lo(an)[0],r=ye().memoizedState;return[typeof i=="boolean"?i:aa(i),r]},useSyncExternalStore:h1,useId:P1,useHostTransitionStatus:Eu,useFormState:S1,useActionState:S1,useOptimistic:function(i,r){var l=ye();return p1(l,Kt,i,r)},useMemoCache:vu,useCacheRefresh:Y1},Np={readContext:Pe,use:Oo,useCallback:I1,useContext:Pe,useEffect:B1,useImperativeHandle:V1,useInsertionEffect:R1,useLayoutEffect:U1,useMemo:N1,useReducer:yu,useRef:D1,useState:function(){return yu(an)},useDebugValue:Cu,useDeferredValue:function(i,r){var l=ye();return Kt===null?Su(l,i,r):O1(l,Kt.memoizedState,i,r)},useTransition:function(){var i=yu(an)[0],r=ye().memoizedState;return[typeof i=="boolean"?i:aa(i),r]},useSyncExternalStore:h1,useId:P1,useHostTransitionStatus:Eu,useFormState:E1,useActionState:E1,useOptimistic:function(i,r){var l=ye();return Kt!==null?p1(l,Kt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:vu,useCacheRefresh:Y1},Js=null,ca=0;function Go(i){var r=ca;return ca+=1,Js===null&&(Js=[]),n1(Js,i,r)}function ua(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ho(i,r){throw r.$$typeof===g?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function j1(i){var r=i._init;return r(i._payload)}function X1(i){function r(j,Q){if(i){var X=j.deletions;X===null?(j.deletions=[Q],j.flags|=16):X.push(Q)}}function l(j,Q){if(!i)return null;for(;Q!==null;)r(j,Q),Q=Q.sibling;return null}function d(j){for(var Q=new Map;j!==null;)j.key!==null?Q.set(j.key,j):Q.set(j.index,j),j=j.sibling;return Q}function p(j,Q){return j=tn(j,Q),j.index=0,j.sibling=null,j}function b(j,Q,X){return j.index=X,i?(X=j.alternate,X!==null?(X=X.index,X<Q?(j.flags|=67108866,Q):X):(j.flags|=67108866,Q)):(j.flags|=1048576,Q)}function V(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function O(j,Q,X,nt){return Q===null||Q.tag!==6?(Q=Xc(X,j.mode,nt),Q.return=j,Q):(Q=p(Q,X),Q.return=j,Q)}function H(j,Q,X,nt){var gt=X.type;return gt===x?it(j,Q,X.props.children,nt,X.key):Q!==null&&(Q.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===U&&j1(gt)===Q.type)?(Q=p(Q,X.props),ua(Q,X),Q.return=j,Q):(Q=Mo(X.type,X.key,X.props,null,j.mode,nt),ua(Q,X),Q.return=j,Q)}function Z(j,Q,X,nt){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==X.containerInfo||Q.stateNode.implementation!==X.implementation?(Q=Zc(X,j.mode,nt),Q.return=j,Q):(Q=p(Q,X.children||[]),Q.return=j,Q)}function it(j,Q,X,nt,gt){return Q===null||Q.tag!==7?(Q=is(X,j.mode,nt,gt),Q.return=j,Q):(Q=p(Q,X),Q.return=j,Q)}function st(j,Q,X){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Xc(""+Q,j.mode,X),Q.return=j,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return X=Mo(Q.type,Q.key,Q.props,null,j.mode,X),ua(X,Q),X.return=j,X;case v:return Q=Zc(Q,j.mode,X),Q.return=j,Q;case U:var nt=Q._init;return Q=nt(Q._payload),st(j,Q,X)}if(q(Q)||F(Q))return Q=is(Q,j.mode,X,null),Q.return=j,Q;if(typeof Q.then=="function")return st(j,Go(Q),X);if(Q.$$typeof===D)return st(j,Bo(j,Q),X);Ho(j,Q)}return null}function _(j,Q,X,nt){var gt=Q!==null?Q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return gt!==null?null:O(j,Q,""+X,nt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return X.key===gt?H(j,Q,X,nt):null;case v:return X.key===gt?Z(j,Q,X,nt):null;case U:return gt=X._init,X=gt(X._payload),_(j,Q,X,nt)}if(q(X)||F(X))return gt!==null?null:it(j,Q,X,nt,null);if(typeof X.then=="function")return _(j,Q,Go(X),nt);if(X.$$typeof===D)return _(j,Q,Bo(j,X),nt);Ho(j,X)}return null}function $(j,Q,X,nt,gt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return j=j.get(X)||null,O(Q,j,""+nt,gt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case A:return j=j.get(nt.key===null?X:nt.key)||null,H(Q,j,nt,gt);case v:return j=j.get(nt.key===null?X:nt.key)||null,Z(Q,j,nt,gt);case U:var Tt=nt._init;return nt=Tt(nt._payload),$(j,Q,X,nt,gt)}if(q(nt)||F(nt))return j=j.get(X)||null,it(Q,j,nt,gt,null);if(typeof nt.then=="function")return $(j,Q,X,Go(nt),gt);if(nt.$$typeof===D)return $(j,Q,X,Bo(Q,nt),gt);Ho(Q,nt)}return null}function wt(j,Q,X,nt){for(var gt=null,Tt=null,vt=Q,bt=Q=0,Be=null;vt!==null&&bt<X.length;bt++){vt.index>bt?(Be=vt,vt=null):Be=vt.sibling;var Lt=_(j,vt,X[bt],nt);if(Lt===null){vt===null&&(vt=Be);break}i&&vt&&Lt.alternate===null&&r(j,vt),Q=b(Lt,Q,bt),Tt===null?gt=Lt:Tt.sibling=Lt,Tt=Lt,vt=Be}if(bt===X.length)return l(j,vt),kt&&ss(j,bt),gt;if(vt===null){for(;bt<X.length;bt++)vt=st(j,X[bt],nt),vt!==null&&(Q=b(vt,Q,bt),Tt===null?gt=vt:Tt.sibling=vt,Tt=vt);return kt&&ss(j,bt),gt}for(vt=d(vt);bt<X.length;bt++)Be=$(vt,j,bt,X[bt],nt),Be!==null&&(i&&Be.alternate!==null&&vt.delete(Be.key===null?bt:Be.key),Q=b(Be,Q,bt),Tt===null?gt=Be:Tt.sibling=Be,Tt=Be);return i&&vt.forEach(function(Gn){return r(j,Gn)}),kt&&ss(j,bt),gt}function xt(j,Q,X,nt){if(X==null)throw Error(s(151));for(var gt=null,Tt=null,vt=Q,bt=Q=0,Be=null,Lt=X.next();vt!==null&&!Lt.done;bt++,Lt=X.next()){vt.index>bt?(Be=vt,vt=null):Be=vt.sibling;var Gn=_(j,vt,Lt.value,nt);if(Gn===null){vt===null&&(vt=Be);break}i&&vt&&Gn.alternate===null&&r(j,vt),Q=b(Gn,Q,bt),Tt===null?gt=Gn:Tt.sibling=Gn,Tt=Gn,vt=Be}if(Lt.done)return l(j,vt),kt&&ss(j,bt),gt;if(vt===null){for(;!Lt.done;bt++,Lt=X.next())Lt=st(j,Lt.value,nt),Lt!==null&&(Q=b(Lt,Q,bt),Tt===null?gt=Lt:Tt.sibling=Lt,Tt=Lt);return kt&&ss(j,bt),gt}for(vt=d(vt);!Lt.done;bt++,Lt=X.next())Lt=$(vt,j,bt,Lt.value,nt),Lt!==null&&(i&&Lt.alternate!==null&&vt.delete(Lt.key===null?bt:Lt.key),Q=b(Lt,Q,bt),Tt===null?gt=Lt:Tt.sibling=Lt,Tt=Lt);return i&&vt.forEach(function(O5){return r(j,O5)}),kt&&ss(j,bt),gt}function jt(j,Q,X,nt){if(typeof X=="object"&&X!==null&&X.type===x&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case A:t:{for(var gt=X.key;Q!==null;){if(Q.key===gt){if(gt=X.type,gt===x){if(Q.tag===7){l(j,Q.sibling),nt=p(Q,X.props.children),nt.return=j,j=nt;break t}}else if(Q.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===U&&j1(gt)===Q.type){l(j,Q.sibling),nt=p(Q,X.props),ua(nt,X),nt.return=j,j=nt;break t}l(j,Q);break}else r(j,Q);Q=Q.sibling}X.type===x?(nt=is(X.props.children,j.mode,nt,X.key),nt.return=j,j=nt):(nt=Mo(X.type,X.key,X.props,null,j.mode,nt),ua(nt,X),nt.return=j,j=nt)}return V(j);case v:t:{for(gt=X.key;Q!==null;){if(Q.key===gt)if(Q.tag===4&&Q.stateNode.containerInfo===X.containerInfo&&Q.stateNode.implementation===X.implementation){l(j,Q.sibling),nt=p(Q,X.children||[]),nt.return=j,j=nt;break t}else{l(j,Q);break}else r(j,Q);Q=Q.sibling}nt=Zc(X,j.mode,nt),nt.return=j,j=nt}return V(j);case U:return gt=X._init,X=gt(X._payload),jt(j,Q,X,nt)}if(q(X))return wt(j,Q,X,nt);if(F(X)){if(gt=F(X),typeof gt!="function")throw Error(s(150));return X=gt.call(X),xt(j,Q,X,nt)}if(typeof X.then=="function")return jt(j,Q,Go(X),nt);if(X.$$typeof===D)return jt(j,Q,Bo(j,X),nt);Ho(j,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,Q!==null&&Q.tag===6?(l(j,Q.sibling),nt=p(Q,X),nt.return=j,j=nt):(l(j,Q),nt=Xc(X,j.mode,nt),nt.return=j,j=nt),V(j)):l(j,Q)}return function(j,Q,X,nt){try{ca=0;var gt=jt(j,Q,X,nt);return Js=null,gt}catch(vt){if(vt===ta||vt===Uo)throw vt;var Tt=oi(29,vt,null,j.mode);return Tt.lanes=nt,Tt.return=j,Tt}finally{}}}var _s=X1(!0),Z1=X1(!1),Si=tt(null),Pi=null;function Dn(i){var r=i.alternate;ot(Me,Me.current&1),ot(Si,i),Pi===null&&(r===null||js.current!==null||r.memoizedState!==null)&&(Pi=i)}function W1(i){if(i.tag===22){if(ot(Me,Me.current),ot(Si,i),Pi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Pi=i)}}else Tn()}function Tn(){ot(Me,Me.current),ot(Si,Si.current)}function on(i){at(Si),Pi===i&&(Pi=null),at(Me)}var Me=tt(0);function qo(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ph(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Tu(i,r,l,d){r=i.memoizedState,l=l(d,r),l=l==null?r:m({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Bu={enqueueSetState:function(i,r,l){i=i._reactInternals;var d=hi(),p=Sn(d);p.payload=r,l!=null&&(p.callback=l),r=Mn(i,p,d),r!==null&&(fi(r,i,d),ia(r,i,d))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var d=hi(),p=Sn(d);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=Mn(i,p,d),r!==null&&(fi(r,i,d),ia(r,i,d))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=hi(),d=Sn(l);d.tag=2,r!=null&&(d.callback=r),r=Mn(i,d,l),r!==null&&(fi(r,i,l),ia(r,i,l))}};function J1(i,r,l,d,p,b,V){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,V):r.prototype&&r.prototype.isPureReactComponent?!Qr(l,d)||!Qr(p,b):!0}function _1(i,r,l,d){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==i&&Bu.enqueueReplaceState(r,r.state,null)}function hs(i,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(i=i.defaultProps){l===r&&(l=m({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var Ko=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function $1(i){Ko(i)}function td(i){console.error(i)}function ed(i){Ko(i)}function Qo(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function id(i,r,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ru(i,r,l){return l=Sn(l),l.tag=3,l.payload={element:null},l.callback=function(){Qo(i,r)},l}function nd(i){return i=Sn(i),i.tag=3,i}function sd(i,r,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var b=d.value;i.payload=function(){return p(b)},i.callback=function(){id(r,l,d)}}var V=l.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(i.callback=function(){id(r,l,d),typeof p!="function"&&(In===null?In=new Set([this]):In.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function Op(i,r,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&Jr(r,l,p,!0),l=Si.current,l!==null){switch(l.tag){case 13:return Pi===null?th():l.alternate===null&&he===0&&(he=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===ru?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),ih(i,d,p)),!1;case 22:return l.flags|=65536,d===ru?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),ih(i,d,p)),!1}throw Error(s(435,l.tag))}return ih(i,d,p),th(),!1}if(kt)return r=Si.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,d!==_c&&(i=Error(s(422),{cause:d}),Wr(yi(i,l)))):(d!==_c&&(r=Error(s(423),{cause:d}),Wr(yi(r,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=yi(d,l),p=Ru(i.stateNode,d,p),lu(i,p),he!==4&&(he=2)),!1;var b=Error(s(520),{cause:d});if(b=yi(b,l),pa===null?pa=[b]:pa.push(b),he!==4&&(he=2),r===null)return!0;d=yi(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Ru(l.stateNode,d,i),lu(l,i),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(In===null||!In.has(b))))return l.flags|=65536,p&=-p,l.lanes|=p,p=nd(p),sd(p,i,l,d),lu(l,p),!1}l=l.return}while(l!==null);return!1}var rd=Error(s(461)),De=!1;function Ie(i,r,l,d){r.child=i===null?Z1(r,null,l,d):_s(r,i.child,l,d)}function ad(i,r,l,d,p){l=l.render;var b=r.ref;if("ref"in d){var V={};for(var O in d)O!=="ref"&&(V[O]=d[O])}else V=d;return ls(r),d=du(i,r,l,V,b,p),O=mu(),i!==null&&!De?(gu(i,r,p),ln(i,r,p)):(kt&&O&&Wc(r),r.flags|=1,Ie(i,r,d,p),r.child)}function od(i,r,l,d,p){if(i===null){var b=l.type;return typeof b=="function"&&!jc(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,ld(i,r,b,d,p)):(i=Mo(l.type,null,d,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(b=i.child,!zu(i,p)){var V=b.memoizedProps;if(l=l.compare,l=l!==null?l:Qr,l(V,d)&&i.ref===r.ref)return ln(i,r,p)}return r.flags|=1,i=tn(b,d),i.ref=r.ref,i.return=r,r.child=i}function ld(i,r,l,d,p){if(i!==null){var b=i.memoizedProps;if(Qr(b,d)&&i.ref===r.ref)if(De=!1,r.pendingProps=d=b,zu(i,p))(i.flags&131072)!==0&&(De=!0);else return r.lanes=i.lanes,ln(i,r,p)}return Uu(i,r,l,d,p)}function cd(i,r,l){var d=r.pendingProps,p=d.children,b=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=b!==null?b.baseLanes|l:l,i!==null){for(p=r.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;r.childLanes=b&~d}else r.childLanes=0,r.child=null;return ud(i,r,d,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ro(r,b!==null?b.cachePool:null),b!==null?l1(r,b):uu(),W1(r);else return r.lanes=r.childLanes=536870912,ud(i,r,b!==null?b.baseLanes|l:l,l)}else b!==null?(Ro(r,b.cachePool),l1(r,b),Tn(),r.memoizedState=null):(i!==null&&Ro(r,null),uu(),Tn());return Ie(i,r,p,l),r.child}function ud(i,r,l,d){var p=su();return p=p===null?null:{parent:Se._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},i!==null&&Ro(r,null),uu(),W1(r),i!==null&&Jr(i,r,d,!0),null}function jo(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Uu(i,r,l,d,p){return ls(r),l=du(i,r,l,d,void 0,p),d=mu(),i!==null&&!De?(gu(i,r,p),ln(i,r,p)):(kt&&d&&Wc(r),r.flags|=1,Ie(i,r,l,p),r.child)}function hd(i,r,l,d,p,b){return ls(r),r.updateQueue=null,l=u1(r,d,l,p),c1(i),d=mu(),i!==null&&!De?(gu(i,r,b),ln(i,r,b)):(kt&&d&&Wc(r),r.flags|=1,Ie(i,r,l,b),r.child)}function fd(i,r,l,d,p){if(ls(r),r.stateNode===null){var b=Gs,V=l.contextType;typeof V=="object"&&V!==null&&(b=Pe(V)),b=new l(d,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Bu,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=d,b.state=r.memoizedState,b.refs={},au(r),V=l.contextType,b.context=typeof V=="object"&&V!==null?Pe(V):Gs,b.state=r.memoizedState,V=l.getDerivedStateFromProps,typeof V=="function"&&(Tu(r,l,V,d),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(V=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),V!==b.state&&Bu.enqueueReplaceState(b,b.state,null),sa(r,d,b,p),na(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(i===null){b=r.stateNode;var O=r.memoizedProps,H=hs(l,O);b.props=H;var Z=b.context,it=l.contextType;V=Gs,typeof it=="object"&&it!==null&&(V=Pe(it));var st=l.getDerivedStateFromProps;it=typeof st=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=r.pendingProps!==O,it||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||Z!==V)&&_1(r,b,d,V),Cn=!1;var _=r.memoizedState;b.state=_,sa(r,d,b,p),na(),Z=r.memoizedState,O||_!==Z||Cn?(typeof st=="function"&&(Tu(r,l,st,d),Z=r.memoizedState),(H=Cn||J1(r,l,H,d,_,Z,V))?(it||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=Z),b.props=d,b.state=Z,b.context=V,d=H):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{b=r.stateNode,ou(i,r),V=r.memoizedProps,it=hs(l,V),b.props=it,st=r.pendingProps,_=b.context,Z=l.contextType,H=Gs,typeof Z=="object"&&Z!==null&&(H=Pe(Z)),O=l.getDerivedStateFromProps,(Z=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(V!==st||_!==H)&&_1(r,b,d,H),Cn=!1,_=r.memoizedState,b.state=_,sa(r,d,b,p),na();var $=r.memoizedState;V!==st||_!==$||Cn||i!==null&&i.dependencies!==null&&To(i.dependencies)?(typeof O=="function"&&(Tu(r,l,O,d),$=r.memoizedState),(it=Cn||J1(r,l,it,d,_,$,H)||i!==null&&i.dependencies!==null&&To(i.dependencies))?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,$,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,$,H)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||V===i.memoizedProps&&_===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&_===i.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=$),b.props=d,b.state=$,b.context=H,d=it):(typeof b.componentDidUpdate!="function"||V===i.memoizedProps&&_===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&_===i.memoizedState||(r.flags|=1024),d=!1)}return b=d,jo(i,r),d=(r.flags&128)!==0,b||d?(b=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,i!==null&&d?(r.child=_s(r,i.child,null,p),r.child=_s(r,null,l,p)):Ie(i,r,l,p),r.memoizedState=b.state,i=r.child):i=ln(i,r,p),i}function dd(i,r,l,d){return Zr(),r.flags|=256,Ie(i,r,l,d),r.child}var Fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vu(i){return{baseLanes:i,cachePool:t1()}}function Iu(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=Mi),i}function md(i,r,l){var d=r.pendingProps,p=!1,b=(r.flags&128)!==0,V;if((V=b)||(V=i!==null&&i.memoizedState===null?!1:(Me.current&2)!==0),V&&(p=!0,r.flags&=-129),V=(r.flags&32)!==0,r.flags&=-33,i===null){if(kt){if(p?Dn(r):Tn(),kt){var O=ue,H;if(H=O){t:{for(H=O,O=ki;H.nodeType!==8;){if(!O){O=null;break t}if(H=Ii(H.nextSibling),H===null){O=null;break t}}O=H}O!==null?(r.memoizedState={dehydrated:O,treeContext:ns!==null?{id:en,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},H=oi(18,null,null,0),H.stateNode=O,H.return=r,r.child=H,Ke=r,ue=null,H=!0):H=!1}H||as(r)}if(O=r.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return ph(O)?r.lanes=32:r.lanes=536870912,null;on(r)}return O=d.children,d=d.fallback,p?(Tn(),p=r.mode,O=Xo({mode:"hidden",children:O},p),d=is(d,p,l,null),O.return=r,d.return=r,O.sibling=d,r.child=O,p=r.child,p.memoizedState=Vu(l),p.childLanes=Iu(i,V,l),r.memoizedState=Fu,d):(Dn(r),Nu(r,O))}if(H=i.memoizedState,H!==null&&(O=H.dehydrated,O!==null)){if(b)r.flags&256?(Dn(r),r.flags&=-257,r=Ou(i,r,l)):r.memoizedState!==null?(Tn(),r.child=i.child,r.flags|=128,r=null):(Tn(),p=d.fallback,O=r.mode,d=Xo({mode:"visible",children:d.children},O),p=is(p,O,l,null),p.flags|=2,d.return=r,p.return=r,d.sibling=p,r.child=d,_s(r,i.child,null,l),d=r.child,d.memoizedState=Vu(l),d.childLanes=Iu(i,V,l),r.memoizedState=Fu,r=p);else if(Dn(r),ph(O)){if(V=O.nextSibling&&O.nextSibling.dataset,V)var Z=V.dgst;V=Z,d=Error(s(419)),d.stack="",d.digest=V,Wr({value:d,source:null,stack:null}),r=Ou(i,r,l)}else if(De||Jr(i,r,l,!1),V=(l&i.childLanes)!==0,De||V){if(V=te,V!==null&&(d=l&-l,d=(d&42)!==0?1:vc(d),d=(d&(V.suspendedLanes|l))!==0?0:d,d!==0&&d!==H.retryLane))throw H.retryLane=d,Ys(i,d),fi(V,i,d),rd;O.data==="$?"||th(),r=Ou(i,r,l)}else O.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=H.treeContext,ue=Ii(O.nextSibling),Ke=r,kt=!0,rs=null,ki=!1,i!==null&&(wi[Ci++]=en,wi[Ci++]=nn,wi[Ci++]=ns,en=i.id,nn=i.overflow,ns=r),r=Nu(r,d.children),r.flags|=4096);return r}return p?(Tn(),p=d.fallback,O=r.mode,H=i.child,Z=H.sibling,d=tn(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&65011712,Z!==null?p=tn(Z,p):(p=is(p,O,l,null),p.flags|=2),p.return=r,d.return=r,d.sibling=p,r.child=d,d=p,p=r.child,O=i.child.memoizedState,O===null?O=Vu(l):(H=O.cachePool,H!==null?(Z=Se._currentValue,H=H.parent!==Z?{parent:Z,pool:Z}:H):H=t1(),O={baseLanes:O.baseLanes|l,cachePool:H}),p.memoizedState=O,p.childLanes=Iu(i,V,l),r.memoizedState=Fu,d):(Dn(r),l=i.child,i=l.sibling,l=tn(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,i!==null&&(V=r.deletions,V===null?(r.deletions=[i],r.flags|=16):V.push(i)),r.child=l,r.memoizedState=null,l)}function Nu(i,r){return r=Xo({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Xo(i,r){return i=oi(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ou(i,r,l){return _s(r,i.child,null,l),i=Nu(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function gd(i,r,l){i.lanes|=r;var d=i.alternate;d!==null&&(d.lanes|=r),tu(i.return,r,l)}function Lu(i,r,l,d,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=l,b.tailMode=p)}function Ad(i,r,l){var d=r.pendingProps,p=d.revealOrder,b=d.tail;if(Ie(i,r,d.children,l),d=Me.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gd(i,l,r);else if(i.tag===19)gd(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(ot(Me,d),p){case"forwards":for(l=r.child,p=null;l!==null;)i=l.alternate,i!==null&&qo(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=r.child,r.child=null):(p=l.sibling,l.sibling=null),Lu(r,!1,p,l,b);break;case"backwards":for(l=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&qo(i)===null){r.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Lu(r,!0,l,null,b);break;case"together":Lu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ln(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Vn|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(Jr(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=tn(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=tn(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function zu(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&To(i)))}function Lp(i,r,l){switch(r.tag){case 3:Ft(r,r.stateNode.containerInfo),wn(r,Se,i.memoizedState.cache),Zr();break;case 27:case 5:ve(r);break;case 4:Ft(r,r.stateNode.containerInfo);break;case 10:wn(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Dn(r),r.flags|=128,null):(l&r.child.childLanes)!==0?md(i,r,l):(Dn(r),i=ln(i,r,l),i!==null?i.sibling:null);Dn(r);break;case 19:var p=(i.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(Jr(i,r,l,!1),d=(l&r.childLanes)!==0),p){if(d)return Ad(i,r,l);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ot(Me,Me.current),d)break;return null;case 22:case 23:return r.lanes=0,cd(i,r,l);case 24:wn(r,Se,i.memoizedState.cache)}return ln(i,r,l)}function pd(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)De=!0;else{if(!zu(i,l)&&(r.flags&128)===0)return De=!1,Lp(i,r,l);De=(i.flags&131072)!==0}else De=!1,kt&&(r.flags&1048576)!==0&&j0(r,Do,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var d=r.elementType,p=d._init;if(d=p(d._payload),r.type=d,typeof d=="function")jc(d)?(i=hs(d,i),r.tag=1,r=fd(null,r,d,i,l)):(r.tag=0,r=Uu(null,r,d,i,l));else{if(d!=null){if(p=d.$$typeof,p===M){r.tag=11,r=ad(null,r,d,i,l);break t}else if(p===B){r.tag=14,r=od(null,r,d,i,l);break t}}throw r=k(d)||d,Error(s(306,r,""))}}return r;case 0:return Uu(i,r,r.type,r.pendingProps,l);case 1:return d=r.type,p=hs(d,r.pendingProps),fd(i,r,d,p,l);case 3:t:{if(Ft(r,r.stateNode.containerInfo),i===null)throw Error(s(387));d=r.pendingProps;var b=r.memoizedState;p=b.element,ou(i,r),sa(r,d,null,l);var V=r.memoizedState;if(d=V.cache,wn(r,Se,d),d!==b.cache&&eu(r,[Se],l,!0),na(),d=V.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:V.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=dd(i,r,d,l);break t}else if(d!==p){p=yi(Error(s(424)),r),Wr(p),r=dd(i,r,d,l);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ue=Ii(i.firstChild),Ke=r,kt=!0,rs=null,ki=!0,l=Z1(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Zr(),d===p){r=ln(i,r,l);break t}Ie(i,r,d,l)}r=r.child}return r;case 26:return jo(i,r),i===null?(l=b2(r.type,null,r.pendingProps,null))?r.memoizedState=l:kt||(l=r.type,i=r.pendingProps,d=ll(dt.current).createElement(l),d[ke]=r,d[Ze]=i,Oe(d,l,i),Ee(d),r.stateNode=d):r.memoizedState=b2(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ve(r),i===null&&kt&&(d=r.stateNode=v2(r.type,r.pendingProps,dt.current),Ke=r,ki=!0,p=ue,Ln(r.type)?(vh=p,ue=Ii(d.firstChild)):ue=p),Ie(i,r,r.pendingProps.children,l),jo(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&kt&&((p=d=ue)&&(d=h5(d,r.type,r.pendingProps,ki),d!==null?(r.stateNode=d,Ke=r,ue=Ii(d.firstChild),ki=!1,p=!0):p=!1),p||as(r)),ve(r),p=r.type,b=r.pendingProps,V=i!==null?i.memoizedProps:null,d=b.children,mh(p,b)?d=null:V!==null&&mh(p,V)&&(r.flags|=32),r.memoizedState!==null&&(p=du(i,r,Bp,null,null,l),Ea._currentValue=p),jo(i,r),Ie(i,r,d,l),r.child;case 6:return i===null&&kt&&((i=l=ue)&&(l=f5(l,r.pendingProps,ki),l!==null?(r.stateNode=l,Ke=r,ue=null,i=!0):i=!1),i||as(r)),null;case 13:return md(i,r,l);case 4:return Ft(r,r.stateNode.containerInfo),d=r.pendingProps,i===null?r.child=_s(r,null,d,l):Ie(i,r,d,l),r.child;case 11:return ad(i,r,r.type,r.pendingProps,l);case 7:return Ie(i,r,r.pendingProps,l),r.child;case 8:return Ie(i,r,r.pendingProps.children,l),r.child;case 12:return Ie(i,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,wn(r,r.type,d.value),Ie(i,r,d.children,l),r.child;case 9:return p=r.type._context,d=r.pendingProps.children,ls(r),p=Pe(p),d=d(p),r.flags|=1,Ie(i,r,d,l),r.child;case 14:return od(i,r,r.type,r.pendingProps,l);case 15:return ld(i,r,r.type,r.pendingProps,l);case 19:return Ad(i,r,l);case 31:return d=r.pendingProps,l=r.mode,d={mode:d.mode,children:d.children},i===null?(l=Xo(d,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=tn(i.child,d),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return cd(i,r,l);case 24:return ls(r),d=Pe(Se),i===null?(p=su(),p===null&&(p=te,b=iu(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=l),p=b),r.memoizedState={parent:d,cache:p},au(r),wn(r,Se,p)):((i.lanes&l)!==0&&(ou(i,r),sa(r,null,null,l),na()),p=i.memoizedState,b=r.memoizedState,p.parent!==d?(p={parent:d,cache:d},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),wn(r,Se,d)):(d=b.cache,wn(r,Se,d),d!==p.cache&&eu(r,[Se],l,!0))),Ie(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function cn(i){i.flags|=4}function vd(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!E2(r)){if(r=Si.current,r!==null&&((Nt&4194048)===Nt?Pi!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||r!==Pi))throw ea=ru,e1;i.flags|=8192}}function Zo(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Wf():536870912,i.lanes|=r,ir|=r)}function ha(i,r){if(!kt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function ce(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(r)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,r}function zp(i,r,l){var d=r.pendingProps;switch(Jc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(r),null;case 1:return ce(r),null;case 3:return l=r.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),rn(Se),Ce(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Xr(r)?cn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,W0())),ce(r),null;case 26:return l=r.memoizedState,i===null?(cn(r),l!==null?(ce(r),vd(r,l)):(ce(r),r.flags&=-16777217)):l?l!==i.memoizedState?(cn(r),ce(r),vd(r,l)):(ce(r),r.flags&=-16777217):(i.memoizedProps!==d&&cn(r),ce(r),r.flags&=-16777217),null;case 27:se(r),l=dt.current;var p=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==d&&cn(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return ce(r),null}i=mt.current,Xr(r)?X0(r):(i=v2(p,d,l),r.stateNode=i,cn(r))}return ce(r),null;case 5:if(se(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&cn(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return ce(r),null}if(i=mt.current,Xr(r))X0(r);else{switch(p=ll(dt.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?p.createElement(l,{is:d.is}):p.createElement(l)}}i[ke]=r,i[Ze]=d;t:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break t;for(;p.sibling===null;){if(p.return===null||p.return===r)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=i;t:switch(Oe(i,l,d),l){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&cn(r)}}return ce(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==d&&cn(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(i=dt.current,Xr(r)){if(i=r.stateNode,l=r.memoizedProps,d=null,p=Ke,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[ke]=r,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||h2(i.nodeValue,l)),i||as(r)}else i=ll(i).createTextNode(d),i[ke]=r,r.stateNode=i}return ce(r),null;case 13:if(d=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Xr(r),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[ke]=r}else Zr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),p=!1}else p=W0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(on(r),r):(on(r),null)}if(on(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=d!==null,i=i!==null&&i.memoizedState!==null,l){d=r.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),Zo(r,r.updateQueue),ce(r),null;case 4:return Ce(),i===null&&ch(r.stateNode.containerInfo),ce(r),null;case 10:return rn(r.type),ce(r),null;case 19:if(at(Me),p=r.memoizedState,p===null)return ce(r),null;if(d=(r.flags&128)!==0,b=p.rendering,b===null)if(d)ha(p,!1);else{if(he!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(b=qo(i),b!==null){for(r.flags|=128,ha(p,!1),i=b.updateQueue,r.updateQueue=i,Zo(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)Q0(l,i),l=l.sibling;return ot(Me,Me.current&1|2),r.child}i=i.sibling}p.tail!==null&&Ve()>_o&&(r.flags|=128,d=!0,ha(p,!1),r.lanes=4194304)}else{if(!d)if(i=qo(b),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Zo(r,i),ha(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!kt)return ce(r),null}else 2*Ve()-p.renderingStartTime>_o&&l!==536870912&&(r.flags|=128,d=!0,ha(p,!1),r.lanes=4194304);p.isBackwards?(b.sibling=r.child,r.child=b):(i=p.last,i!==null?i.sibling=b:r.child=b,p.last=b)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ve(),r.sibling=null,i=Me.current,ot(Me,d?i&1|2:i&1),r):(ce(r),null);case 22:case 23:return on(r),hu(),d=r.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(ce(r),r.subtreeFlags&6&&(r.flags|=8192)):ce(r),l=r.updateQueue,l!==null&&Zo(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),i!==null&&at(cs),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rn(Se),ce(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function kp(i,r){switch(Jc(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return rn(Se),Ce(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return se(r),null;case 13:if(on(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return at(Me),null;case 4:return Ce(),null;case 10:return rn(r.type),null;case 22:case 23:return on(r),hu(),i!==null&&at(cs),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return rn(Se),null;case 25:return null;default:return null}}function xd(i,r){switch(Jc(r),r.tag){case 3:rn(Se),Ce();break;case 26:case 27:case 5:se(r);break;case 4:Ce();break;case 13:on(r);break;case 19:at(Me);break;case 10:rn(r.type);break;case 22:case 23:on(r),hu(),i!==null&&at(cs);break;case 24:rn(Se)}}function fa(i,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&i)===i){d=void 0;var b=l.create,V=l.inst;d=b(),V.destroy=d}l=l.next}while(l!==p)}}catch(O){Wt(r,r.return,O)}}function Bn(i,r,l){try{var d=r.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){var V=d.inst,O=V.destroy;if(O!==void 0){V.destroy=void 0,p=r;var H=l,Z=O;try{Z()}catch(it){Wt(p,H,it)}}}d=d.next}while(d!==b)}}catch(it){Wt(r,r.return,it)}}function yd(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{o1(r,l)}catch(d){Wt(i,i.return,d)}}}function bd(i,r,l){l.props=hs(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){Wt(i,r,d)}}function da(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(p){Wt(i,r,p)}}function Yi(i,r){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){Wt(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Wt(i,r,p)}else l.current=null}function wd(i){var r=i.type,l=i.memoizedProps,d=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break t;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(p){Wt(i,i.return,p)}}function ku(i,r,l){try{var d=i.stateNode;a5(d,i.type,l,r),d[Ze]=r}catch(p){Wt(i,i.return,p)}}function Cd(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ln(i.type)||i.tag===4}function Pu(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Cd(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ln(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Yu(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ol));else if(d!==4&&(d===27&&Ln(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Yu(i,r,l),i=i.sibling;i!==null;)Yu(i,r,l),i=i.sibling}function Wo(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(d!==4&&(d===27&&Ln(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Wo(i,r,l),i=i.sibling;i!==null;)Wo(i,r,l),i=i.sibling}function Sd(i){var r=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Oe(r,d,l),r[ke]=i,r[Ze]=l}catch(b){Wt(i,i.return,b)}}var un=!1,ge=!1,Gu=!1,Md=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Pp(i,r){if(i=i.containerInfo,fh=ml,i=O0(i),Pc(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break t}var V=0,O=-1,H=-1,Z=0,it=0,st=i,_=null;e:for(;;){for(var $;st!==l||p!==0&&st.nodeType!==3||(O=V+p),st!==b||d!==0&&st.nodeType!==3||(H=V+d),st.nodeType===3&&(V+=st.nodeValue.length),($=st.firstChild)!==null;)_=st,st=$;for(;;){if(st===i)break e;if(_===l&&++Z===p&&(O=V),_===b&&++it===d&&(H=V),($=st.nextSibling)!==null)break;st=_,_=st.parentNode}st=$}l=O===-1||H===-1?null:{start:O,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(dh={focusedElem:i,selectionRange:l},ml=!1,Te=r;Te!==null;)if(r=Te,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Te=i;else for(;Te!==null;){switch(r=Te,b=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=r,p=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var wt=hs(l.type,p,l.elementType===l.type);i=d.getSnapshotBeforeUpdate(wt,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(xt){Wt(l,l.return,xt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Ah(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ah(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Te=i;break}Te=r.return}}function Ed(i,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Rn(i,l),d&4&&fa(5,l);break;case 1:if(Rn(i,l),d&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(V){Wt(l,l.return,V)}else{var p=hs(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(V){Wt(l,l.return,V)}}d&64&&yd(l),d&512&&da(l,l.return);break;case 3:if(Rn(i,l),d&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{o1(i,r)}catch(V){Wt(l,l.return,V)}}break;case 27:r===null&&d&4&&Sd(l);case 26:case 5:Rn(i,l),r===null&&d&4&&wd(l),d&512&&da(l,l.return);break;case 12:Rn(i,l);break;case 13:Rn(i,l),d&4&&Bd(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Zp.bind(null,l),d5(i,l))));break;case 22:if(d=l.memoizedState!==null||un,!d){r=r!==null&&r.memoizedState!==null||ge,p=un;var b=ge;un=d,(ge=r)&&!b?Un(i,l,(l.subtreeFlags&8772)!==0):Rn(i,l),un=p,ge=b}break;case 30:break;default:Rn(i,l)}}function Dd(i){var r=i.alternate;r!==null&&(i.alternate=null,Dd(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&bc(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,_e=!1;function hn(i,r,l){for(l=l.child;l!==null;)Td(i,r,l),l=l.sibling}function Td(i,r,l){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Ir,l)}catch{}switch(l.tag){case 26:ge||Yi(l,r),hn(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ge||Yi(l,r);var d=re,p=_e;Ln(l.type)&&(re=l.stateNode,_e=!1),hn(i,r,l),wa(l.stateNode),re=d,_e=p;break;case 5:ge||Yi(l,r);case 6:if(d=re,p=_e,re=null,hn(i,r,l),re=d,_e=p,re!==null)if(_e)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(l.stateNode)}catch(b){Wt(l,r,b)}else try{re.removeChild(l.stateNode)}catch(b){Wt(l,r,b)}break;case 18:re!==null&&(_e?(i=re,A2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ra(i)):A2(re,l.stateNode));break;case 4:d=re,p=_e,re=l.stateNode.containerInfo,_e=!0,hn(i,r,l),re=d,_e=p;break;case 0:case 11:case 14:case 15:ge||Bn(2,l,r),ge||Bn(4,l,r),hn(i,r,l);break;case 1:ge||(Yi(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&bd(l,r,d)),hn(i,r,l);break;case 21:hn(i,r,l);break;case 22:ge=(d=ge)||l.memoizedState!==null,hn(i,r,l),ge=d;break;default:hn(i,r,l)}}function Bd(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ra(i)}catch(l){Wt(r,r.return,l)}}function Yp(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Md),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Md),r;default:throw Error(s(435,i.tag))}}function Hu(i,r){var l=Yp(i);r.forEach(function(d){var p=Wp.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}function li(i,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],b=i,V=r,O=V;t:for(;O!==null;){switch(O.tag){case 27:if(Ln(O.type)){re=O.stateNode,_e=!1;break t}break;case 5:re=O.stateNode,_e=!1;break t;case 3:case 4:re=O.stateNode.containerInfo,_e=!0;break t}O=O.return}if(re===null)throw Error(s(160));Td(b,V,p),re=null,_e=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Rd(r,i),r=r.sibling}var Vi=null;function Rd(i,r){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:li(r,i),ci(i),d&4&&(Bn(3,i,i.return),fa(3,i),Bn(5,i,i.return));break;case 1:li(r,i),ci(i),d&512&&(ge||l===null||Yi(l,l.return)),d&64&&un&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var p=Vi;if(li(r,i),ci(i),d&512&&(ge||l===null||Yi(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){t:{d=i.type,l=i.memoizedProps,p=p.ownerDocument||p;e:switch(d){case"title":b=p.getElementsByTagName("title")[0],(!b||b[Lr]||b[ke]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(d),p.head.insertBefore(b,p.querySelector("head > title"))),Oe(b,d,l),b[ke]=i,Ee(b),d=b;break t;case"link":var V=S2("link","href",p).get(d+(l.href||""));if(V){for(var O=0;O<V.length;O++)if(b=V[O],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){V.splice(O,1);break e}}b=p.createElement(d),Oe(b,d,l),p.head.appendChild(b);break;case"meta":if(V=S2("meta","content",p).get(d+(l.content||""))){for(O=0;O<V.length;O++)if(b=V[O],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){V.splice(O,1);break e}}b=p.createElement(d),Oe(b,d,l),p.head.appendChild(b);break;default:throw Error(s(468,d))}b[ke]=i,Ee(b),d=b}i.stateNode=d}else M2(p,i.type,i.stateNode);else i.stateNode=C2(p,d,i.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?M2(p,i.type,i.stateNode):C2(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&ku(i,i.memoizedProps,l.memoizedProps)}break;case 27:li(r,i),ci(i),d&512&&(ge||l===null||Yi(l,l.return)),l!==null&&d&4&&ku(i,i.memoizedProps,l.memoizedProps);break;case 5:if(li(r,i),ci(i),d&512&&(ge||l===null||Yi(l,l.return)),i.flags&32){p=i.stateNode;try{Is(p,"")}catch($){Wt(i,i.return,$)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,ku(i,p,l!==null?l.memoizedProps:p)),d&1024&&(Gu=!0);break;case 6:if(li(r,i),ci(i),d&4){if(i.stateNode===null)throw Error(s(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch($){Wt(i,i.return,$)}}break;case 3:if(hl=null,p=Vi,Vi=cl(r.containerInfo),li(r,i),Vi=p,ci(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ra(r.containerInfo)}catch($){Wt(i,i.return,$)}Gu&&(Gu=!1,Ud(i));break;case 4:d=Vi,Vi=cl(i.stateNode.containerInfo),li(r,i),ci(i),Vi=d;break;case 12:li(r,i),ci(i);break;case 13:li(r,i),ci(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Zu=Ve()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Hu(i,d)));break;case 22:p=i.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,Z=un,it=ge;if(un=Z||p,ge=it||H,li(r,i),ge=it,un=Z,ci(i),d&8192)t:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(l===null||H||un||ge||fs(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){H=l=r;try{if(b=H.stateNode,p)V=b.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{O=H.stateNode;var st=H.memoizedProps.style,_=st!=null&&st.hasOwnProperty("display")?st.display:null;O.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch($){Wt(H,H.return,$)}}}else if(r.tag===6){if(l===null){H=r;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch($){Wt(H,H.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Hu(i,l))));break;case 19:li(r,i),ci(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Hu(i,d)));break;case 30:break;case 21:break;default:li(r,i),ci(i)}}function ci(i){var r=i.flags;if(r&2){try{for(var l,d=i.return;d!==null;){if(Cd(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var p=l.stateNode,b=Pu(i);Wo(i,b,p);break;case 5:var V=l.stateNode;l.flags&32&&(Is(V,""),l.flags&=-33);var O=Pu(i);Wo(i,O,V);break;case 3:case 4:var H=l.stateNode.containerInfo,Z=Pu(i);Yu(i,Z,H);break;default:throw Error(s(161))}}catch(it){Wt(i,i.return,it)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Ud(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Ud(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Rn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ed(i,r.alternate,r),r=r.sibling}function fs(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Bn(4,r,r.return),fs(r);break;case 1:Yi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&bd(r,r.return,l),fs(r);break;case 27:wa(r.stateNode);case 26:case 5:Yi(r,r.return),fs(r);break;case 22:r.memoizedState===null&&fs(r);break;case 30:fs(r);break;default:fs(r)}i=i.sibling}}function Un(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,p=i,b=r,V=b.flags;switch(b.tag){case 0:case 11:case 15:Un(p,b,l),fa(4,b);break;case 1:if(Un(p,b,l),d=b,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){Wt(d,d.return,Z)}if(d=b,p=d.updateQueue,p!==null){var O=d.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)a1(H[p],O)}catch(Z){Wt(d,d.return,Z)}}l&&V&64&&yd(b),da(b,b.return);break;case 27:Sd(b);case 26:case 5:Un(p,b,l),l&&d===null&&V&4&&wd(b),da(b,b.return);break;case 12:Un(p,b,l);break;case 13:Un(p,b,l),l&&V&4&&Bd(p,b);break;case 22:b.memoizedState===null&&Un(p,b,l),da(b,b.return);break;case 30:break;default:Un(p,b,l)}r=r.sibling}}function qu(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&_r(l))}function Ku(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&_r(i))}function Gi(i,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fd(i,r,l,d),r=r.sibling}function Fd(i,r,l,d){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Gi(i,r,l,d),p&2048&&fa(9,r);break;case 1:Gi(i,r,l,d);break;case 3:Gi(i,r,l,d),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&_r(i)));break;case 12:if(p&2048){Gi(i,r,l,d),i=r.stateNode;try{var b=r.memoizedProps,V=b.id,O=b.onPostCommit;typeof O=="function"&&O(V,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Wt(r,r.return,H)}}else Gi(i,r,l,d);break;case 13:Gi(i,r,l,d);break;case 23:break;case 22:b=r.stateNode,V=r.alternate,r.memoizedState!==null?b._visibility&2?Gi(i,r,l,d):ma(i,r):b._visibility&2?Gi(i,r,l,d):(b._visibility|=2,$s(i,r,l,d,(r.subtreeFlags&10256)!==0)),p&2048&&qu(V,r);break;case 24:Gi(i,r,l,d),p&2048&&Ku(r.alternate,r);break;default:Gi(i,r,l,d)}}function $s(i,r,l,d,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var b=i,V=r,O=l,H=d,Z=V.flags;switch(V.tag){case 0:case 11:case 15:$s(b,V,O,H,p),fa(8,V);break;case 23:break;case 22:var it=V.stateNode;V.memoizedState!==null?it._visibility&2?$s(b,V,O,H,p):ma(b,V):(it._visibility|=2,$s(b,V,O,H,p)),p&&Z&2048&&qu(V.alternate,V);break;case 24:$s(b,V,O,H,p),p&&Z&2048&&Ku(V.alternate,V);break;default:$s(b,V,O,H,p)}r=r.sibling}}function ma(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,d=r,p=d.flags;switch(d.tag){case 22:ma(l,d),p&2048&&qu(d.alternate,d);break;case 24:ma(l,d),p&2048&&Ku(d.alternate,d);break;default:ma(l,d)}r=r.sibling}}var ga=8192;function tr(i){if(i.subtreeFlags&ga)for(i=i.child;i!==null;)Vd(i),i=i.sibling}function Vd(i){switch(i.tag){case 26:tr(i),i.flags&ga&&i.memoizedState!==null&&E5(Vi,i.memoizedState,i.memoizedProps);break;case 5:tr(i);break;case 3:case 4:var r=Vi;Vi=cl(i.stateNode.containerInfo),tr(i),Vi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=ga,ga=16777216,tr(i),ga=r):tr(i));break;default:tr(i)}}function Id(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Aa(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Te=d,Od(d,i)}Id(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Nd(i),i=i.sibling}function Nd(i){switch(i.tag){case 0:case 11:case 15:Aa(i),i.flags&2048&&Bn(9,i,i.return);break;case 3:Aa(i);break;case 12:Aa(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Jo(i)):Aa(i);break;default:Aa(i)}}function Jo(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Te=d,Od(d,i)}Id(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Bn(8,r,r.return),Jo(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Jo(r));break;default:Jo(r)}i=i.sibling}}function Od(i,r){for(;Te!==null;){var l=Te;switch(l.tag){case 0:case 11:case 15:Bn(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:_r(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Te=d;else t:for(l=i;Te!==null;){d=Te;var p=d.sibling,b=d.return;if(Dd(d),d===l){Te=null;break t}if(p!==null){p.return=b,Te=p;break t}Te=b}}}var Gp={getCacheForType:function(i){var r=Pe(Se),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},Hp=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Bt=null,Nt=0,qt=0,ui=null,Fn=!1,er=!1,Qu=!1,fn=0,he=0,Vn=0,ds=0,ju=0,Mi=0,ir=0,pa=null,$e=null,Xu=!1,Zu=0,_o=1/0,$o=null,In=null,Ne=0,Nn=null,nr=null,sr=0,Wu=0,Ju=null,Ld=null,va=0,_u=null;function hi(){if((Ht&2)!==0&&Nt!==0)return Nt&-Nt;if(P.T!==null){var i=Ks;return i!==0?i:rh()}return $f()}function zd(){Mi===0&&(Mi=(Nt&536870912)===0||kt?Zf():536870912);var i=Si.current;return i!==null&&(i.flags|=32),Mi}function fi(i,r,l){(i===te&&(qt===2||qt===9)||i.cancelPendingCommit!==null)&&(rr(i,0),On(i,Nt,Mi,!1)),Or(i,l),((Ht&2)===0||i!==te)&&(i===te&&((Ht&2)===0&&(ds|=l),he===4&&On(i,Nt,Mi,!1)),Hi(i))}function kd(i,r,l){if((Ht&6)!==0)throw Error(s(327));var d=!l&&(r&124)===0&&(r&i.expiredLanes)===0||Nr(i,r),p=d?Qp(i,r):eh(i,r,!0),b=d;do{if(p===0){er&&!d&&On(i,r,0,!1);break}else{if(l=i.current.alternate,b&&!qp(l)){p=eh(i,r,!1),b=!1;continue}if(p===2){if(b=r,i.errorRecoveryDisabledLanes&b)var V=0;else V=i.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){r=V;t:{var O=i;p=pa;var H=O.current.memoizedState.isDehydrated;if(H&&(rr(O,V).flags|=256),V=eh(O,V,!1),V!==2){if(Qu&&!H){O.errorRecoveryDisabledLanes|=b,ds|=b,p=4;break t}b=$e,$e=p,b!==null&&($e===null?$e=b:$e.push.apply($e,b))}p=V}if(b=!1,p!==2)continue}}if(p===1){rr(i,0),On(i,r,0,!0);break}t:{switch(d=i,b=p,b){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:On(d,r,Mi,!Fn);break t;case 2:$e=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=Zu+300-Ve(),10<p)){if(On(d,r,Mi,!Fn),co(d,0,!0)!==0)break t;d.timeoutHandle=m2(Pd.bind(null,d,l,$e,$o,Xu,r,Mi,ds,ir,Fn,b,2,-0,0),p);break t}Pd(d,l,$e,$o,Xu,r,Mi,ds,ir,Fn,b,0,-0,0)}}break}while(!0);Hi(i)}function Pd(i,r,l,d,p,b,V,O,H,Z,it,st,_,$){if(i.timeoutHandle=-1,st=r.subtreeFlags,(st&8192||(st&16785408)===16785408)&&(Ma={stylesheets:null,count:0,unsuspend:M5},Vd(r),st=D5(),st!==null)){i.cancelPendingCommit=st(jd.bind(null,i,r,b,l,d,p,V,O,H,it,1,_,$)),On(i,b,V,!Z);return}jd(i,r,b,l,d,p,V,O,H)}function qp(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],b=p.getSnapshot;p=p.value;try{if(!ai(b(),p))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function On(i,r,l,d){r&=~ju,r&=~ds,i.suspendedLanes|=r,i.pingedLanes&=~r,d&&(i.warmLanes|=r),d=i.expirationTimes;for(var p=r;0<p;){var b=31-ri(p),V=1<<b;d[b]=-1,p&=~V}l!==0&&Jf(i,l,r)}function tl(){return(Ht&6)===0?(xa(0),!1):!0}function $u(){if(Bt!==null){if(qt===0)var i=Bt.return;else i=Bt,sn=os=null,Au(i),Js=null,ca=0,i=Bt;for(;i!==null;)xd(i.alternate,i),i=i.return;Bt=null}}function rr(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,l5(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),$u(),te=i,Bt=l=tn(i.current,null),Nt=r,qt=0,ui=null,Fn=!1,er=Nr(i,r),Qu=!1,ir=Mi=ju=ds=Vn=he=0,$e=pa=null,Xu=!1,(r&8)!==0&&(r|=r&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=r;0<d;){var p=31-ri(d),b=1<<p;r|=i[p],d&=~b}return fn=r,wo(),l}function Yd(i,r){Dt=null,P.H=Yo,r===ta||r===Uo?(r=s1(),qt=3):r===e1?(r=s1(),qt=4):qt=r===rd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ui=r,Bt===null&&(he=1,Qo(i,yi(r,i.current)))}function Gd(){var i=P.H;return P.H=Yo,i===null?Yo:i}function Hd(){var i=P.A;return P.A=Gp,i}function th(){he=4,Fn||(Nt&4194048)!==Nt&&Si.current!==null||(er=!0),(Vn&134217727)===0&&(ds&134217727)===0||te===null||On(te,Nt,Mi,!1)}function eh(i,r,l){var d=Ht;Ht|=2;var p=Gd(),b=Hd();(te!==i||Nt!==r)&&($o=null,rr(i,r)),r=!1;var V=he;t:do try{if(qt!==0&&Bt!==null){var O=Bt,H=ui;switch(qt){case 8:$u(),V=6;break t;case 3:case 2:case 9:case 6:Si.current===null&&(r=!0);var Z=qt;if(qt=0,ui=null,ar(i,O,H,Z),l&&er){V=0;break t}break;default:Z=qt,qt=0,ui=null,ar(i,O,H,Z)}}Kp(),V=he;break}catch(it){Yd(i,it)}while(!0);return r&&i.shellSuspendCounter++,sn=os=null,Ht=d,P.H=p,P.A=b,Bt===null&&(te=null,Nt=0,wo()),V}function Kp(){for(;Bt!==null;)qd(Bt)}function Qp(i,r){var l=Ht;Ht|=2;var d=Gd(),p=Hd();te!==i||Nt!==r?($o=null,_o=Ve()+500,rr(i,r)):er=Nr(i,r);t:do try{if(qt!==0&&Bt!==null){r=Bt;var b=ui;e:switch(qt){case 1:qt=0,ui=null,ar(i,r,b,1);break;case 2:case 9:if(i1(b)){qt=0,ui=null,Kd(r);break}r=function(){qt!==2&&qt!==9||te!==i||(qt=7),Hi(i)},b.then(r,r);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:i1(b)?(qt=0,ui=null,Kd(r)):(qt=0,ui=null,ar(i,r,b,7));break;case 5:var V=null;switch(Bt.tag){case 26:V=Bt.memoizedState;case 5:case 27:var O=Bt;if(!V||E2(V)){qt=0,ui=null;var H=O.sibling;if(H!==null)Bt=H;else{var Z=O.return;Z!==null?(Bt=Z,el(Z)):Bt=null}break e}}qt=0,ui=null,ar(i,r,b,5);break;case 6:qt=0,ui=null,ar(i,r,b,6);break;case 8:$u(),he=6;break t;default:throw Error(s(462))}}jp();break}catch(it){Yd(i,it)}while(!0);return sn=os=null,P.H=d,P.A=p,Ht=l,Bt!==null?0:(te=null,Nt=0,wo(),he)}function jp(){for(;Bt!==null&&!ao();)qd(Bt)}function qd(i){var r=pd(i.alternate,i,fn);i.memoizedProps=i.pendingProps,r===null?el(i):Bt=r}function Kd(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=hd(l,r,r.pendingProps,r.type,void 0,Nt);break;case 11:r=hd(l,r,r.pendingProps,r.type.render,r.ref,Nt);break;case 5:Au(r);default:xd(l,r),r=Bt=Q0(r,fn),r=pd(l,r,fn)}i.memoizedProps=i.pendingProps,r===null?el(i):Bt=r}function ar(i,r,l,d){sn=os=null,Au(r),Js=null,ca=0;var p=r.return;try{if(Op(i,p,r,l,Nt)){he=1,Qo(i,yi(l,i.current)),Bt=null;return}}catch(b){if(p!==null)throw Bt=p,b;he=1,Qo(i,yi(l,i.current)),Bt=null;return}r.flags&32768?(kt||d===1?i=!0:er||(Nt&536870912)!==0?i=!1:(Fn=i=!0,(d===2||d===9||d===3||d===6)&&(d=Si.current,d!==null&&d.tag===13&&(d.flags|=16384))),Qd(r,i)):el(r)}function el(i){var r=i;do{if((r.flags&32768)!==0){Qd(r,Fn);return}i=r.return;var l=zp(r.alternate,r,fn);if(l!==null){Bt=l;return}if(r=r.sibling,r!==null){Bt=r;return}Bt=r=i}while(r!==null);he===0&&(he=5)}function Qd(i,r){do{var l=kp(i.alternate,i);if(l!==null){l.flags&=32767,Bt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){Bt=i;return}Bt=i=l}while(i!==null);he=6,Bt=null}function jd(i,r,l,d,p,b,V,O,H){i.cancelPendingCommit=null;do il();while(Ne!==0);if((Ht&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(b=r.lanes|r.childLanes,b|=Kc,MA(i,l,b,V,O,H),i===te&&(Bt=te=null,Nt=0),nr=r,Nn=i,sr=l,Wu=b,Ju=p,Ld=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Jp(Es,function(){return _d(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=P.T,P.T=null,p=K.p,K.p=2,V=Ht,Ht|=4;try{Pp(i,r,l)}finally{Ht=V,K.p=p,P.T=d}}Ne=1,Xd(),Zd(),Wd()}}function Xd(){if(Ne===1){Ne=0;var i=Nn,r=nr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=P.T,P.T=null;var d=K.p;K.p=2;var p=Ht;Ht|=4;try{Rd(r,i);var b=dh,V=O0(i.containerInfo),O=b.focusedElem,H=b.selectionRange;if(V!==O&&O&&O.ownerDocument&&N0(O.ownerDocument.documentElement,O)){if(H!==null&&Pc(O)){var Z=H.start,it=H.end;if(it===void 0&&(it=Z),"selectionStart"in O)O.selectionStart=Z,O.selectionEnd=Math.min(it,O.value.length);else{var st=O.ownerDocument||document,_=st&&st.defaultView||window;if(_.getSelection){var $=_.getSelection(),wt=O.textContent.length,xt=Math.min(H.start,wt),jt=H.end===void 0?xt:Math.min(H.end,wt);!$.extend&&xt>jt&&(V=jt,jt=xt,xt=V);var j=I0(O,xt),Q=I0(O,jt);if(j&&Q&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==Q.node||$.focusOffset!==Q.offset)){var X=st.createRange();X.setStart(j.node,j.offset),$.removeAllRanges(),xt>jt?($.addRange(X),$.extend(Q.node,Q.offset)):(X.setEnd(Q.node,Q.offset),$.addRange(X))}}}}for(st=[],$=O;$=$.parentNode;)$.nodeType===1&&st.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<st.length;O++){var nt=st[O];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}ml=!!fh,dh=fh=null}finally{Ht=p,K.p=d,P.T=l}}i.current=r,Ne=2}}function Zd(){if(Ne===2){Ne=0;var i=Nn,r=nr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=P.T,P.T=null;var d=K.p;K.p=2;var p=Ht;Ht|=4;try{Ed(i,r.alternate,r)}finally{Ht=p,K.p=d,P.T=l}}Ne=3}}function Wd(){if(Ne===4||Ne===3){Ne=0,Fr();var i=Nn,r=nr,l=sr,d=Ld;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ne=5:(Ne=0,nr=Nn=null,Jd(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(In=null),xc(l),r=r.stateNode,si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Ir,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=P.T,p=K.p,K.p=2,P.T=null;try{for(var b=i.onRecoverableError,V=0;V<d.length;V++){var O=d[V];b(O.value,{componentStack:O.stack})}}finally{P.T=r,K.p=p}}(sr&3)!==0&&il(),Hi(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===_u?va++:(va=0,_u=i):va=0,xa(0)}}function Jd(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,_r(r)))}function il(i){return Xd(),Zd(),Wd(),_d()}function _d(){if(Ne!==5)return!1;var i=Nn,r=Wu;Wu=0;var l=xc(sr),d=P.T,p=K.p;try{K.p=32>l?32:l,P.T=null,l=Ju,Ju=null;var b=Nn,V=sr;if(Ne=0,nr=Nn=null,sr=0,(Ht&6)!==0)throw Error(s(331));var O=Ht;if(Ht|=4,Nd(b.current),Fd(b,b.current,V,l),Ht=O,xa(0,!1),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Ir,b)}catch{}return!0}finally{K.p=p,P.T=d,Jd(i,r)}}function $d(i,r,l){r=yi(l,r),r=Ru(i.stateNode,r,2),i=Mn(i,r,2),i!==null&&(Or(i,2),Hi(i))}function Wt(i,r,l){if(i.tag===3)$d(i,i,l);else for(;r!==null;){if(r.tag===3){$d(r,i,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(In===null||!In.has(d))){i=yi(l,i),l=nd(2),d=Mn(r,l,2),d!==null&&(sd(l,d,r,i),Or(d,2),Hi(d));break}}r=r.return}}function ih(i,r,l){var d=i.pingCache;if(d===null){d=i.pingCache=new Hp;var p=new Set;d.set(r,p)}else p=d.get(r),p===void 0&&(p=new Set,d.set(r,p));p.has(l)||(Qu=!0,p.add(l),i=Xp.bind(null,i,r,l),r.then(i,i))}function Xp(i,r,l){var d=i.pingCache;d!==null&&d.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,te===i&&(Nt&l)===l&&(he===4||he===3&&(Nt&62914560)===Nt&&300>Ve()-Zu?(Ht&2)===0&&rr(i,0):ju|=l,ir===Nt&&(ir=0)),Hi(i)}function t2(i,r){r===0&&(r=Wf()),i=Ys(i,r),i!==null&&(Or(i,r),Hi(i))}function Zp(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),t2(i,l)}function Wp(i,r){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(r),t2(i,l)}function Jp(i,r){return Ui(i,r)}var nl=null,or=null,nh=!1,sl=!1,sh=!1,ms=0;function Hi(i){i!==or&&i.next===null&&(or===null?nl=or=i:or=or.next=i),sl=!0,nh||(nh=!0,$p())}function xa(i,r){if(!sh&&sl){sh=!0;do for(var l=!1,d=nl;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var b=0;else{var V=d.suspendedLanes,O=d.pingedLanes;b=(1<<31-ri(42|i)+1)-1,b&=p&~(V&~O),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,s2(d,b))}else b=Nt,b=co(d,d===te?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Nr(d,b)||(l=!0,s2(d,b));d=d.next}while(l);sh=!1}}function _p(){e2()}function e2(){sl=nh=!1;var i=0;ms!==0&&(o5()&&(i=ms),ms=0);for(var r=Ve(),l=null,d=nl;d!==null;){var p=d.next,b=i2(d,r);b===0?(d.next=null,l===null?nl=p:l.next=p,p===null&&(or=l)):(l=d,(i!==0||(b&3)!==0)&&(sl=!0)),d=p}xa(i)}function i2(i,r){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var V=31-ri(b),O=1<<V,H=p[V];H===-1?((O&l)===0||(O&d)!==0)&&(p[V]=SA(O,r)):H<=r&&(i.expiredLanes|=O),b&=~O}if(r=te,l=Nt,l=co(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===r&&(qt===2||qt===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&zi(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Nr(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(d!==null&&zi(d),xc(l)){case 2:case 8:l=Vr;break;case 32:l=Es;break;case 268435456:l=Xf;break;default:l=Es}return d=n2.bind(null,i),l=Ui(l,d),i.callbackPriority=r,i.callbackNode=l,r}return d!==null&&d!==null&&zi(d),i.callbackPriority=2,i.callbackNode=null,2}function n2(i,r){if(Ne!==0&&Ne!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(il()&&i.callbackNode!==l)return null;var d=Nt;return d=co(i,i===te?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(kd(i,d,r),i2(i,Ve()),i.callbackNode!=null&&i.callbackNode===l?n2.bind(null,i):null)}function s2(i,r){if(il())return null;kd(i,r,!0)}function $p(){c5(function(){(Ht&6)!==0?Ui(Ms,_p):e2()})}function rh(){return ms===0&&(ms=Zf()),ms}function r2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:go(""+i)}function a2(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function t5(i,r,l,d,p){if(r==="submit"&&l&&l.stateNode===p){var b=r2((p[Ze]||null).action),V=d.submitter;V&&(r=(r=V[Ze]||null)?r2(r.formAction):V.getAttribute("formAction"),r!==null&&(b=r,V=null));var O=new xo("action","action",null,d,p);i.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ms!==0){var H=V?a2(p,V):new FormData(p);Mu(l,{pending:!0,data:H,method:p.method,action:b},null,H)}}else typeof b=="function"&&(O.preventDefault(),H=V?a2(p,V):new FormData(p),Mu(l,{pending:!0,data:H,method:p.method,action:b},b,H))},currentTarget:p}]})}}for(var ah=0;ah<qc.length;ah++){var oh=qc[ah],e5=oh.toLowerCase(),i5=oh[0].toUpperCase()+oh.slice(1);Fi(e5,"on"+i5)}Fi(k0,"onAnimationEnd"),Fi(P0,"onAnimationIteration"),Fi(Y0,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(xp,"onTransitionRun"),Fi(yp,"onTransitionStart"),Fi(bp,"onTransitionCancel"),Fi(G0,"onTransitionEnd"),Us("onMouseEnter",["mouseout","mouseover"]),Us("onMouseLeave",["mouseout","mouseover"]),Us("onPointerEnter",["pointerout","pointerover"]),Us("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ya));function o2(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;t:{var b=void 0;if(r)for(var V=d.length-1;0<=V;V--){var O=d[V],H=O.instance,Z=O.currentTarget;if(O=O.listener,H!==b&&p.isPropagationStopped())break t;b=O,p.currentTarget=Z;try{b(p)}catch(it){Ko(it)}p.currentTarget=null,b=H}else for(V=0;V<d.length;V++){if(O=d[V],H=O.instance,Z=O.currentTarget,O=O.listener,H!==b&&p.isPropagationStopped())break t;b=O,p.currentTarget=Z;try{b(p)}catch(it){Ko(it)}p.currentTarget=null,b=H}}}}function Rt(i,r){var l=r[yc];l===void 0&&(l=r[yc]=new Set);var d=i+"__bubble";l.has(d)||(l2(r,i,2,!1),l.add(d))}function lh(i,r,l){var d=0;r&&(d|=4),l2(l,i,d,r)}var rl="_reactListening"+Math.random().toString(36).slice(2);function ch(i){if(!i[rl]){i[rl]=!0,e0.forEach(function(l){l!=="selectionchange"&&(n5.has(l)||lh(l,!1,i),lh(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[rl]||(r[rl]=!0,lh("selectionchange",!1,r))}}function l2(i,r,l,d){switch(F2(r)){case 2:var p=R5;break;case 8:p=U5;break;default:p=Ch}l=p.bind(null,r,l,i),p=void 0,!Uc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(r,l,{capture:!0,passive:p}):i.addEventListener(r,l,!0):p!==void 0?i.addEventListener(r,l,{passive:p}):i.addEventListener(r,l,!1)}function uh(i,r,l,d,p){var b=d;if((r&1)===0&&(r&2)===0&&d!==null)t:for(;;){if(d===null)return;var V=d.tag;if(V===3||V===4){var O=d.stateNode.containerInfo;if(O===p)break;if(V===4)for(V=d.return;V!==null;){var H=V.tag;if((H===3||H===4)&&V.stateNode.containerInfo===p)return;V=V.return}for(;O!==null;){if(V=Ts(O),V===null)return;if(H=V.tag,H===5||H===6||H===26||H===27){d=b=V;continue t}O=O.parentNode}}d=d.return}g0(function(){var Z=b,it=Bc(l),st=[];t:{var _=H0.get(i);if(_!==void 0){var $=xo,wt=i;switch(i){case"keypress":if(po(l)===0)break t;case"keydown":case"keyup":$=JA;break;case"focusin":wt="focus",$=Nc;break;case"focusout":wt="blur",$=Nc;break;case"beforeblur":case"afterblur":$=Nc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=v0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=kA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=tp;break;case k0:case P0:case Y0:$=GA;break;case G0:$=ip;break;case"scroll":case"scrollend":$=LA;break;case"wheel":$=sp;break;case"copy":case"cut":case"paste":$=qA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=y0;break;case"toggle":case"beforetoggle":$=ap}var xt=(r&4)!==0,jt=!xt&&(i==="scroll"||i==="scrollend"),j=xt?_!==null?_+"Capture":null:_;xt=[];for(var Q=Z,X;Q!==null;){var nt=Q;if(X=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||X===null||j===null||(nt=kr(Q,j),nt!=null&&xt.push(ba(Q,nt,X))),jt)break;Q=Q.return}0<xt.length&&(_=new $(_,wt,null,l,it),st.push({event:_,listeners:xt}))}}if((r&7)===0){t:{if(_=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",_&&l!==Tc&&(wt=l.relatedTarget||l.fromElement)&&(Ts(wt)||wt[Ds]))break t;if(($||_)&&(_=it.window===it?it:(_=it.ownerDocument)?_.defaultView||_.parentWindow:window,$?(wt=l.relatedTarget||l.toElement,$=Z,wt=wt?Ts(wt):null,wt!==null&&(jt=o(wt),xt=wt.tag,wt!==jt||xt!==5&&xt!==27&&xt!==6)&&(wt=null)):($=null,wt=Z),$!==wt)){if(xt=v0,nt="onMouseLeave",j="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(xt=y0,nt="onPointerLeave",j="onPointerEnter",Q="pointer"),jt=$==null?_:zr($),X=wt==null?_:zr(wt),_=new xt(nt,Q+"leave",$,l,it),_.target=jt,_.relatedTarget=X,nt=null,Ts(it)===Z&&(xt=new xt(j,Q+"enter",wt,l,it),xt.target=X,xt.relatedTarget=jt,nt=xt),jt=nt,$&&wt)e:{for(xt=$,j=wt,Q=0,X=xt;X;X=lr(X))Q++;for(X=0,nt=j;nt;nt=lr(nt))X++;for(;0<Q-X;)xt=lr(xt),Q--;for(;0<X-Q;)j=lr(j),X--;for(;Q--;){if(xt===j||j!==null&&xt===j.alternate)break e;xt=lr(xt),j=lr(j)}xt=null}else xt=null;$!==null&&c2(st,_,$,xt,!1),wt!==null&&jt!==null&&c2(st,jt,wt,xt,!0)}}t:{if(_=Z?zr(Z):window,$=_.nodeName&&_.nodeName.toLowerCase(),$==="select"||$==="input"&&_.type==="file")var gt=T0;else if(E0(_))if(B0)gt=Ap;else{gt=mp;var Tt=dp}else $=_.nodeName,!$||$.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?Z&&Dc(Z.elementType)&&(gt=T0):gt=gp;if(gt&&(gt=gt(i,Z))){D0(st,gt,l,it);break t}Tt&&Tt(i,_,Z),i==="focusout"&&Z&&_.type==="number"&&Z.memoizedProps.value!=null&&Ec(_,"number",_.value)}switch(Tt=Z?zr(Z):window,i){case"focusin":(E0(Tt)||Tt.contentEditable==="true")&&(zs=Tt,Yc=Z,jr=null);break;case"focusout":jr=Yc=zs=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,L0(st,l,it);break;case"selectionchange":if(vp)break;case"keydown":case"keyup":L0(st,l,it)}var vt;if(Lc)t:{switch(i){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Ls?S0(i,l)&&(bt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(bt="onCompositionStart");bt&&(b0&&l.locale!=="ko"&&(Ls||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Ls&&(vt=A0()):(bn=it,Fc="value"in bn?bn.value:bn.textContent,Ls=!0)),Tt=al(Z,bt),0<Tt.length&&(bt=new x0(bt,i,null,l,it),st.push({event:bt,listeners:Tt}),vt?bt.data=vt:(vt=M0(l),vt!==null&&(bt.data=vt)))),(vt=lp?cp(i,l):up(i,l))&&(bt=al(Z,"onBeforeInput"),0<bt.length&&(Tt=new x0("onBeforeInput","beforeinput",null,l,it),st.push({event:Tt,listeners:bt}),Tt.data=vt)),t5(st,i,Z,l,it)}o2(st,r)})}function ba(i,r,l){return{instance:i,listener:r,currentTarget:l}}function al(i,r){for(var l=r+"Capture",d=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=kr(i,l),p!=null&&d.unshift(ba(i,p,b)),p=kr(i,r),p!=null&&d.push(ba(i,p,b))),i.tag===3)return d;i=i.return}return[]}function lr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function c2(i,r,l,d,p){for(var b=r._reactName,V=[];l!==null&&l!==d;){var O=l,H=O.alternate,Z=O.stateNode;if(O=O.tag,H!==null&&H===d)break;O!==5&&O!==26&&O!==27||Z===null||(H=Z,p?(Z=kr(l,b),Z!=null&&V.unshift(ba(l,Z,H))):p||(Z=kr(l,b),Z!=null&&V.push(ba(l,Z,H)))),l=l.return}V.length!==0&&i.push({event:r,listeners:V})}var s5=/\r\n?/g,r5=/\u0000|\uFFFD/g;function u2(i){return(typeof i=="string"?i:""+i).replace(s5,`
`).replace(r5,"")}function h2(i,r){return r=u2(r),u2(i)===r}function ol(){}function Qt(i,r,l,d,p,b){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Is(i,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Is(i,""+d);break;case"className":ho(i,"class",d);break;case"tabIndex":ho(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ho(i,l,d);break;case"style":d0(i,d,b);break;case"data":if(r!=="object"){ho(i,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=go(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Qt(i,r,"name",p.name,p,null),Qt(i,r,"formEncType",p.formEncType,p,null),Qt(i,r,"formMethod",p.formMethod,p,null),Qt(i,r,"formTarget",p.formTarget,p,null)):(Qt(i,r,"encType",p.encType,p,null),Qt(i,r,"method",p.method,p,null),Qt(i,r,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=go(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=ol);break;case"onScroll":d!=null&&Rt("scroll",i);break;case"onScrollEnd":d!=null&&Rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=go(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":Rt("beforetoggle",i),Rt("toggle",i),uo(i,"popover",d);break;case"xlinkActuate":_i(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":_i(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":_i(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":_i(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":_i(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":_i(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":_i(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":_i(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":_i(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":uo(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=NA.get(l)||l,uo(i,l,d))}}function hh(i,r,l,d,p,b){switch(l){case"style":d0(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof d=="string"?Is(i,d):(typeof d=="number"||typeof d=="bigint")&&Is(i,""+d);break;case"onScroll":d!=null&&Rt("scroll",i);break;case"onScrollEnd":d!=null&&Rt("scrollend",i);break;case"onClick":d!=null&&(i.onclick=ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!i0.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),r=l.slice(2,p?l.length-7:void 0),b=i[Ze]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(r,b,p),typeof d=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,d,p);break t}l in i?i[l]=d:d===!0?i.setAttribute(l,""):uo(i,l,d)}}}function Oe(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",i),Rt("load",i);var d=!1,p=!1,b;for(b in l)if(l.hasOwnProperty(b)){var V=l[b];if(V!=null)switch(b){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qt(i,r,b,V,l,null)}}p&&Qt(i,r,"srcSet",l.srcSet,l,null),d&&Qt(i,r,"src",l.src,l,null);return;case"input":Rt("invalid",i);var O=b=V=p=null,H=null,Z=null;for(d in l)if(l.hasOwnProperty(d)){var it=l[d];if(it!=null)switch(d){case"name":p=it;break;case"type":V=it;break;case"checked":H=it;break;case"defaultChecked":Z=it;break;case"value":b=it;break;case"defaultValue":O=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,r));break;default:Qt(i,r,d,it,l,null)}}c0(i,b,O,H,Z,V,p,!1),fo(i);return;case"select":Rt("invalid",i),d=V=b=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":b=O;break;case"defaultValue":V=O;break;case"multiple":d=O;default:Qt(i,r,p,O,l,null)}r=b,l=V,i.multiple=!!d,r!=null?Vs(i,!!d,r,!1):l!=null&&Vs(i,!!d,l,!0);return;case"textarea":Rt("invalid",i),b=p=d=null;for(V in l)if(l.hasOwnProperty(V)&&(O=l[V],O!=null))switch(V){case"value":d=O;break;case"defaultValue":p=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:Qt(i,r,V,O,l,null)}h0(i,d,p,b),fo(i);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(d=l[H],d!=null))switch(H){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Qt(i,r,H,d,l,null)}return;case"dialog":Rt("beforetoggle",i),Rt("toggle",i),Rt("cancel",i),Rt("close",i);break;case"iframe":case"object":Rt("load",i);break;case"video":case"audio":for(d=0;d<ya.length;d++)Rt(ya[d],i);break;case"image":Rt("error",i),Rt("load",i);break;case"details":Rt("toggle",i);break;case"embed":case"source":case"link":Rt("error",i),Rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(d=l[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qt(i,r,Z,d,l,null)}return;default:if(Dc(r)){for(it in l)l.hasOwnProperty(it)&&(d=l[it],d!==void 0&&hh(i,r,it,d,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(d=l[O],d!=null&&Qt(i,r,O,d,l,null))}function a5(i,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,V=null,O=null,H=null,Z=null,it=null;for($ in l){var st=l[$];if(l.hasOwnProperty($)&&st!=null)switch($){case"checked":break;case"value":break;case"defaultValue":H=st;default:d.hasOwnProperty($)||Qt(i,r,$,null,d,st)}}for(var _ in d){var $=d[_];if(st=l[_],d.hasOwnProperty(_)&&($!=null||st!=null))switch(_){case"type":b=$;break;case"name":p=$;break;case"checked":Z=$;break;case"defaultChecked":it=$;break;case"value":V=$;break;case"defaultValue":O=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==st&&Qt(i,r,_,$,d,st)}}Mc(i,V,O,H,Z,it,b,p);return;case"select":$=V=O=_=null;for(b in l)if(H=l[b],l.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":$=H;default:d.hasOwnProperty(b)||Qt(i,r,b,null,d,H)}for(p in d)if(b=d[p],H=l[p],d.hasOwnProperty(p)&&(b!=null||H!=null))switch(p){case"value":_=b;break;case"defaultValue":O=b;break;case"multiple":V=b;default:b!==H&&Qt(i,r,p,b,d,H)}r=O,l=V,d=$,_!=null?Vs(i,!!l,_,!1):!!d!=!!l&&(r!=null?Vs(i,!!l,r,!0):Vs(i,!!l,l?[]:"",!1));return;case"textarea":$=_=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Qt(i,r,O,null,d,p)}for(V in d)if(p=d[V],b=l[V],d.hasOwnProperty(V)&&(p!=null||b!=null))switch(V){case"value":_=p;break;case"defaultValue":$=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==b&&Qt(i,r,V,p,d,b)}u0(i,_,$);return;case"option":for(var wt in l)if(_=l[wt],l.hasOwnProperty(wt)&&_!=null&&!d.hasOwnProperty(wt))switch(wt){case"selected":i.selected=!1;break;default:Qt(i,r,wt,null,d,_)}for(H in d)if(_=d[H],$=l[H],d.hasOwnProperty(H)&&_!==$&&(_!=null||$!=null))switch(H){case"selected":i.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Qt(i,r,H,_,d,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in l)_=l[xt],l.hasOwnProperty(xt)&&_!=null&&!d.hasOwnProperty(xt)&&Qt(i,r,xt,null,d,_);for(Z in d)if(_=d[Z],$=l[Z],d.hasOwnProperty(Z)&&_!==$&&(_!=null||$!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(137,r));break;default:Qt(i,r,Z,_,d,$)}return;default:if(Dc(r)){for(var jt in l)_=l[jt],l.hasOwnProperty(jt)&&_!==void 0&&!d.hasOwnProperty(jt)&&hh(i,r,jt,void 0,d,_);for(it in d)_=d[it],$=l[it],!d.hasOwnProperty(it)||_===$||_===void 0&&$===void 0||hh(i,r,it,_,d,$);return}}for(var j in l)_=l[j],l.hasOwnProperty(j)&&_!=null&&!d.hasOwnProperty(j)&&Qt(i,r,j,null,d,_);for(st in d)_=d[st],$=l[st],!d.hasOwnProperty(st)||_===$||_==null&&$==null||Qt(i,r,st,_,d,$)}var fh=null,dh=null;function ll(i){return i.nodeType===9?i:i.ownerDocument}function f2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d2(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function mh(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gh=null;function o5(){var i=window.event;return i&&i.type==="popstate"?i===gh?!1:(gh=i,!0):(gh=null,!1)}var m2=typeof setTimeout=="function"?setTimeout:void 0,l5=typeof clearTimeout=="function"?clearTimeout:void 0,g2=typeof Promise=="function"?Promise:void 0,c5=typeof queueMicrotask=="function"?queueMicrotask:typeof g2<"u"?function(i){return g2.resolve(null).then(i).catch(u5)}:m2;function u5(i){setTimeout(function(){throw i})}function Ln(i){return i==="head"}function A2(i,r){var l=r,d=0,p=0;do{var b=l.nextSibling;if(i.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<d&&8>d){l=d;var V=i.ownerDocument;if(l&1&&wa(V.documentElement),l&2&&wa(V.body),l&4)for(l=V.head,wa(l),V=l.firstChild;V;){var O=V.nextSibling,H=V.nodeName;V[Lr]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&V.rel.toLowerCase()==="stylesheet"||l.removeChild(V),V=O}}if(p===0){i.removeChild(b),Ra(r);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:d=l.charCodeAt(0)-48;else d=0;l=b}while(l);Ra(r)}function Ah(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ah(l),bc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function h5(i,r,l,d){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Lr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ii(i.nextSibling),i===null)break}return null}function f5(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ii(i.nextSibling),i===null))return null;return i}function ph(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function d5(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Ii(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var vh=null;function p2(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function v2(i,r,l){switch(r=ll(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function wa(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);bc(i)}var Ei=new Map,x2=new Set;function cl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var dn=K.d;K.d={f:m5,r:g5,D:A5,C:p5,L:v5,m:x5,X:b5,S:y5,M:w5};function m5(){var i=dn.f(),r=tl();return i||r}function g5(i){var r=Bs(i);r!==null&&r.tag===5&&r.type==="form"?k1(r):dn.r(i)}var cr=typeof document>"u"?null:document;function y2(i,r,l){var d=cr;if(d&&typeof r=="string"&&r){var p=xi(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),x2.has(p)||(x2.add(p),i={rel:i,crossOrigin:l,href:r},d.querySelector(p)===null&&(r=d.createElement("link"),Oe(r,"link",i),Ee(r),d.head.appendChild(r)))}}function A5(i){dn.D(i),y2("dns-prefetch",i,null)}function p5(i,r){dn.C(i,r),y2("preconnect",i,r)}function v5(i,r,l){dn.L(i,r,l);var d=cr;if(d&&i&&r){var p='link[rel="preload"][as="'+xi(r)+'"]';r==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+xi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+xi(l.imageSizes)+'"]')):p+='[href="'+xi(i)+'"]';var b=p;switch(r){case"style":b=ur(i);break;case"script":b=hr(i)}Ei.has(b)||(i=m({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Ei.set(b,i),d.querySelector(p)!==null||r==="style"&&d.querySelector(Ca(b))||r==="script"&&d.querySelector(Sa(b))||(r=d.createElement("link"),Oe(r,"link",i),Ee(r),d.head.appendChild(r)))}}function x5(i,r){dn.m(i,r);var l=cr;if(l&&i){var d=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+xi(d)+'"][href="'+xi(i)+'"]',b=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=hr(i)}if(!Ei.has(b)&&(i=m({rel:"modulepreload",href:i},r),Ei.set(b,i),l.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Sa(b)))return}d=l.createElement("link"),Oe(d,"link",i),Ee(d),l.head.appendChild(d)}}}function y5(i,r,l){dn.S(i,r,l);var d=cr;if(d&&i){var p=Rs(d).hoistableStyles,b=ur(i);r=r||"default";var V=p.get(b);if(!V){var O={loading:0,preload:null};if(V=d.querySelector(Ca(b)))O.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Ei.get(b))&&xh(i,l);var H=V=d.createElement("link");Ee(H),Oe(H,"link",i),H._p=new Promise(function(Z,it){H.onload=Z,H.onerror=it}),H.addEventListener("load",function(){O.loading|=1}),H.addEventListener("error",function(){O.loading|=2}),O.loading|=4,ul(V,r,d)}V={type:"stylesheet",instance:V,count:1,state:O},p.set(b,V)}}}function b5(i,r){dn.X(i,r);var l=cr;if(l&&i){var d=Rs(l).hoistableScripts,p=hr(i),b=d.get(p);b||(b=l.querySelector(Sa(p)),b||(i=m({src:i,async:!0},r),(r=Ei.get(p))&&yh(i,r),b=l.createElement("script"),Ee(b),Oe(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function w5(i,r){dn.M(i,r);var l=cr;if(l&&i){var d=Rs(l).hoistableScripts,p=hr(i),b=d.get(p);b||(b=l.querySelector(Sa(p)),b||(i=m({src:i,async:!0,type:"module"},r),(r=Ei.get(p))&&yh(i,r),b=l.createElement("script"),Ee(b),Oe(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function b2(i,r,l,d){var p=(p=dt.current)?cl(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=ur(l.href),l=Rs(p).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ur(l.href);var b=Rs(p).hoistableStyles,V=b.get(i);if(V||(p=p.ownerDocument||p,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,V),(b=p.querySelector(Ca(i)))&&!b._p&&(V.instance=b,V.state.loading=5),Ei.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ei.set(i,l),b||C5(p,i,l,V.state))),r&&d===null)throw Error(s(528,""));return V}if(r&&d!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=hr(l),l=Rs(p).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ur(i){return'href="'+xi(i)+'"'}function Ca(i){return'link[rel="stylesheet"]['+i+"]"}function w2(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function C5(i,r,l,d){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=i.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Oe(r,"link",l),Ee(r),i.head.appendChild(r))}function hr(i){return'[src="'+xi(i)+'"]'}function Sa(i){return"script[async]"+i}function C2(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=i.querySelector('style[data-href~="'+xi(l.href)+'"]');if(d)return r.instance=d,Ee(d),d;var p=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Ee(d),Oe(d,"style",p),ul(d,l.precedence,i),r.instance=d;case"stylesheet":p=ur(l.href);var b=i.querySelector(Ca(p));if(b)return r.state.loading|=4,r.instance=b,Ee(b),b;d=w2(l),(p=Ei.get(p))&&xh(d,p),b=(i.ownerDocument||i).createElement("link"),Ee(b);var V=b;return V._p=new Promise(function(O,H){V.onload=O,V.onerror=H}),Oe(b,"link",d),r.state.loading|=4,ul(b,l.precedence,i),r.instance=b;case"script":return b=hr(l.src),(p=i.querySelector(Sa(b)))?(r.instance=p,Ee(p),p):(d=l,(p=Ei.get(b))&&(d=m({},l),yh(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Ee(p),Oe(p,"link",d),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,ul(d,l.precedence,i));return r.instance}function ul(i,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,b=p,V=0;V<d.length;V++){var O=d[V];if(O.dataset.precedence===r)b=O;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function xh(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function yh(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var hl=null;function S2(i,r,l){if(hl===null){var d=new Map,p=hl=new Map;p.set(l,d)}else p=hl,d=p.get(l),d||(d=new Map,p.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var b=l[p];if(!(b[Lr]||b[ke]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var V=b.getAttribute(r)||"";V=i+V;var O=d.get(V);O?O.push(b):d.set(V,[b])}}return d}function M2(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function S5(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function E2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ma=null;function M5(){}function E5(i,r,l){if(Ma===null)throw Error(s(475));var d=Ma;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=ur(l.href),b=i.querySelector(Ca(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=fl.bind(d),i.then(d,d)),r.state.loading|=4,r.instance=b,Ee(b);return}b=i.ownerDocument||i,l=w2(l),(p=Ei.get(p))&&xh(l,p),b=b.createElement("link"),Ee(b);var V=b;V._p=new Promise(function(O,H){V.onload=O,V.onerror=H}),Oe(b,"link",l),r.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=fl.bind(d),i.addEventListener("load",r),i.addEventListener("error",r))}}function D5(){if(Ma===null)throw Error(s(475));var i=Ma;return i.stylesheets&&i.count===0&&bh(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&bh(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function fl(){if(this.count--,this.count===0){if(this.stylesheets)bh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var dl=null;function bh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,dl=new Map,r.forEach(T5,i),dl=null,fl.call(i))}function T5(i,r){if(!(r.state.loading&4)){var l=dl.get(i);if(l)var d=l.get(null);else{l=new Map,dl.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var V=p[b];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(l.set(V.dataset.precedence,V),d=V)}d&&l.set(null,d)}p=r.instance,V=p.getAttribute("data-precedence"),b=l.get(V)||d,b===d&&l.set(null,p),l.set(V,p),this.count++,d=fl.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var Ea={$$typeof:D,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function B5(i,r,l,d,p,b,V,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pc(0),this.hiddenUpdates=pc(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function D2(i,r,l,d,p,b,V,O,H,Z,it,st){return i=new B5(i,r,l,V,O,H,Z,st),r=1,b===!0&&(r|=24),b=oi(3,null,null,r),i.current=b,b.stateNode=i,r=iu(),r.refCount++,i.pooledCache=r,r.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:r},au(b),i}function T2(i){return i?(i=Gs,i):Gs}function B2(i,r,l,d,p,b){p=T2(p),d.context===null?d.context=p:d.pendingContext=p,d=Sn(r),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=Mn(i,d,r),l!==null&&(fi(l,i,r),ia(l,i,r))}function R2(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function wh(i,r){R2(i,r),(i=i.alternate)&&R2(i,r)}function U2(i){if(i.tag===13){var r=Ys(i,67108864);r!==null&&fi(r,i,67108864),wh(i,67108864)}}var ml=!0;function R5(i,r,l,d){var p=P.T;P.T=null;var b=K.p;try{K.p=2,Ch(i,r,l,d)}finally{K.p=b,P.T=p}}function U5(i,r,l,d){var p=P.T;P.T=null;var b=K.p;try{K.p=8,Ch(i,r,l,d)}finally{K.p=b,P.T=p}}function Ch(i,r,l,d){if(ml){var p=Sh(d);if(p===null)uh(i,r,d,gl,l),V2(i,d);else if(V5(p,i,r,l,d))d.stopPropagation();else if(V2(i,d),r&4&&-1<F5.indexOf(i)){for(;p!==null;){var b=Bs(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var V=Jn(b.pendingLanes);if(V!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;V;){var H=1<<31-ri(V);O.entanglements[1]|=H,V&=~H}Hi(b),(Ht&6)===0&&(_o=Ve()+500,xa(0))}}break;case 13:O=Ys(b,2),O!==null&&fi(O,b,2),tl(),wh(b,2)}if(b=Sh(d),b===null&&uh(i,r,d,gl,l),b===p)break;p=b}p!==null&&d.stopPropagation()}else uh(i,r,d,null,l)}}function Sh(i){return i=Bc(i),Mh(i)}var gl=null;function Mh(i){if(gl=null,i=Ts(i),i!==null){var r=o(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=c(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return gl=i,null}function F2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vn()){case Ms:return 2;case Vr:return 8;case Es:case Mt:return 32;case Xf:return 268435456;default:return 32}default:return 32}}var Eh=!1,zn=null,kn=null,Pn=null,Da=new Map,Ta=new Map,Yn=[],F5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V2(i,r){switch(i){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Da.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(r.pointerId)}}function Ba(i,r,l,d,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[p]},r!==null&&(r=Bs(r),r!==null&&U2(r)),i):(i.eventSystemFlags|=d,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function V5(i,r,l,d,p){switch(r){case"focusin":return zn=Ba(zn,i,r,l,d,p),!0;case"dragenter":return kn=Ba(kn,i,r,l,d,p),!0;case"mouseover":return Pn=Ba(Pn,i,r,l,d,p),!0;case"pointerover":var b=p.pointerId;return Da.set(b,Ba(Da.get(b)||null,i,r,l,d,p)),!0;case"gotpointercapture":return b=p.pointerId,Ta.set(b,Ba(Ta.get(b)||null,i,r,l,d,p)),!0}return!1}function I2(i){var r=Ts(i.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){i.blockedOn=r,EA(i.priority,function(){if(l.tag===13){var d=hi();d=vc(d);var p=Ys(l,d);p!==null&&fi(p,l,d),wh(l,d)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Al(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Sh(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Tc=d,l.target.dispatchEvent(d),Tc=null}else return r=Bs(l),r!==null&&U2(r),i.blockedOn=l,!1;r.shift()}return!0}function N2(i,r,l){Al(i)&&l.delete(r)}function I5(){Eh=!1,zn!==null&&Al(zn)&&(zn=null),kn!==null&&Al(kn)&&(kn=null),Pn!==null&&Al(Pn)&&(Pn=null),Da.forEach(N2),Ta.forEach(N2)}function pl(i,r){i.blockedOn===r&&(i.blockedOn=null,Eh||(Eh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,I5)))}var vl=null;function O2(i){vl!==i&&(vl=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vl===i&&(vl=null);for(var r=0;r<i.length;r+=3){var l=i[r],d=i[r+1],p=i[r+2];if(typeof d!="function"){if(Mh(d||l)===null)continue;break}var b=Bs(l);b!==null&&(i.splice(r,3),r-=3,Mu(b,{pending:!0,data:p,method:l.method,action:d},d,p))}}))}function Ra(i){function r(H){return pl(H,i)}zn!==null&&pl(zn,i),kn!==null&&pl(kn,i),Pn!==null&&pl(Pn,i),Da.forEach(r),Ta.forEach(r);for(var l=0;l<Yn.length;l++){var d=Yn[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Yn.length&&(l=Yn[0],l.blockedOn===null);)I2(l),l.blockedOn===null&&Yn.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var p=l[d],b=l[d+1],V=p[Ze]||null;if(typeof b=="function")V||O2(l);else if(V){var O=null;if(b&&b.hasAttribute("formAction")){if(p=b,V=b[Ze]||null)O=V.formAction;else if(Mh(p)!==null)continue}else O=V.action;typeof O=="function"?l[d+1]=O:(l.splice(d,3),d-=3),O2(l)}}}function Dh(i){this._internalRoot=i}xl.prototype.render=Dh.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,d=hi();B2(l,d,i,r,null,null)},xl.prototype.unmount=Dh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;B2(i.current,2,null,i,null,null),tl(),r[Ds]=null}};function xl(i){this._internalRoot=i}xl.prototype.unstable_scheduleHydration=function(i){if(i){var r=$f();i={blockedOn:null,target:i,priority:r};for(var l=0;l<Yn.length&&r!==0&&r<Yn[l].priority;l++);Yn.splice(l,0,i),l===0&&I2(i)}};var L2=e.version;if(L2!=="19.1.0")throw Error(s(527,L2,"19.1.0"));K.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=u(r),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var N5={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Ir=yl.inject(N5),si=yl}catch{}}return Fa.createRoot=function(i,r){if(!a(i))throw Error(s(299));var l=!1,d="",p=$1,b=td,V=ed,O=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(V=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(O=r.unstable_transitionCallbacks)),r=D2(i,1,!1,null,null,l,d,p,b,V,O,null),i[Ds]=r.current,ch(i),new Dh(r)},Fa.hydrateRoot=function(i,r,l){if(!a(i))throw Error(s(299));var d=!1,p="",b=$1,V=td,O=ed,H=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(V=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),r=D2(i,1,!0,r,l??null,d,p,b,V,O,H,Z),r.context=T2(null),l=r.current,d=hi(),d=vc(d),p=Sn(d),p.callback=null,Mn(l,p,d),l=d,r.current.lanes=l,Or(r,l),Hi(r),i[Ds]=r.current,ch(i),new xl(r)},Fa.version="19.1.0",Fa}var X2;function X5(){if(X2)return Rh.exports;X2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rh.exports=j5(),Rh.exports}var Z5=X5(),W5=1e-6,Fe=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function J5(){var t=new Fe(9);return Fe!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function ps(t,e,n,s,a,o,c,h,u){var f=new Fe(9);return f[0]=t,f[1]=e,f[2]=n,f[3]=s,f[4]=a,f[5]=o,f[6]=c,f[7]=h,f[8]=u,f}function og(t,e,n){var s=e[0],a=e[1],o=e[2],c=e[3],h=e[4],u=e[5],f=e[6],m=e[7],g=e[8],A=n[0],v=n[1],x=n[2],y=n[3],w=n[4],C=n[5],T=n[6],D=n[7],M=n[8];return t[0]=A*s+v*c+x*f,t[1]=A*a+v*h+x*m,t[2]=A*o+v*u+x*g,t[3]=y*s+w*c+C*f,t[4]=y*a+w*h+C*m,t[5]=y*o+w*u+C*g,t[6]=T*s+D*c+M*f,t[7]=T*a+D*h+M*m,t[8]=T*o+D*u+M*g,t}function Vt(){var t=new Fe(16);return Fe!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Ae(t){var e=new Fe(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function _5(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function mi(t,e,n,s,a,o,c,h,u,f,m,g,A,v,x,y){var w=new Fe(16);return w[0]=t,w[1]=e,w[2]=n,w[3]=s,w[4]=a,w[5]=o,w[6]=c,w[7]=h,w[8]=u,w[9]=f,w[10]=m,w[11]=g,w[12]=A,w[13]=v,w[14]=x,w[15]=y,w}function lg(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function di(t,e){if(t===e){var n=e[1],s=e[2],a=e[3],o=e[6],c=e[7],h=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=s,t[9]=o,t[11]=e[14],t[12]=a,t[13]=c,t[14]=h}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ii(t,e){var n=e[0],s=e[1],a=e[2],o=e[3],c=e[4],h=e[5],u=e[6],f=e[7],m=e[8],g=e[9],A=e[10],v=e[11],x=e[12],y=e[13],w=e[14],C=e[15],T=n*h-s*c,D=n*u-a*c,M=n*f-o*c,E=s*u-a*h,R=s*f-o*h,B=a*f-o*u,U=m*y-g*x,N=m*w-A*x,S=m*C-v*x,I=g*w-A*y,F=g*C-v*y,L=A*C-v*w,k=T*L-D*F+M*I+E*S-R*N+B*U;return k?(k=1/k,t[0]=(h*L-u*F+f*I)*k,t[1]=(a*F-s*L-o*I)*k,t[2]=(y*B-w*R+C*E)*k,t[3]=(A*R-g*B-v*E)*k,t[4]=(u*S-c*L-f*N)*k,t[5]=(n*L-a*S+o*N)*k,t[6]=(w*M-x*B-C*D)*k,t[7]=(m*B-A*M+v*D)*k,t[8]=(c*F-h*S+f*U)*k,t[9]=(s*S-n*F-o*U)*k,t[10]=(x*R-y*M+C*T)*k,t[11]=(g*M-m*R-v*T)*k,t[12]=(h*N-c*I-u*U)*k,t[13]=(n*I-s*N+a*U)*k,t[14]=(y*D-x*E-w*T)*k,t[15]=(m*E-g*D+A*T)*k,t):null}function Qn(t,e,n){var s=e[0],a=e[1],o=e[2],c=e[3],h=e[4],u=e[5],f=e[6],m=e[7],g=e[8],A=e[9],v=e[10],x=e[11],y=e[12],w=e[13],C=e[14],T=e[15],D=n[0],M=n[1],E=n[2],R=n[3];return t[0]=D*s+M*h+E*g+R*y,t[1]=D*a+M*u+E*A+R*w,t[2]=D*o+M*f+E*v+R*C,t[3]=D*c+M*m+E*x+R*T,D=n[4],M=n[5],E=n[6],R=n[7],t[4]=D*s+M*h+E*g+R*y,t[5]=D*a+M*u+E*A+R*w,t[6]=D*o+M*f+E*v+R*C,t[7]=D*c+M*m+E*x+R*T,D=n[8],M=n[9],E=n[10],R=n[11],t[8]=D*s+M*h+E*g+R*y,t[9]=D*a+M*u+E*A+R*w,t[10]=D*o+M*f+E*v+R*C,t[11]=D*c+M*m+E*x+R*T,D=n[12],M=n[13],E=n[14],R=n[15],t[12]=D*s+M*h+E*g+R*y,t[13]=D*a+M*u+E*A+R*w,t[14]=D*o+M*f+E*v+R*C,t[15]=D*c+M*m+E*x+R*T,t}function br(t,e,n){var s=n[0],a=n[1],o=n[2],c,h,u,f,m,g,A,v,x,y,w,C;return e===t?(t[12]=e[0]*s+e[4]*a+e[8]*o+e[12],t[13]=e[1]*s+e[5]*a+e[9]*o+e[13],t[14]=e[2]*s+e[6]*a+e[10]*o+e[14],t[15]=e[3]*s+e[7]*a+e[11]*o+e[15]):(c=e[0],h=e[1],u=e[2],f=e[3],m=e[4],g=e[5],A=e[6],v=e[7],x=e[8],y=e[9],w=e[10],C=e[11],t[0]=c,t[1]=h,t[2]=u,t[3]=f,t[4]=m,t[5]=g,t[6]=A,t[7]=v,t[8]=x,t[9]=y,t[10]=w,t[11]=C,t[12]=c*s+m*a+x*o+e[12],t[13]=h*s+g*a+y*o+e[13],t[14]=u*s+A*a+w*o+e[14],t[15]=f*s+v*a+C*o+e[15]),t}function Z2(t,e,n){var s=n[0],a=n[1],o=n[2];return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function bl(t,e,n){var s=Math.sin(n),a=Math.cos(n),o=e[4],c=e[5],h=e[6],u=e[7],f=e[8],m=e[9],g=e[10],A=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*a+f*s,t[5]=c*a+m*s,t[6]=h*a+g*s,t[7]=u*a+A*s,t[8]=f*a-o*s,t[9]=m*a-c*s,t[10]=g*a-h*s,t[11]=A*a-u*s,t}function wl(t,e,n){var s=Math.sin(n),a=Math.cos(n),o=e[0],c=e[1],h=e[2],u=e[3],f=e[4],m=e[5],g=e[6],A=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a+f*s,t[1]=c*a+m*s,t[2]=h*a+g*s,t[3]=u*a+A*s,t[4]=f*a-o*s,t[5]=m*a-c*s,t[6]=g*a-h*s,t[7]=A*a-u*s,t}function $5(t,e,n){var s=n[0],a=n[1],o=n[2],c=Math.hypot(s,a,o),h,u,f;return c<W5?null:(c=1/c,s*=c,a*=c,o*=c,h=Math.sin(e),u=Math.cos(e),f=1-u,t[0]=s*s*f+u,t[1]=a*s*f+o*h,t[2]=o*s*f-a*h,t[3]=0,t[4]=s*a*f-o*h,t[5]=a*a*f+u,t[6]=o*a*f+s*h,t[7]=0,t[8]=s*o*f+a*h,t[9]=a*o*f-s*h,t[10]=o*o*f+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function t4(t,e,n,s,a,o,c){var h=1/(e-n),u=1/(s-a),f=1/(o-c);return t[0]=-2*h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+n)*h,t[13]=(a+s)*u,t[14]=(c+o)*f,t[15]=1,t}var Cl=t4;function e4(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}var cg=Qn;function ee(){var t=new Fe(3);return Fe!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function qa(t){var e=new Fe(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function jn(t){var e=t[0],n=t[1],s=t[2];return Math.hypot(e,n,s)}function ut(t,e,n){var s=new Fe(3);return s[0]=t,s[1]=e,s[2]=n,s}function W2(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ys(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function le(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function yf(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function bf(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function i4(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function n4(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Bi(t,e){var n=e[0],s=e[1],a=e[2],o=n*n+s*s+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function s4(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Nl(t,e,n){var s=e[0],a=e[1],o=e[2],c=n[0],h=n[1],u=n[2];return t[0]=a*u-o*h,t[1]=o*c-s*u,t[2]=s*h-a*c,t}function r4(t,e,n,s){var a=e[0],o=e[1],c=e[2];return t[0]=a+s*(n[0]-a),t[1]=o+s*(n[1]-o),t[2]=c+s*(n[2]-c),t}function Ih(t,e){var n=t[0],s=t[1],a=t[2],o=e[0],c=e[1],h=e[2],u=Math.sqrt(n*n+s*s+a*a),f=Math.sqrt(o*o+c*c+h*h),m=u*f,g=m&&s4(t,e)/m;return Math.acos(Math.min(Math.max(g,-1),1))}var J2=le,Xa=jn;(function(){var t=ee();return function(e,n,s,a,o,c){var h,u;for(n||(n=3),s||(s=0),a?u=Math.min(a*n+s,e.length):u=e.length,h=s;h<u;h+=n)t[0]=e[h],t[1]=e[h+1],t[2]=e[h+2],o(t,t,c),e[h]=t[0],e[h+1]=t[1],e[h+2]=t[2];return e}})();function Wi(){var t=new Fe(4);return Fe!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function An(t){var e=new Fe(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function ie(t,e,n,s){var a=new Fe(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=s,a}function _2(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function a4(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function o4(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function ze(t,e,n){var s=e[0],a=e[1],o=e[2],c=e[3];return t[0]=n[0]*s+n[4]*a+n[8]*o+n[12]*c,t[1]=n[1]*s+n[5]*a+n[9]*o+n[13]*c,t[2]=n[2]*s+n[6]*a+n[10]*o+n[14]*c,t[3]=n[3]*s+n[7]*a+n[11]*o+n[15]*c,t}var l4=a4;(function(){var t=Wi();return function(e,n,s,a,o,c){var h,u;for(n||(n=4),s||(s=0),a?u=Math.min(a*n+s,e.length):u=e.length,h=s;h<u;h+=n)t[0]=e[h],t[1]=e[h+1],t[2]=e[h+2],t[3]=e[h+3],o(t,t,c),e[h]=t[0],e[h+1]=t[1],e[h+2]=t[2],e[h+3]=t[3];return e}})();function c4(){var t=new Fe(2);return Fe!=Float32Array&&(t[0]=0,t[1]=0),t}function $2(t,e){var n=new Fe(2);return n[0]=t,n[1]=e,n}function u4(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function tm(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function h4(t,e){var n=e[0],s=e[1],a=n*n+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t}(function(){var t=c4();return function(e,n,s,a,o,c){var h,u;for(n||(n=2),s||(s=0),a?u=Math.min(a*n+s,e.length):u=e.length,h=s;h<u;h+=n)t[0]=e[h],t[1]=e[h+1],o(t,t,c),e[h]=t[0],e[h+1]=t[1];return e}})();var vs=256,Ol=[],Sl;for(;vs--;)Ol[vs]=(vs+256).toString(16).substring(1);function nf(){var t=0,e,n="";if(!Sl||vs+16>256){for(Sl=Array(t=256);t--;)Sl[t]=256*Math.random()|0;t=vs=0}for(;t<16;t++)e=Sl[vs+t],t==6?n+=Ol[e&15|64]:t==8?n+=Ol[e&63|128]:n+=Ol[e],t&1&&t>1&&t<11&&(n+="-");return vs++,n}var Nh,em;function f4(){return em||(em=1,Nh=function(e,n){var s=e.length;if(e===n)return!0;if(s!==n.length)return!1;for(var a=0;a<s;a++)if(e[a]!==n[a])return!1;return!0}),Nh}var d4=f4();const m4=ag(d4),ug=-1,ec=0,Ka=1,Xl=2,wf=3,Cf=4,Sf=5,Mf=6,hg=7,fg=8,im=typeof self=="object"?self:globalThis,g4=(t,e)=>{const n=(a,o)=>(t.set(o,a),a),s=a=>{if(t.has(a))return t.get(a);const[o,c]=e[a];switch(o){case ec:case ug:return n(c,a);case Ka:{const h=n([],a);for(const u of c)h.push(s(u));return h}case Xl:{const h=n({},a);for(const[u,f]of c)h[s(u)]=s(f);return h}case wf:return n(new Date(c),a);case Cf:{const{source:h,flags:u}=c;return n(new RegExp(h,u),a)}case Sf:{const h=n(new Map,a);for(const[u,f]of c)h.set(s(u),s(f));return h}case Mf:{const h=n(new Set,a);for(const u of c)h.add(s(u));return h}case hg:{const{name:h,message:u}=c;return n(new im[h](u),a)}case fg:return n(BigInt(c),a);case"BigInt":return n(Object(BigInt(c)),a);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return n(new DataView(h),c)}}return n(new im[o](c),a)};return s},A4=t=>g4(new Map,t)(0),fr="",{toString:p4}={},{keys:v4}=Object,Va=t=>{const e=typeof t;if(e!=="object"||!t)return[ec,e];const n=p4.call(t).slice(8,-1);switch(n){case"Array":return[Ka,fr];case"Object":return[Xl,fr];case"Date":return[wf,fr];case"RegExp":return[Cf,fr];case"Map":return[Sf,fr];case"Set":return[Mf,fr];case"DataView":return[Ka,n]}return n.includes("Array")?[Ka,n]:n.includes("Error")?[hg,n]:[Xl,n]},Ml=([t,e])=>t===ec&&(e==="function"||e==="symbol"),x4=(t,e,n,s)=>{const a=(c,h)=>{const u=s.push(c)-1;return n.set(h,u),u},o=c=>{if(n.has(c))return n.get(c);let[h,u]=Va(c);switch(h){case ec:{let m=c;switch(u){case"bigint":h=fg,m=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);m=null;break;case"undefined":return a([ug],c)}return a([h,m],c)}case Ka:{if(u){let A=c;return u==="DataView"?A=new Uint8Array(c.buffer):u==="ArrayBuffer"&&(A=new Uint8Array(c)),a([u,[...A]],c)}const m=[],g=a([h,m],c);for(const A of c)m.push(o(A));return g}case Xl:{if(u)switch(u){case"BigInt":return a([u,c.toString()],c);case"Boolean":case"Number":case"String":return a([u,c.valueOf()],c)}if(e&&"toJSON"in c)return o(c.toJSON());const m=[],g=a([h,m],c);for(const A of v4(c))(t||!Ml(Va(c[A])))&&m.push([o(A),o(c[A])]);return g}case wf:return a([h,c.toISOString()],c);case Cf:{const{source:m,flags:g}=c;return a([h,{source:m,flags:g}],c)}case Sf:{const m=[],g=a([h,m],c);for(const[A,v]of c)(t||!(Ml(Va(A))||Ml(Va(v))))&&m.push([o(A),o(v)]);return g}case Mf:{const m=[],g=a([h,m],c);for(const A of c)(t||!Ml(Va(A)))&&m.push(o(A));return g}}const{message:f}=c;return a([h,{name:u,message:f}],c)};return o},y4=(t,{json:e,lossy:n}={})=>{const s=[];return x4(!(e||n),!!e,new Map,s)(t),s};var Ue=Uint8Array,Er=Uint16Array,b4=Int32Array,dg=new Ue([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mg=new Ue([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),w4=new Ue([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gg=function(t,e){for(var n=new Er(31),s=0;s<31;++s)n[s]=e+=1<<t[s-1];for(var a=new b4(n[30]),s=1;s<30;++s)for(var o=n[s];o<n[s+1];++o)a[o]=o-n[s]<<5|s;return{b:n,r:a}},Ag=gg(dg,2),pg=Ag.b,C4=Ag.r;pg[28]=258,C4[258]=28;var S4=gg(mg,0),M4=S4.b,sf=new Er(32768);for(var ne=0;ne<32768;++ne){var Hn=(ne&43690)>>1|(ne&21845)<<1;Hn=(Hn&52428)>>2|(Hn&13107)<<2,Hn=(Hn&61680)>>4|(Hn&3855)<<4,sf[ne]=((Hn&65280)>>8|(Hn&255)<<8)>>1}var Qa=function(t,e,n){for(var s=t.length,a=0,o=new Er(e);a<s;++a)t[a]&&++o[t[a]-1];var c=new Er(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var h;if(n){h=new Er(1<<e);var u=15-e;for(a=0;a<s;++a)if(t[a])for(var f=a<<4|t[a],m=e-t[a],g=c[t[a]-1]++<<m,A=g|(1<<m)-1;g<=A;++g)h[sf[g]>>u]=f}else for(h=new Er(s),a=0;a<s;++a)t[a]&&(h[a]=sf[c[t[a]-1]++]>>15-t[a]);return h},$a=new Ue(288);for(var ne=0;ne<144;++ne)$a[ne]=8;for(var ne=144;ne<256;++ne)$a[ne]=9;for(var ne=256;ne<280;++ne)$a[ne]=7;for(var ne=280;ne<288;++ne)$a[ne]=8;var vg=new Ue(32);for(var ne=0;ne<32;++ne)vg[ne]=5;var E4=Qa($a,9,1),D4=Qa(vg,5,1),Oh=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ni=function(t,e,n){var s=e/8|0;return(t[s]|t[s+1]<<8)>>(e&7)&n},Lh=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},xg=function(t){return(t+7)/8|0},Ll=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new Ue(t.subarray(e,n))},T4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Xe=function(t,e,n){var s=new Error(e||T4[t]);if(s.code=t,Error.captureStackTrace&&Error.captureStackTrace(s,Xe),!n)throw s;return s},ic=function(t,e,n,s){var a=t.length,o=0;if(!a||e.f&&!e.l)return n||new Ue(0);var c=!n,h=c||e.i!=2,u=e.i;c&&(n=new Ue(a*3));var f=function(se){var Zt=n.length;if(se>Zt){var Ui=new Ue(Math.max(Zt*2,se));Ui.set(n),n=Ui}},m=e.f||0,g=e.p||0,A=e.b||0,v=e.l,x=e.d,y=e.m,w=e.n,C=a*8;do{if(!v){m=Ni(t,g,1);var T=Ni(t,g+1,3);if(g+=3,T)if(T==1)v=E4,x=D4,y=9,w=5;else if(T==2){var R=Ni(t,g,31)+257,B=Ni(t,g+10,15)+4,U=R+Ni(t,g+5,31)+1;g+=14;for(var N=new Ue(U),S=new Ue(19),I=0;I<B;++I)S[w4[I]]=Ni(t,g+I*3,7);g+=B*3;for(var F=Oh(S),L=(1<<F)-1,k=Qa(S,F,1),I=0;I<U;){var q=k[Ni(t,g,L)];g+=q&15;var D=q>>4;if(D<16)N[I++]=D;else{var P=0,K=0;for(D==16?(K=3+Ni(t,g,3),g+=2,P=N[I-1]):D==17?(K=3+Ni(t,g,7),g+=3):D==18&&(K=11+Ni(t,g,127),g+=7);K--;)N[I++]=P}}var J=N.subarray(0,R),rt=N.subarray(R);y=Oh(J),w=Oh(rt),v=Qa(J,y,1),x=Qa(rt,w,1)}else Xe(1);else{var D=xg(g)+4,M=t[D-4]|t[D-3]<<8,E=D+M;if(E>a){u&&Xe(0);break}h&&f(A+M),n.set(t.subarray(D,E),A),e.b=A+=M,e.p=g=E*8,e.f=m;continue}if(g>C){u&&Xe(0);break}}h&&f(A+131072);for(var G=(1<<y)-1,tt=(1<<w)-1,at=g;;at=g){var P=v[Lh(t,g)&G],ot=P>>4;if(g+=P&15,g>C){u&&Xe(0);break}if(P||Xe(2),ot<256)n[A++]=ot;else if(ot==256){at=g,v=null;break}else{var mt=ot-254;if(ot>264){var I=ot-257,ft=dg[I];mt=Ni(t,g,(1<<ft)-1)+pg[I],g+=ft}var dt=x[Lh(t,g)&tt],Ut=dt>>4;dt||Xe(3),g+=dt&15;var rt=M4[Ut];if(Ut>3){var ft=mg[Ut];rt+=Lh(t,g)&(1<<ft)-1,g+=ft}if(g>C){u&&Xe(0);break}h&&f(A+131072);var Ft=A+mt;if(A<rt){var Ce=o-rt,ve=Math.min(rt,Ft);for(Ce+A<0&&Xe(3);A<ve;++A)n[A]=s[Ce+A]}for(;A<Ft;++A)n[A]=n[A-rt]}}e.l=v,e.p=at,e.b=A,e.f=m,v&&(m=1,e.m=y,e.d=x,e.n=w)}while(!m);return A!=n.length&&c?Ll(n,0,A):n.subarray(0,A)},B4=new Ue(0),yg=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&Xe(6,"invalid gzip data");var e=t[3],n=10;e&4&&(n+=(t[10]|t[11]<<8)+2);for(var s=(e>>3&1)+(e>>4&1);s>0;s-=!t[n++]);return n+(e&2)},R4=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},U4=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Xe(6,"invalid zlib data"),(t[1]>>5&1)==1&&Xe(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2},zh=function(){function t(e,n){typeof e=="function"&&(n=e,e={}),this.ondata=n;var s=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:s?s.length:0},this.o=new Ue(32768),this.p=new Ue(0),s&&this.o.set(s)}return t.prototype.e=function(e){if(this.ondata||Xe(5),this.d&&Xe(4),!this.p.length)this.p=e;else if(e.length){var n=new Ue(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length),this.p=n}},t.prototype.c=function(e){this.s.i=+(this.d=e||!1);var n=this.s.b,s=ic(this.p,this.s,this.o);this.ondata(Ll(s,n,this.s.b),this.d),this.o=Ll(s,this.s.b-32768),this.s.b=this.o.length,this.p=Ll(this.p,this.s.p/8|0),this.s.p&=7},t.prototype.push=function(e,n){this.e(e),this.c(n)},t}();function F4(t,e){return ic(t,{i:2},e,e)}var V4=function(){function t(e,n){this.v=1,this.r=0,zh.call(this,e,n)}return t.prototype.push=function(e,n){if(zh.prototype.e.call(this,e),this.r+=e.length,this.v){var s=this.p.subarray(this.v-1),a=s.length>3?yg(s):4;if(a>s.length){if(!n)return}else this.v>1&&this.onmember&&this.onmember(this.r-s.length);this.p=s.subarray(a),this.v=0}zh.prototype.c.call(this,n),this.s.f&&!this.s.l&&!n&&(this.v=xg(this.s.p)+9,this.s={i:0},this.o=new Ue(0),this.push(new Ue(0),n))},t}();function I4(t,e){var n=yg(t);return n+8>t.length&&Xe(6,"invalid gzip data"),ic(t.subarray(n,-8),{i:2},new Ue(R4(t)),e)}function N4(t,e){return ic(t.subarray(U4(t),-4),{i:2},e,e)}function O4(t,e){return t[0]==31&&t[1]==139&&t[2]==8?I4(t,e):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?F4(t,e):N4(t,e)}var L4=typeof TextDecoder<"u"&&new TextDecoder,z4=0;try{L4.decode(B4,{stream:!0}),z4=1}catch{}class bg{constructor(e,n,s,a){W(this,"esize");W(this,"ecode");W(this,"edata");W(this,"littleEndian");if(e%16!=0)throw new Error("This does not appear to be a NIFTI extension");this.esize=e,this.ecode=n,this.edata=s,this.littleEndian=a}toArrayBuffer(){let e=new Uint8Array(this.esize),n=new Uint8Array(this.edata);e.set(n,8);let s=new DataView(e.buffer);return s.setInt32(0,this.esize,this.littleEndian),s.setInt32(4,this.ecode,this.littleEndian),e.buffer}}const je=class je{static getStringAt(e,n,s){var a="",o,c;for(o=n;o<s;o+=1)c=e.getUint8(o),c!==0&&(a+=String.fromCharCode(c));return a}static getIntAt(e,n,s){return e.getInt32(n,s)}static getFloatAt(e,n,s){return e.getFloat32(n,s)}static getDoubleAt(e,n,s){return e.getFloat64(n,s)}static getInt64At(e,n,s){const a=e.getUint32(n,s),o=e.getInt32(n+4,s);let c;return s?c=o*2**32+a:c=a*2**32+o,o<0&&(c+=-1*2**32*2**32),c}static getUint64At(e,n,s){const a=e.getUint32(n+(s?0:4),s),o=e.getUint32(n+(s?4:0),s);return s?o*2**32+a:a*2**32+o}static getExtensionsAt(e,n,s,a){let o=[],c=n;for(;c<a;){let h=s,u=je.getIntAt(e,c,s);if(!u)break;if(u+c>a&&(h=!h,u=je.getIntAt(e,c,h),u+c>a))throw new Error("This does not appear to be a valid NIFTI extension");if(u%16!=0)throw new Error("This does not appear to be a NIFTI extension");let f=je.getIntAt(e,c+4,h),m=e.buffer.slice(c+8,c+u),g=new bg(u,f,m,h);o.push(g),c+=u}return o}static toArrayBuffer(e){var n,s,a;for(n=new ArrayBuffer(e.length),s=new Uint8Array(n),a=0;a<e.length;a+=1)s[a]=e[a];return n}static isString(e){return typeof e=="string"||e instanceof String}static formatNumber(e,n=void 0){let s;return je.isString(e)?s=Number(e):s=e,n?s=s.toPrecision(5):s=s.toPrecision(7),parseFloat(s)}static makeCRCTable(){let e,n=[];for(var s=0;s<256;s++){e=s;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;n[s]=e}return n}static crc32(e){je.crcTable||(je.crcTable=je.makeCRCTable());const n=je.crcTable;let s=-1;for(var a=0;a<e.byteLength;a++)s=s>>>8^n[(s^e.getUint8(a))&255];return(s^-1)>>>0}};W(je,"crcTable",null),W(je,"GUNZIP_MAGIC_COOKIE1",31),W(je,"GUNZIP_MAGIC_COOKIE2",139),W(je,"getByteAt",function(e,n){return e.getUint8(n)}),W(je,"getShortAt",function(e,n,s){return e.getInt16(n,s)});let lt=je;const ht=class ht{constructor(){W(this,"littleEndian",!1);W(this,"dim_info",0);W(this,"dims",[]);W(this,"intent_p1",0);W(this,"intent_p2",0);W(this,"intent_p3",0);W(this,"intent_code",0);W(this,"datatypeCode",0);W(this,"numBitsPerVoxel",0);W(this,"slice_start",0);W(this,"slice_end",0);W(this,"slice_code",0);W(this,"pixDims",[]);W(this,"vox_offset",0);W(this,"scl_slope",1);W(this,"scl_inter",0);W(this,"xyzt_units",0);W(this,"cal_max",0);W(this,"cal_min",0);W(this,"slice_duration",0);W(this,"toffset",0);W(this,"description","");W(this,"aux_file","");W(this,"intent_name","");W(this,"qform_code",0);W(this,"sform_code",0);W(this,"quatern_a",0);W(this,"quatern_b",0);W(this,"quatern_c",0);W(this,"quatern_d",0);W(this,"qoffset_x",0);W(this,"qoffset_y",0);W(this,"qoffset_z",0);W(this,"affine",[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);W(this,"qfac",1);W(this,"quatern_R");W(this,"magic","0");W(this,"isHDR",!1);W(this,"extensionFlag",[0,0,0,0]);W(this,"extensionSize",0);W(this,"extensionCode",0);W(this,"extensions",[]);W(this,"getDatatypeCodeString",function(e){return e===ht.TYPE_UINT8?"1-Byte Unsigned Integer":e===ht.TYPE_INT16?"2-Byte Signed Integer":e===ht.TYPE_INT32?"4-Byte Signed Integer":e===ht.TYPE_FLOAT32?"4-Byte Float":e===ht.TYPE_FLOAT64?"8-Byte Float":e===ht.TYPE_RGB24?"RGB":e===ht.TYPE_INT8?"1-Byte Signed Integer":e===ht.TYPE_UINT16?"2-Byte Unsigned Integer":e===ht.TYPE_UINT32?"4-Byte Unsigned Integer":e===ht.TYPE_INT64?"8-Byte Signed Integer":e===ht.TYPE_UINT64?"8-Byte Unsigned Integer":"Unknown"});W(this,"getTransformCodeString",function(e){return e===ht.XFORM_SCANNER_ANAT?"Scanner":e===ht.XFORM_ALIGNED_ANAT?"Aligned":e===ht.XFORM_TALAIRACH?"Talairach":e===ht.XFORM_MNI_152?"MNI":"Unknown"});W(this,"getUnitsCodeString",function(e){return e===ht.UNITS_METER?"Meters":e===ht.UNITS_MM?"Millimeters":e===ht.UNITS_MICRON?"Microns":e===ht.UNITS_SEC?"Seconds":e===ht.UNITS_MSEC?"Milliseconds":e===ht.UNITS_USEC?"Microseconds":e===ht.UNITS_HZ?"Hz":e===ht.UNITS_PPM?"PPM":e===ht.UNITS_RADS?"Rads":"Unknown"});W(this,"nifti_mat33_mul",function(e,n){var s=[[0,0,0],[0,0,0],[0,0,0]],a,o;for(a=0;a<3;a+=1)for(o=0;o<3;o+=1)s[a][o]=e[a][0]*n[0][o]+e[a][1]*n[1][o]+e[a][2]*n[2][o];return s});W(this,"nifti_mat33_determ",function(e){var n,s,a,o,c,h,u,f,m;return n=e[0][0],s=e[0][1],a=e[0][2],o=e[1][0],c=e[1][1],h=e[1][2],u=e[2][0],f=e[2][1],m=e[2][2],n*c*m-n*f*h-o*s*m+o*f*a+u*s*h-u*c*a})}readHeader(e){var n=new DataView(e),s=lt.getIntAt(n,0,this.littleEndian),a,o,c,h;if(s!==ht.MAGIC_COOKIE&&(this.littleEndian=!0,s=lt.getIntAt(n,0,this.littleEndian)),s!==ht.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.dim_info=lt.getByteAt(n,39),a=0;a<8;a+=1)h=40+a*2,this.dims[a]=lt.getShortAt(n,h,this.littleEndian);for(this.intent_p1=lt.getFloatAt(n,56,this.littleEndian),this.intent_p2=lt.getFloatAt(n,60,this.littleEndian),this.intent_p3=lt.getFloatAt(n,64,this.littleEndian),this.intent_code=lt.getShortAt(n,68,this.littleEndian),this.datatypeCode=lt.getShortAt(n,70,this.littleEndian),this.numBitsPerVoxel=lt.getShortAt(n,72,this.littleEndian),this.slice_start=lt.getShortAt(n,74,this.littleEndian),a=0;a<8;a+=1)h=76+a*4,this.pixDims[a]=lt.getFloatAt(n,h,this.littleEndian);if(this.vox_offset=lt.getFloatAt(n,108,this.littleEndian),this.scl_slope=lt.getFloatAt(n,112,this.littleEndian),this.scl_inter=lt.getFloatAt(n,116,this.littleEndian),this.slice_end=lt.getShortAt(n,120,this.littleEndian),this.slice_code=lt.getByteAt(n,122),this.xyzt_units=lt.getByteAt(n,123),this.cal_max=lt.getFloatAt(n,124,this.littleEndian),this.cal_min=lt.getFloatAt(n,128,this.littleEndian),this.slice_duration=lt.getFloatAt(n,132,this.littleEndian),this.toffset=lt.getFloatAt(n,136,this.littleEndian),this.description=lt.getStringAt(n,148,228),this.aux_file=lt.getStringAt(n,228,252),this.qform_code=lt.getShortAt(n,252,this.littleEndian),this.sform_code=lt.getShortAt(n,254,this.littleEndian),this.quatern_b=lt.getFloatAt(n,256,this.littleEndian),this.quatern_c=lt.getFloatAt(n,260,this.littleEndian),this.quatern_d=lt.getFloatAt(n,264,this.littleEndian),this.quatern_a=Math.sqrt(1-(Math.pow(this.quatern_b,2)+Math.pow(this.quatern_c,2)+Math.pow(this.quatern_d,2))),this.qoffset_x=lt.getFloatAt(n,268,this.littleEndian),this.qoffset_y=lt.getFloatAt(n,272,this.littleEndian),this.qoffset_z=lt.getFloatAt(n,276,this.littleEndian),this.qform_code<1&&this.sform_code<1&&(this.affine[0][0]=this.pixDims[1],this.affine[1][1]=this.pixDims[2],this.affine[2][2]=this.pixDims[3]),this.qform_code>0&&this.sform_code<this.qform_code){const u=this.quatern_a,f=this.quatern_b,m=this.quatern_c,g=this.quatern_d;for(this.qfac=this.pixDims[0]===0?1:this.pixDims[0],this.quatern_R=[[u*u+f*f-m*m-g*g,2*f*m-2*u*g,2*f*g+2*u*m],[2*f*m+2*u*g,u*u+m*m-f*f-g*g,2*m*g-2*u*f],[2*f*g-2*u*m,2*m*g+2*u*f,u*u+g*g-m*m-f*f]],o=0;o<3;o+=1)for(c=0;c<3;c+=1)this.affine[o][c]=this.quatern_R[o][c]*this.pixDims[c+1],c===2&&(this.affine[o][c]*=this.qfac);this.affine[0][3]=this.qoffset_x,this.affine[1][3]=this.qoffset_y,this.affine[2][3]=this.qoffset_z}else if(this.sform_code>0)for(o=0;o<3;o+=1)for(c=0;c<4;c+=1)h=280+(o*4+c)*4,this.affine[o][c]=lt.getFloatAt(n,h,this.littleEndian);if(this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.intent_name=lt.getStringAt(n,328,344),this.magic=lt.getStringAt(n,344,348),this.isHDR=this.magic===String.fromCharCode.apply(null,ht.MAGIC_NUMBER2),n.byteLength>ht.MAGIC_COOKIE){this.extensionFlag[0]=lt.getByteAt(n,348),this.extensionFlag[1]=lt.getByteAt(n,349),this.extensionFlag[2]=lt.getByteAt(n,350),this.extensionFlag[3]=lt.getByteAt(n,351);let u=!0;!this.isHDR&&this.vox_offset<=352&&(u=!1),n.byteLength<=368&&(u=!1),u&&this.extensionFlag[0]&&(this.extensions=lt.getExtensionsAt(n,this.getExtensionLocation(),this.littleEndian,this.vox_offset),this.extensionSize=this.extensions[0].esize,this.extensionCode=this.extensions[0].ecode)}}toFormattedString(){var e=lt.formatNumber,n="";return n+="Dim Info = "+this.dim_info+`
`,n+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+`
`,n+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+`
`,n+="Intent Code = "+this.intent_code+`
`,n+="Datatype = "+this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+`)
`,n+="Bits Per Voxel = "+this.numBitsPerVoxel+`
`,n+="Slice Start = "+this.slice_start+`
`,n+="Voxel Dimensions (1-8): "+e(this.pixDims[0])+", "+e(this.pixDims[1])+", "+e(this.pixDims[2])+", "+e(this.pixDims[3])+", "+e(this.pixDims[4])+", "+e(this.pixDims[5])+", "+e(this.pixDims[6])+", "+e(this.pixDims[7])+`
`,n+="Image Offset = "+this.vox_offset+`
`,n+="Data Scale:  Slope = "+e(this.scl_slope)+"  Intercept = "+e(this.scl_inter)+`
`,n+="Slice End = "+this.slice_end+`
`,n+="Slice Code = "+this.slice_code+`
`,n+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(ht.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(ht.TEMPORAL_UNITS_MASK&this.xyzt_units)+`)
`,n+="Display Range:  Max = "+e(this.cal_max)+"  Min = "+e(this.cal_min)+`
`,n+="Slice Duration = "+this.slice_duration+`
`,n+="Time Axis Shift = "+this.toffset+`
`,n+='Description: "'+this.description+`"
`,n+='Auxiliary File: "'+this.aux_file+`"
`,n+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+`)
`,n+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+`)
`,n+="Quaternion Parameters:  b = "+e(this.quatern_b)+"  c = "+e(this.quatern_c)+"  d = "+e(this.quatern_d)+`
`,n+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+`
`,n+="S-Form Parameters X: "+e(this.affine[0][0])+", "+e(this.affine[0][1])+", "+e(this.affine[0][2])+", "+e(this.affine[0][3])+`
`,n+="S-Form Parameters Y: "+e(this.affine[1][0])+", "+e(this.affine[1][1])+", "+e(this.affine[1][2])+", "+e(this.affine[1][3])+`
`,n+="S-Form Parameters Z: "+e(this.affine[2][0])+", "+e(this.affine[2][1])+", "+e(this.affine[2][2])+", "+e(this.affine[2][3])+`
`,n+='Intent Name: "'+this.intent_name+`"
`,this.extensionFlag[0]&&(n+="Extension: Size = "+this.extensionSize+"  Code = "+this.extensionCode+`
`),n}getQformMat(){return this.convertNiftiQFormToNiftiSForm(this.quatern_b,this.quatern_c,this.quatern_d,this.qoffset_x,this.qoffset_y,this.qoffset_z,this.pixDims[1],this.pixDims[2],this.pixDims[3],this.pixDims[0])}convertNiftiQFormToNiftiSForm(e,n,s,a,o,c,h,u,f,m){var g=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],A,v=e,x=n,y=s,w,C,T;return g[3][0]=g[3][1]=g[3][2]=0,g[3][3]=1,A=1-(v*v+x*x+y*y),A<1e-7?(A=1/Math.sqrt(v*v+x*x+y*y),v*=A,x*=A,y*=A,A=0):A=Math.sqrt(A),w=h>0?h:1,C=u>0?u:1,T=f>0?f:1,m<0&&(T=-T),g[0][0]=(A*A+v*v-x*x-y*y)*w,g[0][1]=2*(v*x-A*y)*C,g[0][2]=2*(v*y+A*x)*T,g[1][0]=2*(v*x+A*y)*w,g[1][1]=(A*A+x*x-v*v-y*y)*C,g[1][2]=2*(x*y-A*v)*T,g[2][0]=2*(v*y-A*x)*w,g[2][1]=2*(x*y+A*v)*C,g[2][2]=(A*A+y*y-x*x-v*v)*T,g[0][3]=a,g[1][3]=o,g[2][3]=c,g}convertNiftiSFormToNEMA(e){var n,s,a,o,c,h,u,f,m,g,A,v,x,y,w,C,T,D,M,E,R,B,U,N,S,I,F,L,k,q,P,K,J,rt;if(w=0,F=[[0,0,0],[0,0,0],[0,0,0]],L=[[0,0,0],[0,0,0],[0,0,0]],n=e[0][0],s=e[0][1],a=e[0][2],o=e[1][0],c=e[1][1],h=e[1][2],u=e[2][0],f=e[2][1],m=e[2][2],g=Math.sqrt(n*n+o*o+u*u),g===0||(n/=g,o/=g,u/=g,g=Math.sqrt(s*s+c*c+f*f),g===0))return null;if(s/=g,c/=g,f/=g,g=n*s+o*c+u*f,Math.abs(g)>1e-4){if(s-=g*n,c-=g*o,f-=g*u,g=Math.sqrt(s*s+c*c+f*f),g===0)return null;s/=g,c/=g,f/=g}if(g=Math.sqrt(a*a+h*h+m*m),g===0?(a=o*f-u*c,h=u*s-f*n,m=n*c-o*s):(a/=g,h/=g,m/=g),g=n*a+o*h+u*m,Math.abs(g)>1e-4){if(a-=g*n,h-=g*o,m-=g*u,g=Math.sqrt(a*a+h*h+m*m),g===0)return null;a/=g,h/=g,m/=g}if(g=s*a+c*h+f*m,Math.abs(g)>1e-4){if(a-=g*s,h-=g*c,m-=g*f,g=Math.sqrt(a*a+h*h+m*m),g===0)return null;a/=g,h/=g,m/=g}if(F[0][0]=n,F[0][1]=s,F[0][2]=a,F[1][0]=o,F[1][1]=c,F[1][2]=h,F[2][0]=u,F[2][1]=f,F[2][2]=m,A=this.nifti_mat33_determ(F),A===0)return null;for(I=-666,M=B=U=N=1,E=2,R=3,x=1;x<=3;x+=1)for(y=1;y<=3;y+=1)if(x!==y){for(w=1;w<=3;w+=1)if(!(x===w||y===w))for(L[0][0]=L[0][1]=L[0][2]=L[1][0]=L[1][1]=L[1][2]=L[2][0]=L[2][1]=L[2][2]=0,C=-1;C<=1;C+=2)for(T=-1;T<=1;T+=2)for(D=-1;D<=1;D+=2)L[0][x-1]=C,L[1][y-1]=T,L[2][w-1]=D,v=this.nifti_mat33_determ(L),v*A>0&&(S=this.nifti_mat33_mul(L,F),g=S[0][0]+S[1][1]+S[2][2],g>I&&(I=g,M=x,E=y,R=w,B=C,U=T,N=D))}switch(k=q=P=K=J=rt="",M*B){case 1:k="X",K="+";break;case-1:k="X",K="-";break;case 2:k="Y",K="+";break;case-2:k="Y",K="-";break;case 3:k="Z",K="+";break;case-3:k="Z",K="-";break}switch(E*U){case 1:q="X",J="+";break;case-1:q="X",J="-";break;case 2:q="Y",J="+";break;case-2:q="Y",J="-";break;case 3:q="Z",J="+";break;case-3:q="Z",J="-";break}switch(R*N){case 1:P="X",rt="+";break;case-1:P="X",rt="-";break;case 2:P="Y",rt="+";break;case-2:P="Y",rt="-";break;case 3:P="Z",rt="+";break;case-3:P="Z",rt="-";break}return k+q+P+K+J+rt}getExtensionLocation(){return ht.MAGIC_COOKIE+4}getExtensionSize(e){return lt.getIntAt(e,this.getExtensionLocation(),this.littleEndian)}getExtensionCode(e){return lt.getIntAt(e,this.getExtensionLocation()+4,this.littleEndian)}addExtension(e,n=-1){n==-1?this.extensions.push(e):this.extensions.splice(n,0,e),this.vox_offset+=e.esize}removeExtension(e){let n=this.extensions[e];n&&(this.vox_offset-=n.esize),this.extensions.splice(e,1)}toArrayBuffer(e=!1){let a=352;if(e)for(let u of this.extensions)a+=u.esize;let o=new Uint8Array(a),c=new DataView(o.buffer);c.setInt32(0,348,this.littleEndian),c.setUint8(39,this.dim_info);for(let u=0;u<8;u++)c.setUint16(40+2*u,this.dims[u],this.littleEndian);c.setFloat32(56,this.intent_p1,this.littleEndian),c.setFloat32(60,this.intent_p2,this.littleEndian),c.setFloat32(64,this.intent_p3,this.littleEndian),c.setInt16(68,this.intent_code,this.littleEndian),c.setInt16(70,this.datatypeCode,this.littleEndian),c.setInt16(72,this.numBitsPerVoxel,this.littleEndian),c.setInt16(74,this.slice_start,this.littleEndian);for(let u=0;u<8;u++)c.setFloat32(76+4*u,this.pixDims[u],this.littleEndian);c.setFloat32(108,this.vox_offset,this.littleEndian),c.setFloat32(112,this.scl_slope,this.littleEndian),c.setFloat32(116,this.scl_inter,this.littleEndian),c.setInt16(120,this.slice_end,this.littleEndian),c.setUint8(122,this.slice_code),c.setUint8(123,this.xyzt_units),c.setFloat32(124,this.cal_max,this.littleEndian),c.setFloat32(128,this.cal_min,this.littleEndian),c.setFloat32(132,this.slice_duration,this.littleEndian),c.setFloat32(136,this.toffset,this.littleEndian),o.set(new TextEncoder().encode(this.description),148),o.set(new TextEncoder().encode(this.aux_file),228),c.setInt16(252,this.qform_code,this.littleEndian),c.setInt16(254,this.sform_code,this.littleEndian),c.setFloat32(256,this.quatern_b,this.littleEndian),c.setFloat32(260,this.quatern_c,this.littleEndian),c.setFloat32(264,this.quatern_d,this.littleEndian),c.setFloat32(268,this.qoffset_x,this.littleEndian),c.setFloat32(272,this.qoffset_y,this.littleEndian),c.setFloat32(276,this.qoffset_z,this.littleEndian);const h=this.affine.flat();for(let u=0;u<12;u++)c.setFloat32(280+4*u,h[u],this.littleEndian);if(o.set(new TextEncoder().encode(this.intent_name),328),o.set(new TextEncoder().encode(this.magic),344),e){o.set(Uint8Array.from([1,0,0,0]),348);let u=this.getExtensionLocation();for(const f of this.extensions)c.setInt32(u,f.esize,f.littleEndian),c.setInt32(u+4,f.ecode,f.littleEndian),o.set(new Uint8Array(f.edata),u+8),u+=f.esize}else o.set(new Uint8Array(4).fill(0),348);return o.buffer}};W(ht,"TYPE_NONE",0),W(ht,"TYPE_BINARY",1),W(ht,"TYPE_UINT8",2),W(ht,"TYPE_INT16",4),W(ht,"TYPE_INT32",8),W(ht,"TYPE_FLOAT32",16),W(ht,"TYPE_COMPLEX64",32),W(ht,"TYPE_FLOAT64",64),W(ht,"TYPE_RGB24",128),W(ht,"TYPE_INT8",256),W(ht,"TYPE_UINT16",512),W(ht,"TYPE_UINT32",768),W(ht,"TYPE_INT64",1024),W(ht,"TYPE_UINT64",1280),W(ht,"TYPE_FLOAT128",1536),W(ht,"TYPE_COMPLEX128",1792),W(ht,"TYPE_COMPLEX256",2048),W(ht,"XFORM_UNKNOWN",0),W(ht,"XFORM_SCANNER_ANAT",1),W(ht,"XFORM_ALIGNED_ANAT",2),W(ht,"XFORM_TALAIRACH",3),W(ht,"XFORM_MNI_152",4),W(ht,"SPATIAL_UNITS_MASK",7),W(ht,"TEMPORAL_UNITS_MASK",56),W(ht,"UNITS_UNKNOWN",0),W(ht,"UNITS_METER",1),W(ht,"UNITS_MM",2),W(ht,"UNITS_MICRON",3),W(ht,"UNITS_SEC",8),W(ht,"UNITS_MSEC",16),W(ht,"UNITS_USEC",24),W(ht,"UNITS_HZ",32),W(ht,"UNITS_PPM",40),W(ht,"UNITS_RADS",48),W(ht,"MAGIC_COOKIE",348),W(ht,"STANDARD_HEADER_SIZE",348),W(ht,"MAGIC_NUMBER_LOCATION",344),W(ht,"MAGIC_NUMBER",[110,43,49]),W(ht,"MAGIC_NUMBER2",[110,105,49]),W(ht,"EXTENSION_HEADER_SIZE",8);let St=ht;const Qi=class Qi{constructor(){W(this,"littleEndian",!1);W(this,"dim_info",0);W(this,"dims",[]);W(this,"intent_p1",0);W(this,"intent_p2",0);W(this,"intent_p3",0);W(this,"intent_code",0);W(this,"datatypeCode",0);W(this,"numBitsPerVoxel",0);W(this,"slice_start",0);W(this,"slice_end",0);W(this,"slice_code",0);W(this,"pixDims",[]);W(this,"vox_offset",0);W(this,"scl_slope",1);W(this,"scl_inter",0);W(this,"xyzt_units",0);W(this,"cal_max",0);W(this,"cal_min",0);W(this,"slice_duration",0);W(this,"toffset",0);W(this,"description","");W(this,"aux_file","");W(this,"intent_name","");W(this,"qform_code",0);W(this,"sform_code",0);W(this,"quatern_b",0);W(this,"quatern_c",0);W(this,"quatern_d",0);W(this,"qoffset_x",0);W(this,"qoffset_y",0);W(this,"qoffset_z",0);W(this,"affine",[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);W(this,"magic","0");W(this,"extensionFlag",[0,0,0,0]);W(this,"extensions",[]);W(this,"extensionSize",0);W(this,"extensionCode",0);W(this,"getExtensionLocation",function(){return Qi.MAGIC_COOKIE+4});W(this,"getExtensionSize",St.prototype.getExtensionSize);W(this,"getExtensionCode",St.prototype.getExtensionCode);W(this,"addExtension",St.prototype.addExtension);W(this,"removeExtension",St.prototype.removeExtension);W(this,"getDatatypeCodeString",St.prototype.getDatatypeCodeString);W(this,"getTransformCodeString",St.prototype.getTransformCodeString);W(this,"getUnitsCodeString",St.prototype.getUnitsCodeString);W(this,"getQformMat",St.prototype.getQformMat);W(this,"convertNiftiQFormToNiftiSForm",St.prototype.convertNiftiQFormToNiftiSForm);W(this,"convertNiftiSFormToNEMA",St.prototype.convertNiftiSFormToNEMA);W(this,"nifti_mat33_mul",St.prototype.nifti_mat33_mul);W(this,"nifti_mat33_determ",St.prototype.nifti_mat33_determ)}readHeader(e){var n=new DataView(e),s=lt.getIntAt(n,0,this.littleEndian),a,o,c,h;if(s!==Qi.MAGIC_COOKIE&&(this.littleEndian=!0,s=lt.getIntAt(n,0,this.littleEndian)),s!==Qi.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.magic=lt.getStringAt(n,4,12),this.datatypeCode=lt.getShortAt(n,12,this.littleEndian),this.numBitsPerVoxel=lt.getShortAt(n,14,this.littleEndian),a=0;a<8;a+=1)h=16+a*8,this.dims[a]=lt.getInt64At(n,h,this.littleEndian);for(this.intent_p1=lt.getDoubleAt(n,80,this.littleEndian),this.intent_p2=lt.getDoubleAt(n,88,this.littleEndian),this.intent_p3=lt.getDoubleAt(n,96,this.littleEndian),a=0;a<8;a+=1)h=104+a*8,this.pixDims[a]=lt.getDoubleAt(n,h,this.littleEndian);for(this.vox_offset=lt.getInt64At(n,168,this.littleEndian),this.scl_slope=lt.getDoubleAt(n,176,this.littleEndian),this.scl_inter=lt.getDoubleAt(n,184,this.littleEndian),this.cal_max=lt.getDoubleAt(n,192,this.littleEndian),this.cal_min=lt.getDoubleAt(n,200,this.littleEndian),this.slice_duration=lt.getDoubleAt(n,208,this.littleEndian),this.toffset=lt.getDoubleAt(n,216,this.littleEndian),this.slice_start=lt.getInt64At(n,224,this.littleEndian),this.slice_end=lt.getInt64At(n,232,this.littleEndian),this.description=lt.getStringAt(n,240,320),this.aux_file=lt.getStringAt(n,320,344),this.qform_code=lt.getIntAt(n,344,this.littleEndian),this.sform_code=lt.getIntAt(n,348,this.littleEndian),this.quatern_b=lt.getDoubleAt(n,352,this.littleEndian),this.quatern_c=lt.getDoubleAt(n,360,this.littleEndian),this.quatern_d=lt.getDoubleAt(n,368,this.littleEndian),this.qoffset_x=lt.getDoubleAt(n,376,this.littleEndian),this.qoffset_y=lt.getDoubleAt(n,384,this.littleEndian),this.qoffset_z=lt.getDoubleAt(n,392,this.littleEndian),o=0;o<3;o+=1)for(c=0;c<4;c+=1)h=400+(o*4+c)*8,this.affine[o][c]=lt.getDoubleAt(n,h,this.littleEndian);this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.slice_code=lt.getIntAt(n,496,this.littleEndian),this.xyzt_units=lt.getIntAt(n,500,this.littleEndian),this.intent_code=lt.getIntAt(n,504,this.littleEndian),this.intent_name=lt.getStringAt(n,508,524),this.dim_info=lt.getByteAt(n,524),n.byteLength>Qi.MAGIC_COOKIE&&(this.extensionFlag[0]=lt.getByteAt(n,540),this.extensionFlag[1]=lt.getByteAt(n,541),this.extensionFlag[2]=lt.getByteAt(n,542),this.extensionFlag[3]=lt.getByteAt(n,543),this.extensionFlag[0]&&(this.extensions=lt.getExtensionsAt(n,this.getExtensionLocation(),this.littleEndian,this.vox_offset),this.extensionSize=this.extensions[0].esize,this.extensionCode=this.extensions[0].ecode))}toFormattedString(){var e=lt.formatNumber,n="";return n+="Datatype = "+ +this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+`)
`,n+="Bits Per Voxel =  = "+this.numBitsPerVoxel+`
`,n+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+`
`,n+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+`
`,n+="Voxel Dimensions (1-8): "+e(this.pixDims[0])+", "+e(this.pixDims[1])+", "+e(this.pixDims[2])+", "+e(this.pixDims[3])+", "+e(this.pixDims[4])+", "+e(this.pixDims[5])+", "+e(this.pixDims[6])+", "+e(this.pixDims[7])+`
`,n+="Image Offset = "+this.vox_offset+`
`,n+="Data Scale:  Slope = "+e(this.scl_slope)+"  Intercept = "+e(this.scl_inter)+`
`,n+="Display Range:  Max = "+e(this.cal_max)+"  Min = "+e(this.cal_min)+`
`,n+="Slice Duration = "+this.slice_duration+`
`,n+="Time Axis Shift = "+this.toffset+`
`,n+="Slice Start = "+this.slice_start+`
`,n+="Slice End = "+this.slice_end+`
`,n+='Description: "'+this.description+`"
`,n+='Auxiliary File: "'+this.aux_file+`"
`,n+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+`)
`,n+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+`)
`,n+="Quaternion Parameters:  b = "+e(this.quatern_b)+"  c = "+e(this.quatern_c)+"  d = "+e(this.quatern_d)+`
`,n+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+`
`,n+="S-Form Parameters X: "+e(this.affine[0][0])+", "+e(this.affine[0][1])+", "+e(this.affine[0][2])+", "+e(this.affine[0][3])+`
`,n+="S-Form Parameters Y: "+e(this.affine[1][0])+", "+e(this.affine[1][1])+", "+e(this.affine[1][2])+", "+e(this.affine[1][3])+`
`,n+="S-Form Parameters Z: "+e(this.affine[2][0])+", "+e(this.affine[2][1])+", "+e(this.affine[2][2])+", "+e(this.affine[2][3])+`
`,n+="Slice Code = "+this.slice_code+`
`,n+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(St.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(St.TEMPORAL_UNITS_MASK&this.xyzt_units)+`)
`,n+="Intent Code = "+this.intent_code+`
`,n+='Intent Name: "'+this.intent_name+`"
`,n+="Dim Info = "+this.dim_info+`
`,n}toArrayBuffer(e=!1){let a=544;if(e)for(let u of this.extensions)a+=u.esize;let o=new Uint8Array(a),c=new DataView(o.buffer);c.setInt32(0,540,this.littleEndian),o.set(new TextEncoder().encode(this.magic),4),c.setInt16(12,this.datatypeCode,this.littleEndian),c.setInt16(14,this.numBitsPerVoxel,this.littleEndian);for(let u=0;u<8;u++)c.setBigInt64(16+8*u,BigInt(this.dims[u]),this.littleEndian);c.setFloat64(80,this.intent_p1,this.littleEndian),c.setFloat64(88,this.intent_p2,this.littleEndian),c.setFloat64(96,this.intent_p3,this.littleEndian);for(let u=0;u<8;u++)c.setFloat64(104+8*u,this.pixDims[u],this.littleEndian);c.setBigInt64(168,BigInt(this.vox_offset),this.littleEndian),c.setFloat64(176,this.scl_slope,this.littleEndian),c.setFloat64(184,this.scl_inter,this.littleEndian),c.setFloat64(192,this.cal_max,this.littleEndian),c.setFloat64(200,this.cal_min,this.littleEndian),c.setFloat64(208,this.slice_duration,this.littleEndian),c.setFloat64(216,this.toffset,this.littleEndian),c.setBigInt64(224,BigInt(this.slice_start),this.littleEndian),c.setBigInt64(232,BigInt(this.slice_end),this.littleEndian),o.set(new TextEncoder().encode(this.description),240),o.set(new TextEncoder().encode(this.aux_file),320),c.setInt32(344,this.qform_code,this.littleEndian),c.setInt32(348,this.sform_code,this.littleEndian),c.setFloat64(352,this.quatern_b,this.littleEndian),c.setFloat64(360,this.quatern_c,this.littleEndian),c.setFloat64(368,this.quatern_d,this.littleEndian),c.setFloat64(376,this.qoffset_x,this.littleEndian),c.setFloat64(384,this.qoffset_y,this.littleEndian),c.setFloat64(392,this.qoffset_z,this.littleEndian);const h=this.affine.flat();for(let u=0;u<12;u++)c.setFloat64(400+8*u,h[u],this.littleEndian);if(c.setInt32(496,this.slice_code,this.littleEndian),c.setInt32(500,this.xyzt_units,this.littleEndian),c.setInt32(504,this.intent_code,this.littleEndian),o.set(new TextEncoder().encode(this.intent_name),508),c.setUint8(524,this.dim_info),e){o.set(Uint8Array.from([1,0,0,0]),540);let u=this.getExtensionLocation();for(const f of this.extensions)c.setInt32(u,f.esize,f.littleEndian),c.setInt32(u+4,f.ecode,f.littleEndian),o.set(new Uint8Array(f.edata),u+8),u+=f.esize}else o.set(new Uint8Array(4).fill(0),540);return o.buffer}};W(Qi,"MAGIC_COOKIE",540),W(Qi,"MAGIC_NUMBER_LOCATION",4),W(Qi,"MAGIC_NUMBER",[110,43,50,0,13,10,26,10]),W(Qi,"MAGIC_NUMBER2",[110,105,50,0,13,10,26,10]);let ei=Qi;function k4(t,e=!1){var n,s,a,o;return t.byteLength<St.STANDARD_HEADER_SIZE?!1:(n=new DataView(t),n&&(s=n.getUint8(St.MAGIC_NUMBER_LOCATION)),a=n.getUint8(St.MAGIC_NUMBER_LOCATION+1),o=n.getUint8(St.MAGIC_NUMBER_LOCATION+2),e&&s===St.MAGIC_NUMBER2[0]&&a===St.MAGIC_NUMBER2[1]&&o===St.MAGIC_NUMBER2[2]?!0:s===St.MAGIC_NUMBER[0]&&a===St.MAGIC_NUMBER[1]&&o===St.MAGIC_NUMBER[2])}function P4(t,e=!1){var n,s,a,o;return t.byteLength<St.STANDARD_HEADER_SIZE?!1:(n=new DataView(t),s=n.getUint8(ei.MAGIC_NUMBER_LOCATION),a=n.getUint8(ei.MAGIC_NUMBER_LOCATION+1),o=n.getUint8(ei.MAGIC_NUMBER_LOCATION+2),e&&s===ei.MAGIC_NUMBER2[0]&&a===ei.MAGIC_NUMBER2[1]&&o===ei.MAGIC_NUMBER2[2]?!0:s===ei.MAGIC_NUMBER[0]&&a===ei.MAGIC_NUMBER[1]&&o===ei.MAGIC_NUMBER[2])}function Ef(t){var e,n,s;return!!(t&&(e=new DataView(t),n=e.getUint8(0),s=e.getUint8(1),n===lt.GUNZIP_MAGIC_COOKIE1||s===lt.GUNZIP_MAGIC_COOKIE2))}function Y4(t){return O4(new Uint8Array(t)).buffer}async function G4(t){const e=new Uint8Array(t),n=e[0]===31&&e[1]===139&&e[2]===8?"gzip":e[0]===120&&(e[1]===1||e[1]===94||e[1]===156||e[1]===218)?"deflate":"deflate-raw",s=new DecompressionStream(n),a=s.writable.getWriter();a.write(e).catch(console.error);const o=a.close().catch(console.error),h=await new Response(s.readable).arrayBuffer();return await o,h}async function nm(t,e=1/0){const n=v=>v[0]===31&&v[1]===139&&v[2]===8?"gzip":v[0]===120&&[1,94,156,218].includes(v[1])?"deflate":"deflate-raw",s=new Uint8Array(t),a=n(s),o=new DecompressionStream(a),c=new TransformStream({transform(v,x){x.enqueue(v)},flush(v){v.terminate()}}),{readable:h,writable:u}=o,f=u.getWriter(),m=h.pipeThrough(c).getReader();f.write(s).catch(v=>{v instanceof Error&&v.name==="AbortError"||console.error("Error during write:",v)});const g=[];let A=0;try{for(;A<e;){const{done:v,value:x}=await m.read();if(v)break;const y=e-A,w=x.subarray(0,Math.min(x.length,y));if(g.push(w),A+=w.length,A>=e){await Promise.all([m.cancel().catch(()=>{}),f.abort().catch(()=>{})]);break}}}catch(v){v instanceof Error&&v.name==="AbortError"||console.error("Error during decompression:",v)}finally{await Promise.allSettled([m.cancel().catch(()=>{}),f.close().catch(()=>{})])}return g.length===1?g[0].buffer:g.reduce((v,x)=>{const y=new Uint8Array(v.byteLength+x.byteLength);return y.set(new Uint8Array(v),0),y.set(x,v.byteLength),y.buffer},new ArrayBuffer(0))}function H4(t,e=!1){let n=null;if(Ef(t)&&(t=Y4(t)),k4(t,e)?n=new St:P4(t,e)&&(n=new ei),n)n.readHeader(t);else throw new Error("That file does not appear to be NIFTI!");return n}async function ka(t,e=!1){if(!Ef(t))return H4(t,e);let n=null,s=await nm(t,540),a=!0,o=!0;var c=new DataView(s);const h=c.getInt32(0,!0),u=c.getInt32(0,!1);if(h!==348)if(u===348)a=!1;else if(h===540)o=!1;else if(u===540)o=!1,a=!1;else throw new Error("That file does not appear to be NIFTI!");let f=Math.round(c.getFloat32(108,a));return ei&&(f=lt.getUint64At(c,168,a)),f>s.byteLength&&(s=await nm(t,f)),o?n=new St:n=new ei,n.readHeader(s),n}function q4(t,e){var n=t.vox_offset,s=1,a=1;t.dims[4]&&(s=t.dims[4]),t.dims[5]&&(a=t.dims[5]);var o=t.dims[1]*t.dims[2]*t.dims[3]*s*a*(t.numBitsPerVoxel/8);return e.slice(n,n+o)}var wg=Object.defineProperty,Cg=t=>{throw TypeError(t)},K4=(t,e,n)=>e in t?wg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nc=(t,e)=>{for(var n in e)wg(t,n,{get:e[n],enumerable:!0})},z=(t,e,n)=>K4(t,typeof e!="symbol"?e+"":e,n),Sg=(t,e,n)=>e.has(t)||Cg("Cannot "+n),pt=(t,e,n)=>(Sg(t,e,"read from private field"),n?n.call(t):e.get(t)),Ia=(t,e,n)=>e.has(t)?Cg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),dr=(t,e,n,s)=>(Sg(t,e,"write to private field"),e.set(t,n),n),sm="0.54.0",Mg=class Oi{constructor({name:e="niivue",level:n="info"}={}){z(this,"level"),z(this,"name"),this.name=`${e}`,this.level=n}debug(...e){Oi.levels[this.level]>Oi.levels.debug||console.debug(`${this.name}-debug`,...e)}info(...e){Oi.levels[this.level]>Oi.levels.info||console.info(`${this.name}-info`,...e)}warn(...e){Oi.levels[this.level]>Oi.levels.warn||console.warn(`${this.name}-warn`,...e)}error(...e){Oi.levels[this.level]>Oi.levels.error||console.error(`${this.name}-error`,...e)}fatal(...e){Oi.levels[this.level]>Oi.levels.fatal||console.error(`${this.name}-fatal`,...e)}setLogLevel(e){this.level=e}setName(e){this.name=e}};z(Mg,"levels",{debug:0,info:1,warn:2,error:3,fatal:4,silent:1/0});var Q4=Mg,Y=new Q4({name:"niivue",level:"info"}),j4=function(t,e,n){const s=t.createShader(t.VERTEX_SHADER);t.shaderSource(s,e),t.compileShader(s);const a=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(a,n),t.compileShader(a);const o=t.createProgram();if(t.attachShader(o,s),t.attachShader(o,a),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(o)),t.getShaderParameter(s,t.COMPILE_STATUS)||console.log("Vertex shader compilation error:",t.getShaderInfoLog(s)),t.getShaderParameter(a,t.COMPILE_STATUS)||console.log("Fragment shader compilation error:",t.getShaderInfoLog(a)),Y.error(t.getProgramInfoLog(o)),new Error("Shader failed to link, see console for log");return o},Ot=class{constructor(t,e,n){z(this,"program"),z(this,"uniforms",{}),z(this,"isMatcap"),this.program=j4(t,e,n);const s=/uniform[^;]+[ ](\w+);/g,a=/uniform[^;]+[ ](\w+);/,o=e.match(s),c=n.match(s);o&&o.forEach(h=>{const u=h.match(a);this.uniforms[u[1]]=-1}),c&&c.forEach(h=>{const u=h.match(a);this.uniforms[u[1]]=-1});for(const h in this.uniforms)this.uniforms[h]=t.getUniformLocation(this.program,h)}use(t){t.useProgram(this.program)}},Na=`#version 300 es
#line 4
layout(location=0) in vec3 pos;
layout(location=1) in vec3 texCoords;
uniform mat4 mvpMtx;
out vec3 vColor;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vColor = texCoords;
}`,Eg=`
	vec4 drawColor(float scalar, float drawOpacity) {
		float nlayer = float(textureSize(colormap, 0).y);
		float layer = (nlayer - 0.5) / nlayer;
		vec4 dcolor = texture(colormap, vec2((scalar * 255.0)/256.0 + 0.5/256.0, layer)).rgba;
		dcolor.a *= drawOpacity;
		return dcolor;
}`,to=`vec3 GetBackPosition(vec3 startPositionTex) {
	vec3 startPosition = startPositionTex * volScale;
	vec3 invR = 1.0 / rayDir;
	vec3 tbot = invR * (vec3(0.0)-startPosition);
	vec3 ttop = invR * (volScale-startPosition);
	vec3 tmax = max(ttop, tbot);
	vec2 t = min(tmax.xx, tmax.yz);
	vec3 endPosition = startPosition + (rayDir * min(t.x, t.y));
	//convert world position back to texture position:
	endPosition = endPosition / volScale;
	return endPosition;
}

vec4 applyClip (vec3 dir, inout vec4 samplePos, inout float len, inout bool isClip) {
	float cdot = dot(dir,clipPlane.xyz);
	isClip = false;
	if  ((clipPlane.a > 1.0) || (cdot == 0.0)) return samplePos;
	bool frontface = (cdot > 0.0);
	float dis = (-clipPlane.a - dot(clipPlane.xyz, samplePos.xyz-0.5)) / cdot;
	float thick = clipThick;
	if (thick <= 0.0) thick = 2.0;
	float  disBackFace = (-(clipPlane.a-thick) - dot(clipPlane.xyz, samplePos.xyz-0.5)) / cdot;
	if (((frontface) && (dis >= len)) || ((!frontface) && (dis <= 0.0))) {
		samplePos.a = len + 1.0;
		return samplePos;
	}
	if (frontface) {
		dis = max(0.0, dis);
		samplePos = vec4(samplePos.xyz+dir * dis, dis);
		if (dis > 0.0) isClip = true;
		len = min(disBackFace, len);
	}
	if (!frontface) {
		len = min(dis, len);
		disBackFace = max(0.0, disBackFace);
		if (len == dis) isClip = true;
		samplePos = vec4(samplePos.xyz+dir * disBackFace, disBackFace);
	}
	return samplePos;
}

void clipVolume(inout vec3 startPos, inout vec3 backPos, int dim, float frac, bool isLo) {
	vec3 dir = backPos - startPos;
	float len = length(dir);
	dir = normalize(dir);
	// Discard if both startPos and backPos are outside the clipping plane
	if (isLo && startPos[dim] < frac && backPos[dim] < frac) {
		discard;
	}
	if (!isLo && startPos[dim] > frac && backPos[dim] > frac) {
		discard;
	}
	vec4 plane = vec4(0.0, 0.0, 0.0, 0.5 - frac);
	plane[dim] = 1.0;
	float cdot = dot(dir, plane.xyz);
	float dis = (-plane.w - dot(plane.xyz, startPos - vec3(0.5))) / cdot;
	// Adjust startPos or backPos based on the intersection with the plane
	bool isFrontFace = (cdot > 0.0);
	if (!isLo)
		isFrontFace = !isFrontFace;
	if (dis > 0.0) {
		if (isFrontFace) {
				if (dis <= len) {
					startPos = startPos + dir * dis;
				}
		} else {
			if (dis < len) {
				backPos = startPos + dir * dis;
			}
		}
	}
}

void clipVolumeStart (inout vec3 startPos, inout vec3 backPos) {
	// vec3 clipLo = vec3(0.1, 0.2, 0.4);
	// vec3 clipHi = vec3(0.8, 0.7, 0.7);
	for (int i = 0; i < 3; i++) {
		if (clipLo[i] > 0.0)
			clipVolume(startPos, backPos, i, clipLo[i], true);
	}
	for (int i = 0; i < 3; i++) {
		if (clipHi[i] < 1.0)
			clipVolume(startPos, backPos, i, clipHi[i], false);
	}
}

float frac2ndc(vec3 frac) {
//https://stackoverflow.com/questions/7777913/how-to-render-depth-linearly-in-modern-opengl-with-gl-fragcoord-z-in-fragment-sh
	vec4 pos = vec4(frac.xyz, 1.0); //fraction
	vec4 dim = vec4(vec3(textureSize(volume, 0)), 1.0);
	pos = pos * dim;
	vec4 shim = vec4(-0.5, -0.5, -0.5, 0.0);
	pos += shim;
	vec4 mm = transpose(matRAS) * pos;
	float z_ndc = (mvpMtx * vec4(mm.xyz, 1.0)).z;
	return (z_ndc + 1.0) / 2.0;
}`+Eg,Df=`void main() {
	if (fColor.x > 2.0) {
		fColor = vec4(1.0, 0.0, 0.0, 0.5);
		return;
	}
	fColor = vec4(0.0,0.0,0.0,0.0);
	vec4 clipPlaneColorX = clipPlaneColor;
	//if (clipPlaneColor.a < 0.0)
	//	clipPlaneColorX.a = - 1.0;
	bool isColorPlaneInVolume = false;
	if (clipPlaneColorX.a < 0.0) {
		isColorPlaneInVolume = true;
		clipPlaneColorX.a = 0.0;
	}
	//fColor = vec4(vColor.rgb, 1.0); return;
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	vec3 backPosition = GetBackPosition(start);
	// fColor = vec4(backPosition, 1.0); return;
	vec3 dir = normalize(backPosition - start);
	clipVolumeStart(start, backPosition);
	dir = normalize(dir);
	float len = length(backPosition - start);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) { //length limit for parallel rays
		return;
	}
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	vec4 deltaDir = vec4(dir.xyz * stepSize, stepSize);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	//if ((clipPos.a != samplePos.a) && (len < 3.0)) {
	//start: OPTIONAL fast pass: rapid traversal until first hit
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(volume, samplePos.xyz).a;
		if (val > 0.01)
			break;
		samplePos += deltaDirFast; //advance ray position
	}
	float drawOpacityA = renderDrawAmbientOcclusionXY.y;
	if ((samplePos.a >= len) && (((overlays < 1.0) && (drawOpacityA <= 0.0) ) || (backgroundMasksOverlays > 0)))  {
		if (isClip)
			fColor += clipPlaneColorX;
		return;
	}
	fColor = vec4(1.0, 1.0, 1.0, 1.0);
	//gl_FragDepth = frac2ndc(samplePos.xyz); //crude due to fast pass resolution
	samplePos -= deltaDirFast;
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	//end: fast pass
	vec4 colAcc = vec4(0.0,0.0,0.0,0.0);
	vec4 firstHit = vec4(0.0,0.0,0.0,2.0 * lenNoClip);
	const float earlyTermination = 0.95;
	float backNearest = len; //assume no hit
	float ran = fract(sin(gl_FragCoord.x * 12.9898 + gl_FragCoord.y * 78.233) * 43758.5453);
	samplePos += deltaDir * ran; //jitter ray
`,sc=`
	if (firstHit.a < len)
		gl_FragDepth = frac2ndc(firstHit.xyz);
	colAcc.a = (colAcc.a / earlyTermination) * backOpacity;
	fColor = colAcc;
	//if (isClip) //CR
	if ((isColorPlaneInVolume) && (clipPos.a != samplePos.a) && (abs(firstHit.a - clipPos.a) < deltaDir.a))
		fColor.rgb = mix(fColor.rgb, clipPlaneColorX.rgb, abs(clipPlaneColor.a));
		//fColor.rgb = mix(fColor.rgb, clipPlaneColorX.rgb, clipPlaneColorX.a * 0.65);
	float renderDrawAmbientOcclusionX = renderDrawAmbientOcclusionXY.x;
	float drawOpacity = renderDrawAmbientOcclusionXY.y;
	if ((overlays < 1.0) && (drawOpacity <= 0.0))
		return;
	//overlay pass
	len = lenNoClip;
	samplePos = vec4(start.xyz, 0.0); //ray position
	//start: OPTIONAL fast pass: rapid traversal until first hit
	stepSizeFast = sliceSize * 1.0;
	deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(overlay, samplePos.xyz).a;
		if (drawOpacity > 0.0)
			val = max(val, texture(drawing, samplePos.xyz).r);
		if (val > 0.001)
			break;
		samplePos += deltaDirFast; //advance ray position
	}
	if (samplePos.a >= len) {
		if (isClip && (fColor.a == 0.0))
				fColor += clipPlaneColorX;
			return;
	}
	samplePos -= deltaDirFast;
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	//end: fast pass
	float overFarthest = len;
	colAcc = vec4(0.0, 0.0, 0.0, 0.0);

	samplePos += deltaDir * ran; //jitter ray
	vec4 overFirstHit = vec4(0.0,0.0,0.0,2.0 * len);
	if (backgroundMasksOverlays > 0)
		samplePos = firstHit;
	bool firstDraw = true;
	while (samplePos.a <= len) {
		vec4 colorSample = texture(overlay, samplePos.xyz);
		if ((colorSample.a < 0.01) && (drawOpacity > 0.0)) {
			float val = texture(drawing, samplePos.xyz).r;
			vec4 draw = drawColor(val, drawOpacity);
			if ((draw.a > 0.0) && (firstDraw)) {
				firstDraw = false;
				float sum = 0.0;
				const float mn = 1.0 / 256.0;
				const float sampleRadius = 1.1;
				float dx = sliceSize * sampleRadius;
				vec3 center = samplePos.xyz;
				//six neighbors that share a face
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,0.0), dir)).r, mn);
				//float proportion = (sum / mn) / 6.0;
				
				//12 neighbors that share an edge
				dx = sliceSize * sampleRadius * sqrt(2.0) * 0.5;
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,+dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,-dx,0.0), dir)).r, mn);

				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,-dx,0.0), dir)).r, mn);
				
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,+dx,0.0), dir)).r, mn);
				float proportion = (sum / mn) / 18.0; //proportion of six neighbors is non-zero
				
				//a high proportion of hits means crevice
				//since the AO term adds shadows that darken most voxels, it will result in dark surfaces
				//the term brighten adds a little illumination to balance this
				// without brighten, only the most extreme ridges will not be darker
				const float brighten = 1.2;
				vec3 ao = draw.rgb * (1.0 - proportion) * brighten;
				draw.rgb = mix (draw.rgb, ao , renderDrawAmbientOcclusionX);
			}
			colorSample = draw;
		}
		samplePos += deltaDir; //advance ray position
		if (colorSample.a >= 0.01) {
			if (overFirstHit.a > len)
				overFirstHit = samplePos;
			colorSample.a *= renderOverlayBlend;
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			overFarthest = samplePos.a;
			if ( colAcc.a > earlyTermination )
				break;
		}
	}
	//if (samplePos.a >= len) {
	if (colAcc.a <= 0.0) {
		if (isClip && (fColor.a == 0.0))
			fColor += clipPlaneColorX;
		return;
	}
	if (overFirstHit.a < firstHit.a)
		gl_FragDepth = frac2ndc(overFirstHit.xyz);
	float overMix = colAcc.a;
	float overlayDepth = 0.3;
	if (fColor.a <= 0.0)
		overMix = 1.0;
	else if (((overFarthest) > backNearest)) {
		float dx = (overFarthest - backNearest)/1.73;
		dx = fColor.a * pow(dx, overlayDepth);
		overMix *= 1.0 - dx;
	}
	fColor.rgb = mix(fColor.rgb, colAcc.rgb, overMix);
	fColor.a = max(fColor.a, colAcc.a);
}`,X4=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform vec2 renderDrawAmbientOcclusionXY;
in vec3 vColor;
out vec4 fColor;
`+to+`
	void main() {
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	vec3 backPosition = GetBackPosition(start);
	vec3 dir = normalize(backPosition - start);
	clipVolumeStart(start, backPosition);
	float len = length(backPosition - start);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) { //length limit for parallel rays
		fColor = vec4(0.0,0.0,0.0,0.0);
		return;
	}
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	vec4 deltaDir = vec4(dir.xyz * stepSize, stepSize);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	vec4 colAcc = vec4(0.0,0.0,0.0,0.0);
	vec4 firstHit = vec4(0.0,0.0,0.0,2.0 * len);
	const float earlyTermination = 0.95;
	float backNearest = len; //assume no hit
	float dis = len;
	//check if axial plane is closest
	vec4 aClip = vec4(0.0, 0.0, 1.0, (1.0- clipPlane.z) - 0.5);
	float adis = (-aClip.a - dot(aClip.xyz, samplePos.xyz-0.5)) / dot(dir,aClip.xyz);
	if (adis > 0.0)
		dis = min(adis, dis);
	//check of coronal plane is closest
	vec4 cClip = vec4(0.0, 1.0, 0.0, (1.0- clipPlane.y) - 0.5);
	float cdis = (-cClip.a - dot(cClip.xyz, samplePos.xyz-0.5)) / dot(dir,cClip.xyz);
	if (cdis > 0.0)
		dis = min(cdis, dis);
	//check if coronal slice is closest
	vec4 sClip = vec4(1.0, 0.0, 0.0, (1.0- clipPlane.x) - 0.5);
	float sdis = (-sClip.a - dot(sClip.xyz, samplePos.xyz-0.5)) / dot(dir,sClip.xyz);
	if (sdis > 0.0)
		dis = min(sdis, dis);
	if ((dis > 0.0) && (dis < len)) {
		samplePos = vec4(samplePos.xyz+dir * dis, dis);
		colAcc = texture(volume, samplePos.xyz);
		colAcc.a = earlyTermination;
		firstHit = samplePos;
		backNearest = min(backNearest, samplePos.a);
	}
	//the following are only used by overlays
	vec4 clipPlaneColorX = clipPlaneColor;
	bool isColorPlaneInVolume = false;
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float ran = fract(sin(gl_FragCoord.x * 12.9898 + gl_FragCoord.y * 78.233) * 43758.5453);
	samplePos += deltaDir * ran; //jitter ray
`+sc,Z4=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform vec2 renderDrawAmbientOcclusionXY;
in vec3 vColor;
out vec4 fColor;
`+to+Df+`while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		samplePos += deltaDir; //advance ray position
		if (colorSample.a >= 0.01) {
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
	}
`+sc,Dg=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 normMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing, gradient;
uniform highp sampler2D colormap;
uniform highp sampler2D matCap;
uniform vec2 renderDrawAmbientOcclusionXY;
uniform float gradientAmount;
uniform float gradientOpacity[256];
in vec3 vColor;
out vec4 fColor;
`,W4=Dg+to+Df+`
	float startPos = samplePos.a;
	float clipClose = clipPos.a + 3.0 * deltaDir.a; //do not apply gradients near clip plane
	float brighten = 2.0; //modulating makes average intensity darker 0.5 * 0.5 = 0.25
	//vec4 prevGrad = vec4(0.0);
	while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		if (colorSample.a >= 0.0) {
			vec4 grad = texture(gradient, samplePos.xyz);
			grad.rgb = normalize(grad.rgb*2.0 - 1.0);
			//if (grad.a < prevGrad.a)
			//	grad.rgb = prevGrad.rgb;
			//prevGrad = grad;
			vec3 n = mat3(normMtx) * grad.rgb;
			n.y = - n.y;
			vec4 mc = vec4(texture(matCap, n.xy * 0.5 + 0.5).rgb, 1.0) * brighten;
			mc = mix(vec4(1.0), mc, gradientAmount);
			if (samplePos.a > clipClose)
				colorSample.rgb *= mc.rgb;
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			int gradIdx = int(grad.a * 255.0);
			colorSample.a *= gradientOpacity[gradIdx];
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
		samplePos += deltaDir; //advance ray position
	}
`+sc,J4=Dg+to+Df+`
	float startPos = samplePos.a;
	float clipClose = clipPos.a + 3.0 * deltaDir.a; //do not apply gradients near clip plane
	float brighten = 2.0; //modulating makes average intensity darker 0.5 * 0.5 = 0.25
	//vec4 prevGrad = vec4(0.0);
	while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		if (colorSample.a >= 0.0) {
			vec4 grad = texture(gradient, samplePos.xyz);
			colorSample.rgb = abs(normalize(grad.rgb*2.0 - 1.0));
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
		samplePos += deltaDir; //advance ray position
	}
`+sc,rm=`#version 300 es
#line 392
layout(location=0) in vec3 pos;
uniform int axCorSag;
uniform mat4 mvpMtx;
uniform mat4 frac2mm;
uniform float slice;
out vec3 texPos;
void main(void) {
	texPos = vec3(pos.x, pos.y, slice);
	if (axCorSag > 1)
		texPos = vec3(slice, pos.x, pos.y);
	else if (axCorSag > 0)
		texPos = vec3(pos.x, slice, pos.y);
	vec4 mm = frac2mm * vec4(texPos, 1.0);
	gl_Position = mvpMtx * mm;
}`,Tg=`#version 300 es
#line 411
precision highp int;
precision highp float;
uniform highp sampler3D volume, overlay;
uniform int backgroundMasksOverlays;
uniform float overlayOutlineWidth;
uniform float overlayAlphaShader;
uniform int axCorSag;
uniform float overlays;
uniform float opacity;
uniform float drawOpacity;
uniform bool isAlphaClipDark;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
in vec3 texPos;
out vec4 color;`+Eg+`void main() {
	//color = vec4(1.0, 0.0, 1.0, 1.0);return;
	vec4 background = texture(volume, texPos);
	color = vec4(background.rgb, opacity);
	if ((isAlphaClipDark) && (background.a == 0.0)) color.a = 0.0; //FSLeyes clipping range
	vec4 ocolor = vec4(0.0);
	float overlayAlpha = overlayAlphaShader;
	if (overlays > 0.0) {
		ocolor = texture(overlay, texPos);
		//dFdx for "boxing" issue 435 has aliasing on some implementations (coarse vs fine)
		//however, this only identifies 50% of the edges due to aliasing effects
		// http://www.aclockworkberry.com/shader-derivative-functions/
		// https://bgolus.medium.com/distinctive-derivative-differences-cce38d36797b
		//if ((ocolor.a >= 1.0) && ((dFdx(ocolor.a) != 0.0) || (dFdy(ocolor.a) != 0.0)  ))
		//	ocolor.rbg = vec3(0.0, 0.0, 0.0);
		bool isOutlineBelowNotAboveThreshold = true;
		if (isOutlineBelowNotAboveThreshold) {
			if ((overlayOutlineWidth > 0.0) && (ocolor.a < 1.0)) { //check voxel neighbors for edge
				vec3 vx = (overlayOutlineWidth ) / vec3(textureSize(overlay, 0));
				//6 voxel neighbors that share a face
				vec3 vxR = vec3(texPos.x+vx.x, texPos.y, texPos.z);
				vec3 vxL = vec3(texPos.x-vx.x, texPos.y, texPos.z);
				vec3 vxA = vec3(texPos.x, texPos.y+vx.y, texPos.z);
				vec3 vxP = vec3(texPos.x, texPos.y-vx.y, texPos.z);
				vec3 vxS = vec3(texPos.x, texPos.y, texPos.z+vx.z);
				vec3 vxI = vec3(texPos.x, texPos.y, texPos.z-vx.z);
				float a = 0.0;
				if (axCorSag != 2) {
					a = max(a, texture(overlay, vxR).a);
					a = max(a, texture(overlay, vxL).a);
				}
				if (axCorSag != 1) {
					a = max(a, texture(overlay, vxA).a);
					a = max(a, texture(overlay, vxP).a);
				}
				if (axCorSag != 0) {
					a = max(a, texture(overlay, vxS).a);
					a = max(a, texture(overlay, vxI).a);
				}
				bool isCheckCorners = true;
				if (isCheckCorners) {
					//12 voxel neighbors that share an edge
					vec3 vxRA = vec3(texPos.x+vx.x, texPos.y+vx.y, texPos.z);
					vec3 vxLA = vec3(texPos.x-vx.x, texPos.y+vx.y, texPos.z);
					vec3 vxRP = vec3(texPos.x+vx.x, texPos.y-vx.y, texPos.z);
					vec3 vxLP = vec3(texPos.x-vx.x, texPos.y-vx.y, texPos.z);
					vec3 vxRS = vec3(texPos.x+vx.x, texPos.y, texPos.z+vx.z);
					vec3 vxLS = vec3(texPos.x-vx.x, texPos.y, texPos.z+vx.z);
					vec3 vxRI = vec3(texPos.x+vx.x, texPos.y, texPos.z-vx.z);
					vec3 vxLI = vec3(texPos.x-vx.x, texPos.y, texPos.z-vx.z);
					vec3 vxAS = vec3(texPos.x, texPos.y+vx.y, texPos.z+vx.z);
					vec3 vxPS = vec3(texPos.x, texPos.y-vx.y, texPos.z+vx.z);
					vec3 vxAI = vec3(texPos.x, texPos.y+vx.y, texPos.z-vx.z);
					vec3 vxPI = vec3(texPos.x, texPos.y-vx.y, texPos.z-vx.z);

					if (axCorSag == 0) { //axial corners
						a = max(a, texture(overlay, vxRA).a);
						a = max(a, texture(overlay, vxLA).a);
						a = max(a, texture(overlay, vxRP).a);
						a = max(a, texture(overlay, vxLP).a);
					}
					if (axCorSag == 1) { //coronal corners
						a = max(a, texture(overlay, vxRS).a);
						a = max(a, texture(overlay, vxLS).a);
						a = max(a, texture(overlay, vxRI).a);
						a = max(a, texture(overlay, vxLI).a);
					}
					if (axCorSag == 2) { //sagittal corners
						a = max(a, texture(overlay, vxAS).a);
						a = max(a, texture(overlay, vxPS).a);
						a = max(a, texture(overlay, vxAI).a);
						a = max(a, texture(overlay, vxPI).a);
					}
				}
				if (a >= 1.0) {
					ocolor = vec4(0.0, 0.0, 0.0, 1.0);
					overlayAlpha = 1.0;
				}
			}

		} else {
			if ((overlayOutlineWidth > 0.0) && (ocolor.a >= 1.0)) { //check voxel neighbors for edge
				vec3 vx = (overlayOutlineWidth ) / vec3(textureSize(overlay, 0));
				vec3 vxR = vec3(texPos.x+vx.x, texPos.y, texPos.z);
				vec3 vxL = vec3(texPos.x-vx.x, texPos.y, texPos.z);
				vec3 vxA = vec3(texPos.x, texPos.y+vx.y, texPos.z);
				vec3 vxP = vec3(texPos.x, texPos.y-vx.y, texPos.z);
				vec3 vxS = vec3(texPos.x, texPos.y, texPos.z+vx.z);
				vec3 vxI = vec3(texPos.x, texPos.y, texPos.z-vx.z);
				float a = 1.0;
				if (axCorSag != 2) {
					a = min(a, texture(overlay, vxR).a);
					a = min(a, texture(overlay, vxL).a);
				}
				if (axCorSag != 1) {
					a = min(a, texture(overlay, vxA).a);
					a = min(a, texture(overlay, vxP).a);
				}
				if (axCorSag != 0) {
					a = min(a, texture(overlay, vxS).a);
					a = min(a, texture(overlay, vxI).a);
				}
				if (a < 1.0) {
					ocolor = vec4(0.0, 0.0, 0.0, 1.0);
					overlayAlpha = 1.0;
				}
			}
		} //outline above threshold
	}

`,Bg=`	ocolor.a *= overlayAlpha;
	vec4 dcolor = drawColor(texture(drawing, texPos).r, drawOpacity);
	if (dcolor.a > 0.0) {
		color.rgb = mix(color.rgb, dcolor.rgb, dcolor.a);
		color.a = max(drawOpacity, color.a);
	}
	if ((backgroundMasksOverlays > 0) && (background.a == 0.0))
		return;
	float a = color.a + ocolor.a * (1.0 - color.a); // premultiplied alpha
	if (a == 0.0) return;
	color.rgb = mix(color.rgb, ocolor.rgb, ocolor.a / a);
	color.a = a;
}`,_4=Tg+Bg,$4=Tg+`	if (ocolor.a > 0.0) {
		//https://gamedev.stackexchange.com/questions/102889/is-it-possible-to-convert-vec4-to-int-in-glsl-using-opengl-es
		uint alpha = uint(ocolor.a * 255.0);
		vec3 xyzFlip = vec3(float((uint(1) & alpha) > uint(0)), float((uint(2) & alpha) > uint(0)), float((uint(4) & alpha) > uint(0)));
		//convert from 0 and 1 to -1 and 1
		xyzFlip = (xyzFlip * 2.0) - 1.0;
		//https://math.stackexchange.com/questions/1905533/find-perpendicular-distance-from-point-to-line-in-3d
		//v1 principle direction of tensor for this voxel
		vec3 v1 = ocolor.rgb;
		//flips encode polarity to convert from 0..1 to -1..1 (27 bits vs 24 bit precision)
		v1 = normalize( v1 * xyzFlip);
		vec3 vxl = fract(texPos * vec3(textureSize(volume, 0))) - 0.5;
		//vxl coordinates now -0.5..+0.5 so 0,0,0 is origin
		vxl.x = -vxl.x;
		float t = dot(vxl,v1);
		vec3 P = t * v1;
		float dx = length(P-vxl);
		ocolor.a = 1.0 - smoothstep(0.2,0.25, dx);
		//if modulation was applied, use that to scale alpha not color:
		ocolor.a *= length(ocolor.rgb);
		ocolor.rgb = normalize(ocolor.rgb);
		//compute distance one half voxel closer to viewer:
		float pan = 0.5;
		if (axCorSag == 0)
			vxl.z -= pan;
		if (axCorSag == 1)
			vxl.y -= pan;
		if (axCorSag == 2)
			vxl.x += pan;
		t = dot(vxl,v1);
		P = t * v1;
		float dx2 = length(P-vxl);
		ocolor.rgb += (dx2-dx-(0.5 * pan)) * 1.0;
	}
`+Bg,kh=`#version 300 es
#line 480
precision highp int;
precision highp float;
uniform vec4 lineColor;
out vec4 color;
void main() {
	color = lineColor;
}`,t3=`#version 300 es
#line 723
precision highp int;
precision highp float;

uniform vec4 lineColor;
uniform vec4 leftTopWidthHeight;
uniform float thickness; // line thickness in pixels
uniform vec2 canvasWidthHeight;

out vec4 color;

void main() {
    // fragment position in screen coordinates
    vec2 fragCoord = gl_FragCoord.xy;

    // canvas height
    float canvasHeight = canvasWidthHeight.y;

    // 'top' and 'bottom' to match gl_FragCoord.y coordinate system
    float top = canvasHeight - leftTopWidthHeight.y;
    float bottom = top - leftTopWidthHeight.w;

    // left and right edges
    float left = leftTopWidthHeight.x;
    float right = left + leftTopWidthHeight.z;

    bool withinLeft = fragCoord.x >= left && fragCoord.x <= left + thickness;
    bool withinRight = fragCoord.x <= right && fragCoord.x >= right - thickness;
    bool withinTop = fragCoord.y <= top && fragCoord.y >= top - thickness;
    bool withinBottom = fragCoord.y >= bottom && fragCoord.y <= bottom + thickness;

    bool isOutline = withinLeft || withinRight || withinTop || withinBottom;

    if (isOutline) {
        color = lineColor;
    } else {
        discard; 
    }
}`,e3=`#version 300 es
#line 490
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
out vec2 vColor;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vColor = pos.xy;
}`,i3=`#version 300 es
#line 506
precision highp int;
precision highp float;
uniform highp sampler2D colormap;
uniform float layer;
in vec2 vColor;
out vec4 color;
void main() {
	float nlayer = float(textureSize(colormap, 0).y);
	float fmap = (0.5 + layer) / nlayer;
	color = vec4(texture(colormap, vec2(vColor.x, fmap)).rgb, 1.0);
}`,am=`#version 300 es
#line 520
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
}`,n3=`#version 300 es
#line 534
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform float thickness;
uniform vec4 startXYendXY;
void main(void) {
	vec2 posXY = mix(startXYendXY.xy, startXYendXY.zw, pos.x);
	vec2 dir = normalize(startXYendXY.xy - startXYendXY.zw);
	posXY += vec2(-dir.y, dir.x) * thickness * (pos.y - 0.5);
	posXY.x = (posXY.x) / canvasWidthHeight.x; //0..1
	posXY.y = 1.0 - (posXY.y / canvasWidthHeight.y); //1..0
	gl_Position = vec4((posXY * 2.0) - 1.0, 0.0, 1.0);
}`,s3=`#version 300 es
#line 534
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform float thickness;
uniform vec2 startXY;
uniform vec3 endXYZ; // transformed XYZ point
void main(void) {	
	vec2 posXY = mix(startXY.xy, endXYZ.xy, pos.x);
	vec2 startDiff = endXYZ.xy - startXY.xy;
	float startDistance = length(startDiff);
	vec2 diff = endXYZ.xy - posXY;
	float currentDistance = length(diff);
	vec2 dir = normalize(startXY.xy - endXYZ.xy);
	posXY += vec2(-dir.y, dir.x) * thickness * (pos.y - 0.5);
	posXY.x = (posXY.x) / canvasWidthHeight.x; //0..1
	posXY.y = 1.0 - (posXY.y / canvasWidthHeight.y); //1..0	
	float z = endXYZ.z * ( 1.0 - abs(currentDistance/startDistance)); 
	gl_Position = vec4((posXY * 2.0) - 1.0, z, 1.0);
}`,r3=`#version 300 es
#line 549
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = vec2(pos.x, 1.0 - pos.y);
}`,a3=`#version 300 es
#line 565
precision highp int;
precision highp float;
uniform highp sampler2D bmpTexture;
in vec2 vUV;
out vec4 color;
void main() {
	color = texture(bmpTexture, vUV);
}`,o3=`#version 300 es
#line 576
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
uniform vec4 uvLeftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = vec2(uvLeftTopWidthHeight.x + (pos.x * uvLeftTopWidthHeight.z), uvLeftTopWidthHeight.y  + ((1.0 - pos.y) * uvLeftTopWidthHeight.w) );
}`,l3=`#version 300 es
#line 593
precision highp int;
precision highp float;
uniform highp sampler2D fontTexture;
uniform vec4 fontColor;
uniform float screenPxRange;
in vec2 vUV;
out vec4 color;
float median(float r, float g, float b) {
	return max(min(r, g), min(max(r, g), b));
}
void main() {
	vec3 msd = texture(fontTexture, vUV).rgb;
	float sd = median(msd.r, msd.g, msd.b);
	float screenPxDistance = screenPxRange*(sd - 0.5);
	float opacity = clamp(screenPxDistance + 0.5, 0.0, 1.0);
	color = vec4(fontColor.rgb , fontColor.a * opacity);
}`,c3=`#version 300 es
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
uniform vec4 uvLeftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = pos.xy;
}`,u3=`#version 300 es
precision highp int;
precision highp float;
uniform vec4 circleColor;
uniform float fillPercent;
in vec2 vUV;
out vec4 color;
void main() {
	/* Check if the pixel is inside the circle
		 and color it with a gradient. Otherwise, color it 
		 transparent   */
	float distance = length(vUV-vec2(0.5,0.5));
	if ( distance < 0.5 && distance >= (1.0 - fillPercent) / 2.0){
			color = vec4(circleColor.r,circleColor.g,circleColor.b,circleColor.a) ;			
	}else{
			color = vec4(0.0,0.0,0.0,0.0);
	}
}
`,mr=`#version 300 es
#line 613
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	gl_Position = vec4( (vPos.xy-vec2(0.5,0.5)) * 2.0, 0.0, 1.0);
}`,Ph=`#version 300 es
uniform highp usampler3D intensityVol;
`,om=`#version 300 es
uniform highp isampler3D intensityVol;
`,h3=`#version 300 es
uniform highp sampler3D intensityVol;
`,lm=`#line 636
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform float opacity;
uniform vec4 xyzaFrac;
uniform mat4 mtx;
void main(void) {
	vec4 vx = vec4(TexCoord.x, TexCoord.y, coordZ, 1.0) * mtx;
	uint idx = uint(texture(intensityVol, vx.xyz).r);
	FragColor = vec4(0.0, 0.0, 0.0, 0.0);
	if (idx == uint(0))
		return;
	//idx = ((idx - uint(1)) % uint(100))+uint(1);
	float textureWidth = float(textureSize(colormap, 0).x);
	float fx = (float(idx)+0.5) / textureWidth;
	float nlayer = float(textureSize(colormap, 0).y);
	float y = ((2.0 * layer) + 1.5)/nlayer;
	FragColor = texture(colormap, vec2(fx, y)).rgba;
	float alpha = FragColor.a;
	FragColor.a *= opacity;
	if (xyzaFrac.a > 0.0) { //outline
		vx = vec4(TexCoord.x+xyzaFrac.x, TexCoord.y, coordZ, 1.0) * mtx;
		uint R = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x-xyzaFrac.x, TexCoord.y, coordZ, 1.0) * mtx;
		uint L = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y+xyzaFrac.y, coordZ, 1.0) * mtx;
		uint A = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y-xyzaFrac.y, coordZ, 1.0) * mtx;
		uint P = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y, coordZ+xyzaFrac.z, 1.0) * mtx;
		uint S = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y, coordZ-xyzaFrac.z, 1.0) * mtx;
		uint I = uint(texture(intensityVol, vx.xyz).r);
		if ((idx != R) || (idx != L) || (idx != A) || (idx != P) || (idx != S) || (idx != I))
			FragColor.a = alpha * xyzaFrac.a;
	}
}`,Yh=`#line 691
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform float scl_slope;
uniform float scl_inter;
uniform float cal_max;
uniform float cal_min;
uniform float cal_maxNeg;
uniform float cal_minNeg;
uniform bool isAlphaThreshold;
uniform bool isColorbarFromZero;
uniform bool isAdditiveBlend;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform int modulation;
uniform highp sampler3D modulationVol;
uniform float opacity;
uniform mat4 mtx;
void main(void) {
	vec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;
	if ((vx.x < 0.0) || (vx.x > 1.0) || (vx.y < 0.0) || (vx.y > 1.0) || (vx.z < 0.0) || (vx.z > 1.0)) {
		//set transparent if out of range
		//https://webglfundamentals.org/webgl/webgl-3d-textures-repeat-clamp.html
		FragColor = texture(blend3D, vec3(TexCoord.xy, coordZ));
		return;
	}
	float f = (scl_slope * float(texture(intensityVol, vx.xyz).r)) + scl_inter;
	float mn = cal_min;
	float mx = cal_max;
	if ((isAlphaThreshold) || (isColorbarFromZero))
		mn = 0.0;
	float r = max(0.00001, abs(mx - mn));
	mn = min(mn, mx);
	float txl = mix(0.0, 1.0, (f - mn) / r);
	if (f > mn) { //issue1139: survives threshold, so round up to opaque voxel
		txl = max(txl, 2.0/256.0);
	}
	//https://stackoverflow.com/questions/5879403/opengl-texture-coordinates-in-pixel-space
	float nlayer = float(textureSize(colormap, 0).y);
	//each volume has two color maps:
	// (layer*2) = negative and (layer * 2) + 1 = positive
	float y = ((2.0 * layer) + 1.5)/nlayer;
	FragColor = texture(colormap, vec2(txl, y)).rgba;
	//negative colors
	mn = cal_minNeg;
	mx = cal_maxNeg;
	if ((isAlphaThreshold) || (isColorbarFromZero))
		mx = 0.0;
	//if ((!isnan(cal_minNeg)) && ( f < mx)) {
	if ((cal_minNeg < cal_maxNeg) && ( f < mx)) {
		r = max(0.00001, abs(mx - mn));
		mn = min(mn, mx);
		txl = 1.0 - mix(0.0, 1.0, (f - mn) / r);
		//issue1139: survives threshold, so round up to opaque voxel
		txl = max(txl, 2.0/256.0);
		y = ((2.0 * layer) + 0.5)/nlayer;
		FragColor = texture(colormap, vec2(txl, y));
	}
	if (layer > 0.7)
		FragColor.a = step(0.00001, FragColor.a);
	//if (modulation > 10)
	//	FragColor.a *= texture(modulationVol, vx.xyz).r;
	//	FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	if (isAlphaThreshold) {
		if ((cal_minNeg != cal_maxNeg) && ( f < 0.0) && (f > cal_maxNeg))
			FragColor.a = pow(-f / -cal_maxNeg, 2.0);
		else if ((f > 0.0) && (cal_min > 0.0))
			FragColor.a *= pow(f / cal_min, 2.0); //issue435:  A = (V/X)**2
		//FragColor.g = 0.0;
	} else if (isColorbarFromZero) {
		if ((cal_minNeg != cal_maxNeg) && ( f < 0.0) && (f > cal_maxNeg))
			FragColor.a = 0.0;
		else if ((f > 0.0) && (cal_min > 0.0) && (f < cal_min))
			FragColor.a *= 0.0;

	}
	if (modulation == 1) {
		FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	} else if (modulation == 2) {
		FragColor.a = texture(modulationVol, vx.xyz).r;
	}
	FragColor.a *= opacity;
	if (layer < 1.0) return;
	vec4 prevColor = texture(blend3D, vec3(TexCoord.xy, coordZ));
	// https://en.wikipedia.org/wiki/Alpha_compositing
	float aout = FragColor.a + (1.0 - FragColor.a) * prevColor.a;
	if (aout <= 0.0) return;
	if (isAdditiveBlend)
		FragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a)) / aout;
	else
		FragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a * (1.0 - FragColor.a))) / aout;
	FragColor.a = aout;
}`,f3=`#line 773
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform float scl_slope;
uniform float scl_inter;
uniform float cal_max;
uniform float cal_min;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform float opacity;
uniform mat4 mtx;
uniform bool hasAlpha;
uniform int modulation;
uniform highp sampler3D modulationVol;
void main(void) {
	vec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;
	uvec4 aColor = texture(intensityVol, vx.xyz);
	FragColor = vec4(float(aColor.r) / 255.0, float(aColor.g) / 255.0, float(aColor.b) / 255.0, float(aColor.a) / 255.0);
	if (modulation == 1)
		FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	if (!hasAlpha) {
		FragColor.a = (FragColor.r * 0.21 + FragColor.g * 0.72 + FragColor.b * 0.07);
		//next line: we could binarize alpha, but see rendering of visible human
		//FragColor.a = step(0.01, FragColor.a);
	}
	if (modulation == 2)
		FragColor.a = texture(modulationVol, vx.xyz).r;
	FragColor.a *= opacity;
}`,d3=`#version 300 es
#line 808
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	gl_Position = vec4((vPos.x - 0.5) * 2.0, (vPos.y - 0.5) * 2.0, 0.0, 1.0);
}`,m3=`#version 300 es
#line 829
	precision highp float;
	precision highp int;
	precision highp isampler3D;
	layout(location = 0) out int label;
	layout(location = 1) out int strength;
	in vec2 TexCoord;
	uniform int finalPass;
	uniform float coordZ;
	uniform lowp sampler3D in3D;
	uniform highp isampler3D backTex; // background
	uniform highp isampler3D labelTex; // label
	uniform highp isampler3D strengthTex; // strength
void main(void) {
	vec3 interpolatedTextureCoordinate = vec3(TexCoord.xy, coordZ);
	ivec3 size = textureSize(backTex, 0);
	ivec3 texelIndex = ivec3(floor(interpolatedTextureCoordinate * vec3(size)));
	int background = texelFetch(backTex, texelIndex, 0).r;
	label = texelFetch(labelTex, texelIndex, 0).r;
	strength = texelFetch(strengthTex, texelIndex, 0).r;
	for (int k = -1; k <= 1; k++) {
		for (int j = -1; j <= 1; j++) {
			for (int i = -1; i <= 1; i++) {
				if (i != 0 && j != 0 && k != 0) {
					ivec3 neighborIndex = texelIndex + ivec3(i,j,k);
					int neighborBackground = texelFetch(backTex, neighborIndex, 0).r;
					int neighborStrength = texelFetch(strengthTex, neighborIndex, 0).r;
					int strengthCost = abs(neighborBackground - background);
					int takeoverStrength = neighborStrength - strengthCost;
					if (takeoverStrength > strength) {
						strength = takeoverStrength;
						label = texelFetch(labelTex, neighborIndex, 0).r;
					}
				}
			}
		}
	}
	if (finalPass < 1)
		return;
	int ok = 1;
	ivec4 labelCount = ivec4(0,0,0,0);
	for (int k = -1; k <= 1; k++)
		for (int j = -1; j <= 1; j++)
			for (int i = -1; i <= 1; i++) {
				ivec3 neighborIndex = texelIndex + ivec3(i,j,k);
				int ilabel = texelFetch(labelTex, neighborIndex, 0).r;
				if ((ilabel < 0) || (ilabel > 3))
					ok = 0;
				else
					labelCount[ilabel]++;
			}
	if (ok != 1) {
		return;
	}
	int maxIdx = 0;
	for (int i = 1; i < 4; i++) {
		if (labelCount[i] > labelCount[maxIdx])
			maxIdx = i;
	}
	label = maxIdx;
}`,g3=`#version 300 es
layout(location=0) in vec3 pos;
uniform mat4 mvpMtx;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
}`,A3=`#version 300 es
precision highp int;
precision highp float;
uniform vec4 surfaceColor;
out vec4 color;
void main() {
	color = surfaceColor;
}`,p3=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 clr;
out vec4 vClr;
uniform mat4 mvpMtx;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vClr = clr;
}`,v3=`#version 300 es
precision highp int;
precision highp float;
in vec4 vClr;
out vec4 color;
uniform float opacity;
void main() {
	color = vec4(vClr.rgb, opacity);
}`,Gh=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 norm;
layout(location=2) in vec4 clr;
uniform mat4 mvpMtx;
//uniform mat4 modelMtx;
uniform mat4 normMtx;
out vec4 vClr;
out vec3 vN;
out vec4 vP;
out vec4 vPc;
void main(void) {
	vec3 lightPosition = vec3(0.0, 0.0, -10.0);
	vP = vec4(pos, 1.0);
	vPc = mvpMtx * vec4(pos, 1.0);
	gl_Position = vPc;
	vN = normalize((normMtx * vec4(norm.xyz,1.0)).xyz);
	//vV = -vec3(modelMtx*vec4(pos,1.0));
	vClr = clr;
}`,x3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
out vec4 color;
vec4 packFloatToVec4i(const float value) {
	const vec4 bitSh = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
	const vec4 bitMsk = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
	vec4 res = fract(value * bitSh);
	res -= res.xxyz * bitMsk;
	return res;
}
void main() {
	color = packFloatToVec4i(gl_FragCoord.z);
}`,y3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
float stepmix(float edge0, float edge1, float E, float x){
	float T = clamp(0.5 * (x - edge0 + E) / E, 0.0, 1.0);
	return mix(edge0, edge1, T);
}
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0);
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.5;
	float shininess = 50.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float df = max(0.0, dot(n, l));
	float sf = pow(max(dot(reflect(l, n), r), 0.0), shininess);
	const float A = 0.1;
	const float B = 0.3;
	const float C = 0.6;
	const float D = 1.0;
	float E = fwidth(df);
	if (df > A - E && df < A + E) df = stepmix(A, B, E, df);
	else if (df > B - E && df < B + E) df = stepmix(B, C, E, df);
	else if (df > C - E && df < C + E) df = stepmix(C, D, E, df);
	else if (df < A) df = 0.0;
	else if (df < B) df = B;
	else if (df < C) df = C;
	else df = D;
	E = fwidth(sf);
	if (sf > 0.5 - E && sf < 0.5 + E)
		sf = smoothstep(0.5 - E, 0.5 + E, sf);
	else
		sf = step(0.5, sf);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(df, 0.0) * vClr.rgb * diffuse;
	color.rgb = a + d + (specular * sf);
	color.a = opacity;
}`,b3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.25;
	float shininess = 10.0;
	float PenWidth = 0.6;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	float view = abs(dot(n,r)); //with respect to viewer
	if (PenWidth < view) discard;
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color.rgb = a + d + s;
	color.a = opacity;
}`,w3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float diffuse = 1.0;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 0.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = max(dot(n, l), 0.0);
	vec3 d = lightNormDot * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(d + s, opacity);
}`,C3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float diffuse = 1.4;
	vec3 l = vec3(0.0, 0.0, -1.0);
	float lightNormDot = max(dot(normalize(vN), l), 0.0);
	color = vec4(lightNormDot * vClr.rgb * diffuse, opacity);
}`,S3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float specularRGB = 0.7;
	float specularWhite = 0.3;
	float shininess = 10.0;
	float diffuse = 1.0;
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	vec3 n = normalize(vN);
	vec3 l = vec3(0.0, 0.0, -1.0);
	float lightNormDot = max(dot(n, l), 0.0);
	vec3 d3 = lightNormDot * vClr.rgb * diffuse;
	float s = pow(max(dot(reflect(l, n), r), 0.0), shininess);
	vec3 s3 = specularRGB * s * vClr.rgb;
	s *= specularWhite;
	color = vec4(d3 + s3 + s, opacity);
}`,M3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
in vec4 vPc;
out vec4 color;
void main() {
	vec3 n = normalize(vN);
	// Compute curvature
	vec3 dx = dFdx(n);
	vec3 dy = dFdy(n);
	vec3 xneg = n - dx;
	vec3 xpos = n + dx;
	vec3 yneg = n - dy;
	vec3 ypos = n + dy;
	float depth = length(vPc.xyz);
	float curv = (cross(xneg, xpos).y - cross(yneg, ypos).x) / depth;
	//at this stage 0.5 for flat, with valleys dark and ridges bright
	curv = 1.0 - (curv + 0.5);
	//clamp
	curv =  min(max(curv, 0.0), 1.0);
	// easing function
	curv = pow(curv, 0.5);
	//modulate ambient and diffuse with curvature
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.6;
	float diffuse = 0.6;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 lightPosition = vec3(0.0, 10.0, -2.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient * curv;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,E3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,D3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
uniform sampler2D matCap;
out vec4 color;
void main() {
	vec3 n = normalize(vN);
	vec2 uv = n.xy * 0.5 + 0.5;
	uv.y = 1.0 - uv.y;
	vec3 clr = texture(matCap,uv.xy).rgb * vClr.rgb;
	color = vec4(clr, opacity);
}`,T3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float ambient = 0.35;
	float diffuse = 0.6;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	color = vec4(a + d, opacity);
}`,B3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 up = vec3(0.0, 1.0, 0.0);
	float ax = dot(n, up) * 0.5 + 0.5;  //Shreiner et al. (2013) OpenGL Programming Guide, 8th Ed., p 388. ISBN-10: 0321773039
	vec3 upClr = vec3(1.0, 1.0, 0.95);
	vec3 downClr = vec3(0.4, 0.4, 0.6);
	vec3 a = vClr.rgb * ambient;
	a *= mix(downClr, upClr, ax);
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,R3=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
//Spherical harmonics constants
const float C1 = 0.429043;
const float C2 = 0.511664;
const float C3 = 0.743125;
const float C4 = 0.886227;
const float C5 = 0.247708;
//Spherical harmonics coefficients
// Ramamoorthi, R., and P. Hanrahan. 2001b. "An Efficient Representation for Irradiance Environment Maps." In Proceedings of SIGGRAPH 2001, pp. 497–500.
// https://github.com/eskimoblood/processingSketches/blob/master/data/shader/shinyvert.glsl
// https://github.com/eskimoblood/processingSketches/blob/master/data/shader/shinyvert.glsl
// Constants for Eucalyptus Grove lighting
const vec3 L00  = vec3( 0.3783264,  0.4260425,  0.4504587);
const vec3 L1m1 = vec3( 0.2887813,  0.3586803,  0.4147053);
const vec3 L10  = vec3( 0.0379030,  0.0295216,  0.0098567);
const vec3 L11  = vec3(-0.1033028, -0.1031690, -0.0884924);
const vec3 L2m2 = vec3(-0.0621750, -0.0554432, -0.0396779);
const vec3 L2m1 = vec3( 0.0077820, -0.0148312, -0.0471301);
const vec3 L20  = vec3(-0.0935561, -0.1254260, -0.1525629);
const vec3 L21  = vec3(-0.0572703, -0.0502192, -0.0363410);
const vec3 L22  = vec3( 0.0203348, -0.0044201, -0.0452180);
vec3 SH(vec3 vNormal) {
	vNormal = vec3(vNormal.x,vNormal.z,vNormal.y);
	vec3 diffuseColor = C1 * L22 * (vNormal.x * vNormal.x - vNormal.y * vNormal.y) +
	C3 * L20 * vNormal.z * vNormal.z +
	C4 * L00 -
	C5 * L20 +
	2.0 * C1 * L2m2 * vNormal.x * vNormal.y +
	2.0 * C1 * L21  * vNormal.x * vNormal.z +
	2.0 * C1 * L2m1 * vNormal.y * vNormal.z +
	2.0 * C2 * L11  * vNormal.x +
	2.0 * C2 * L1m1 * vNormal.y +
	2.0 * C2 * L10  * vNormal.z;
	return diffuseColor;
}
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.1;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	vec3 a = vClr.rgb * ambient;
	vec3 d = vClr.rgb * diffuse * SH(-reflect(n, vec3(l.x, l.y, -l.z)) );
	color = vec4(a + d + s, opacity);
}`,U3=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 norm;
layout(location=2) in vec4 clr;
uniform mat4 mvpMtx;
//uniform mat4 modelMtx;
uniform mat4 normMtx;
out vec4 vClr;
flat out vec3 vN;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vN = normalize((normMtx * vec4(norm.xyz,1.0)).xyz);
	//vV = -vec3(modelMtx*vec4(pos,1.0));
	vClr = clr;
}`,cm=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
flat in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,F3=`#version 300 es
#line 1260
//precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 volScale;
uniform vec3 texVox;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform mat4 matRAS;
uniform mat4 mvpMtx;
uniform float drawOpacity, renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform int backgroundMasksOverlays;
in vec3 vColor;
out vec4 fColor;
`+to+`
void main() {
	int id = 254;
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	fColor = vec4(0.0, 0.0, 0.0, 0.0); //assume no hit: ID = 0
	float fid = float(id & 255)/ 255.0;
	vec3 backPosition = GetBackPosition(start);
	vec3 dir = normalize(backPosition - start);
	clipVolumeStart(start, backPosition);
	float len = length(backPosition - start);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) return;//discard; //length limit for parallel rays
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	dir = normalize(dir);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	if (isClip) fColor = vec4(samplePos.xyz, 253.0 / 255.0); //assume no hit: ID = 0
	//start: OPTIONAL fast pass: rapid traversal until first hit
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(volume, samplePos.xyz).a;
		if (val > 0.01) {
			fColor = vec4(samplePos.rgb, fid);
			gl_FragDepth = frac2ndc(samplePos.xyz);
			break;
		}
		samplePos += deltaDirFast; //advance ray position
	}
	//end: fast pass
	if ((overlays < 1.0) || (backgroundMasksOverlays > 0)) {
		return; //background hit, no overlays
	}
	//overlay pass
	len = min(lenNoClip, samplePos.a); //only find overlay closer than background
	samplePos = vec4(start.xyz, 0.0); //ray position
	while (samplePos.a <= len) {
		float val = texture(overlay, samplePos.xyz).a;
		if (val > 0.01) {
			fColor = vec4(samplePos.rgb, fid);
			gl_FragDepth = frac2ndc(samplePos.xyz);
			return;
		}
		samplePos += deltaDirFast; //advance ray position
	}
	//if (fColor.a == 0.0) discard; //no hit in either background or overlays
	//you only get here if there is a hit with the background that is closer than any overlay
}`,V3=`#version 300 es
// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
layout(location=0)  in vec3 a_position;
layout(location=1)  in vec3 a_color;
// A matrix to transform the positions by
uniform mat4 u_matrix;
out vec3 vColor;
// all shaders have a main function
void main() {
	// Multiply the position by the matrix.
	vec4 pos = vec4(a_position, 1.0);
	gl_Position = u_matrix * vec4(pos);
	vColor = a_color;
}
`,I3=`#version 300 es
precision highp float;
uniform vec4 u_color;
in vec3 vColor;
out vec4 outColor;
void main() {
	outColor = vec4(vColor, 1.0);
}`,N3=`#version 300 es
#line 1359
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	vec2 viewCoord = (vPos.xy - 0.5) * 2.0;
	gl_Position = vec4((vPos.xy - 0.5) * 2.0, 0.0, 1.0);
}`,O3=`#version 300 es
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform lowp sampler3D in3D;
void main(void) {
 FragColor = texture(in3D, vec3(TexCoord.xy, coordZ));
}`,El=`#version 300 es
#line 286
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
    TexCoord = vPos.xy;
    gl_Position = vec4( (vPos.xy-vec2(0.5,0.5))* 2.0, 0.0, 1.0);
}`,L3=`#version 300 es
#line 298
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
 vec3 vx = vec3(TexCoord.xy, coordZ);
 vec4 samp = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));
 samp += texture(intensityVol,vx+vec3(+dX,+dY,-dZ));
 samp += texture(intensityVol,vx+vec3(+dX,-dY,+dZ));
 samp += texture(intensityVol,vx+vec3(+dX,-dY,-dZ));
 samp += texture(intensityVol,vx+vec3(-dX,+dY,+dZ));
 samp += texture(intensityVol,vx+vec3(-dX,+dY,-dZ));
 samp += texture(intensityVol,vx+vec3(-dX,-dY,+dZ));
 samp += texture(intensityVol,vx+vec3(-dX,-dY,-dZ));
 FragColor = samp*0.125;
}`,z3=`#version 300 es
#line 298
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
 vec3 vx = vec3(TexCoord.xy, coordZ);
 vec4 XYZ = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));
 vec4 OYZ = texture(intensityVol,vx+vec3(0.0,+dY,+dZ));
 vec4 xYZ = texture(intensityVol,vx+vec3(-dX,+dY,+dZ));
 vec4 XOZ = texture(intensityVol,vx+vec3(+dX,0.0,+dZ));
 vec4 OOZ = texture(intensityVol,vx+vec3(0.0,0.0,+dZ));
 vec4 xOZ = texture(intensityVol,vx+vec3(-dX,0.0,+dZ));
 vec4 XyZ = texture(intensityVol,vx+vec3(+dX,-dY,+dZ));
 vec4 OyZ = texture(intensityVol,vx+vec3(0.0,-dY,+dZ));
 vec4 xyZ = texture(intensityVol,vx+vec3(-dX,-dY,+dZ));

 vec4 XYO = texture(intensityVol,vx+vec3(+dX,+dY,0.0));
 vec4 OYO = texture(intensityVol,vx+vec3(0.0,+dY,0.0));
 vec4 xYO = texture(intensityVol,vx+vec3(-dX,+dY,0.0));
 vec4 XOO = texture(intensityVol,vx+vec3(+dX,0.0,0.0));
 vec4 OOO = texture(intensityVol,vx+vec3(0.0,0.0,0.0));
 vec4 xOO = texture(intensityVol,vx+vec3(-dX,0.0,0.0));
 vec4 XyO = texture(intensityVol,vx+vec3(+dX,-dY,0.0));
 vec4 OyO = texture(intensityVol,vx+vec3(0.0,-dY,0.0));
 vec4 xyO = texture(intensityVol,vx+vec3(-dX,-dY,0.0));

 vec4 XYz = texture(intensityVol,vx+vec3(+dX,+dY,-dZ));
 vec4 OYz = texture(intensityVol,vx+vec3(0.0,+dY,-dZ));
 vec4 xYz = texture(intensityVol,vx+vec3(-dX,+dY,-dZ));
 vec4 XOz = texture(intensityVol,vx+vec3(+dX,0.0,-dZ));
 vec4 OOz = texture(intensityVol,vx+vec3(0.0,0.0,-dZ));
 vec4 xOz = texture(intensityVol,vx+vec3(-dX,0.0,-dZ));
 vec4 Xyz = texture(intensityVol,vx+vec3(+dX,-dY,-dZ));
 vec4 Oyz = texture(intensityVol,vx+vec3(0.0,-dY,-dZ));
 vec4 xyz = texture(intensityVol,vx+vec3(-dX,-dY,-dZ));

 vec4 blurred = vec4 (0.0, 0.0, 0.0, 0.0);
 blurred.r = 2.0*(xOz.r +xOZ.r +xyO.r +xYO.r +xOO.r +XOz.r +XOZ.r +XyO.r +XYO.r +XOO.r) +xyz.r +xyZ.r +xYz.r +xYZ.r +Xyz.r +XyZ.r +XYz.r +XYZ.r;
 blurred.g = 2.0*(Oyz.r +OyZ.r +xyO.r +XyO.r +OyO.r +OYz.r +OYZ.r +xYO.r +XYO.r +OYO.r) +xyz.r +Xyz.r +xyZ.r +XyZ.r +xYz.r +XYz.r +xYZ.r +XYZ.r;
 blurred.b = 2.0*(Oyz.r +OYz.r +xOz.r +XOz.r +OOz.r +OyZ.r +OYZ.r +xOZ.r +XOZ.r +OOZ.r) +xyz.r +Xyz.r +xYz.r +XYz.r +xyZ.r +XyZ.r +XyZ.r +XYZ.r;
 blurred.a = 0.32*(abs(blurred.r)+abs(blurred.g)+abs(blurred.b));
 // 0.0357 = 1/28 to account for weights, rescale to 2**16,
 FragColor = 0.0357*blurred;
}`,Rg=`
  gradientSample.a = log2(gradientSample.r*gradientSample.r + gradientSample.g*gradientSample.g + gradientSample.b*gradientSample.b + 1.922337562475971e-06) + 18.988706873717717;
`,k3=`#version 300 es
#line 323
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
  vec3 vx = vec3(TexCoord.xy, coordZ);
  //Neighboring voxels 'T'op/'B'ottom, 'A'nterior/'P'osterior, 'R'ight/'L'eft
  float TAR = texture(intensityVol,vx+vec3(+dX,+dY,+dZ)).r;
  float TAL = texture(intensityVol,vx+vec3(+dX,+dY,-dZ)).r;
  float TPR = texture(intensityVol,vx+vec3(+dX,-dY,+dZ)).r;
  float TPL = texture(intensityVol,vx+vec3(+dX,-dY,-dZ)).r;
  float BAR = texture(intensityVol,vx+vec3(-dX,+dY,+dZ)).r;
  float BAL = texture(intensityVol,vx+vec3(-dX,+dY,-dZ)).r;
  float BPR = texture(intensityVol,vx+vec3(-dX,-dY,+dZ)).r;
  float BPL = texture(intensityVol,vx+vec3(-dX,-dY,-dZ)).r;
  vec4 gradientSample = vec4 (0.0, 0.0, 0.0, 0.0);
  gradientSample.r = BAR+BAL+BPR+BPL -TAR-TAL-TPR-TPL;
  gradientSample.g = TPR+TPL+BPR+BPL -TAR-TAL-BAR-BAL;
  gradientSample.b = TAL+TPL+BAL+BPL -TAR-TPR-BAR-BPR;
${Rg}
	// 0.04242020977371934 = 1/(log2(3*8) - log2(1/(255**2*8))) // 3*8 -> max for 1st order gradient
	gradientSample.a *= 0.04242020977371934;
  gradientSample.rgb = normalize(gradientSample.rgb);
  gradientSample.rgb = (gradientSample.rgb * 0.5)+0.5;
  FragColor = gradientSample;
}`,P3=`#version 300 es
#line 323
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform float dX2;
uniform float dY2;
uniform float dZ2;
uniform highp sampler3D intensityVol;
void main(void) {
  vec3 vx = vec3(TexCoord.xy, coordZ);
  //Neighboring voxels 'T'op/'B'ottom, 'A'nterior/'P'osterior, 'R'ight/'L'eft
  vec4 TAR = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));
  vec4 TAL = texture(intensityVol,vx+vec3(+dX,+dY,-dZ));
  vec4 TPR = texture(intensityVol,vx+vec3(+dX,-dY,+dZ));
  vec4 TPL = texture(intensityVol,vx+vec3(+dX,-dY,-dZ));
  vec4 BAR = texture(intensityVol,vx+vec3(-dX,+dY,+dZ));
  vec4 BAL = texture(intensityVol,vx+vec3(-dX,+dY,-dZ));
  vec4 BPR = texture(intensityVol,vx+vec3(-dX,-dY,+dZ));
  vec4 BPL = texture(intensityVol,vx+vec3(-dX,-dY,-dZ));
  vec4 T = texture(intensityVol,vx+vec3(+dX2,0.0,0.0));
  vec4 A = texture(intensityVol,vx+vec3(0.0,+dY2,0.0));
  vec4 R = texture(intensityVol,vx+vec3(0.0,0.0,+dZ2));
  vec4 B = texture(intensityVol,vx+vec3(-dX2,0.0,0.0));
  vec4 P = texture(intensityVol,vx+vec3(0.0,-dY2,0.0));
  vec4 L = texture(intensityVol,vx+vec3(0.0,0.0,-dZ2));
  vec4 gradientSample = vec4 (0.0, 0.0, 0.0, 0.0);
  gradientSample.r = -4.0*B.r +8.0*(BAR.r+BAL.r+BPR.r+BPL.r) -8.0*(TAR.r+TAL.r+TPR.r+TPL.r) +4.0*T.r;
  gradientSample.g = -4.0*P.g +8.0*(TPR.g+TPL.g+BPR.g+BPL.g) -8.0*(TAR.g+TAL.g+BAR.g+BAL.g) +4.0*A.g;
  gradientSample.b = -4.0*L.b +8.0*(TAL.b+TPL.b+BAL.b+BPL.b) -8.0*(TAR.b+TPR.b+BAR.b+BPR.b) +4.0*R.b;
${Rg}
	gradientSample.a *= 0.0325;
  gradientSample.rgb = normalize(gradientSample.rgb);
  gradientSample.rgb =  (gradientSample.rgb * 0.5)+0.5;
  FragColor = gradientSample;
}`,Y3=new Float32Array([-1,-1,-1,.28,.28,.28,-1,-1,-1,.28,.28,.28,-1,1,-1,.28,.28,.28,1,-1,-1,.28,.28,.28,1,1,-1,.28,.28,.28,1,1,-1,.28,.28,.28,-1,-1,1,.8,.8,.8,-1,-1,1,.8,.8,.8,1,-1,1,.8,.8,.8,-1,1,1,.8,.8,.8,1,1,1,.8,.8,.8,1,1,1,.8,.8,.8,-1,1,-1,0,0,.74,-1,1,-1,0,0,.74,-1,1,1,0,0,.74,1,1,-1,0,0,.74,1,1,1,0,0,.74,1,1,1,0,0,.74,-1,-1,-1,.42,0,.42,-1,-1,-1,.42,0,.42,1,-1,-1,.42,0,.42,-1,-1,1,.42,0,.42,1,-1,1,.42,0,.42,1,-1,1,.42,0,.42,-1,-1,-1,.64,0,0,-1,-1,-1,.64,0,0,-1,-1,1,.64,0,0,-1,1,-1,.64,0,0,-1,1,1,.64,0,0,-1,1,1,.64,0,0,1,-1,-1,0,.5,0,1,-1,-1,0,.5,0,1,1,-1,0,.5,0,1,-1,1,0,.5,0,1,1,1,0,.5,0,1,1,1,0,.5,0,-.45,1,-.8,0,0,0,-.45,1,-.8,0,0,0,-.45,1,.8,0,0,0,-.25,1,-.8,0,0,0,-.25,1,.8,0,0,0,-.25,1,.8,0,0,0,-.25,1,.6,0,0,0,-.25,1,.6,0,0,0,-.25,1,.8,0,0,0,.45,1,.6,0,0,0,.25,1,.8,0,0,0,.25,1,.8,0,0,0,.25,1,.1,0,0,0,.25,1,.1,0,0,0,.25,1,.6,0,0,0,.45,1,.1,0,0,0,.45,1,.6,0,0,0,.45,1,.6,0,0,0,-.25,1,-.1,0,0,0,-.25,1,-.1,0,0,0,-.25,1,.1,0,0,0,.25,1,-.1,0,0,0,.45,1,.1,0,0,0,.45,1,.1,0,0,0,.45,-1,-.8,0,0,0,.45,-1,-.8,0,0,0,.05,-1,.8,0,0,0,.25,-1,-.8,0,0,0,-.15,-1,.8,0,0,0,-.15,-1,.8,0,0,0,-.25,-1,-.8,0,0,0,-.25,-1,-.8,0,0,0,.05,-1,.8,0,0,0,-.45,-1,-.8,0,0,0,-.15,-1,.8,0,0,0,-.15,-1,.8,0,0,0,.13,-1,-.3,0,0,0,.13,-1,-.3,0,0,0,.07,-1,-.1,0,0,0,-.33,-1,-.3,0,0,0,-.27,-1,-.1,0,0,0,-.27,-1,-.1,0,0,0,-.45,.6,1,0,0,0,-.45,.6,1,0,0,0,-.45,.4,1,0,0,0,-.25,.8,1,0,0,0,-.25,.4,1,0,0,0,-.25,.4,1,0,0,0,-.25,.8,1,0,0,0,-.25,.8,1,0,0,0,-.25,.6,1,0,0,0,.25,.8,1,0,0,0,.45,.6,1,0,0,0,.45,.6,1,0,0,0,.25,.8,1,0,0,0,.25,.8,1,0,0,0,.25,-.1,1,0,0,0,.45,.6,1,0,0,0,.45,.1,1,0,0,0,.45,.1,1,0,0,0,-.25,.1,1,0,0,0,-.25,.1,1,0,0,0,-.45,-.1,1,0,0,0,.25,.1,1,0,0,0,.25,-.1,1,0,0,0,.25,-.1,1,0,0,0,-.45,-.1,1,0,0,0,-.45,-.1,1,0,0,0,-.45,-.6,1,0,0,0,-.25,-.1,1,0,0,0,-.25,-.8,1,0,0,0,-.25,-.8,1,0,0,0,-.25,-.6,1,0,0,0,-.25,-.6,1,0,0,0,-.25,-.8,1,0,0,0,.45,-.6,1,0,0,0,.25,-.8,1,0,0,0,.25,-.8,1,0,0,0,.25,-.4,1,0,0,0,.25,-.4,1,0,0,0,.25,-.6,1,0,0,0,.45,-.4,1,0,0,0,.45,-.6,1,0,0,0,.45,-.6,1,0,0,0,-.1,-.8,-1,0,0,0,-.1,-.8,-1,0,0,0,-.1,.8,-1,0,0,0,.1,-.8,-1,0,0,0,.1,.8,-1,0,0,0,.1,.8,-1,0,0,0,-1,-.45,-.8,0,0,0,-1,-.45,-.8,0,0,0,-1,-.45,.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,.8,0,0,0,-1,-.25,.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,-.6,0,0,0,-1,.45,-.8,0,0,0,-1,.45,-.6,0,0,0,-1,.45,-.6,0,0,0,1,.45,-.8,0,0,0,1,.45,-.8,0,0,0,1,.45,.8,0,0,0,1,.25,-.8,0,0,0,1,.25,.8,0,0,0,1,.25,.8,0,0,0,1,.25,.6,0,0,0,1,.25,.6,0,0,0,1,.25,.8,0,0,0,1,-.45,.6,0,0,0,1,-.25,.8,0,0,0,1,-.25,.8,0,0,0,1,-.25,.1,0,0,0,1,-.25,.1,0,0,0,1,-.25,.6,0,0,0,1,-.45,.1,0,0,0,1,-.45,.6,0,0,0,1,-.45,.6,0,0,0,1,.25,-.1,0,0,0,1,.25,-.1,0,0,0,1,.25,.1,0,0,0,1,-.25,-.1,0,0,0,1,-.45,.1,0,0,0,1,-.45,.1,0,0,0,1,-.25,-.8,0,0,0,1,-.25,-.8,0,0,0,1,-.05,-.1,0,0,0,1,-.45,-.8,0,0,0,1,-.25,-.1,0,0,0,1,-.25,-.1,0,0,0]),zt=class{constructor(e,n,s,a,o=null,c=null){z(this,"sphereIdx",[]),z(this,"sphereVtx",[]),z(this,"renderShaders",[]),z(this,"isVisible",!0),z(this,"isPickable",!0),z(this,"vertexBuffer"),z(this,"indexCount"),z(this,"indexBuffer"),z(this,"vao"),z(this,"mode"),z(this,"glFlags",0),z(this,"id"),z(this,"colorId"),z(this,"modelMatrix",Vt()),z(this,"scale",[1,1,1]),z(this,"position",[0,0,0]),z(this,"rotation",[0,0,0]),z(this,"rotationRadians",0),z(this,"extentsMin",[]),z(this,"extentsMax",[]),z(this,"furthestVertexFromOrigin"),z(this,"originNegate"),z(this,"fieldOfViewDeObliqueMM"),z(this,"mm"),this.vertexBuffer=n,this.indexCount=a,this.indexBuffer=o,this.vao=c,this.mode=s,this.id=e,this.colorId=[(e>>0&255)/255,(e>>8&255)/255,(e>>16&255)/255,(e>>24&255)/255]}};z(zt,"BLEND",1);z(zt,"CULL_FACE",2);z(zt,"CULL_FRONT",4);z(zt,"CULL_BACK",8);z(zt,"ENABLE_DEPTH_TEST",16);z(zt,"generateCrosshairs",function(t,e,n,s,a,o,c=20,h=0){const u=zt.generateCrosshairsGeometry(t,n,s,a,o,c,h);return new zt(e,u.vertexBuffer,t.TRIANGLES,u.indexCount,u.indexBuffer,u.vao)});z(zt,"generateCrosshairsGeometry",function(t,e,n,s,a,o=20,c=0){const h=[],u=[],f=a*c;if(f<=0){let v=ut(n[0],e[1],e[2]),x=ut(s[0],e[1],e[2]);zt.makeCylinder(h,u,v,x,a,o),v=ut(e[0],n[1],e[2]),x=ut(e[0],s[1],e[2]),zt.makeCylinder(h,u,v,x,a,o),v=ut(e[0],e[1],n[2]),x=ut(e[0],e[1],s[2]),zt.makeCylinder(h,u,v,x,a,o)}else{let v=ut(n[0],e[1],e[2]),x=ut(e[0]-f,e[1],e[2]);zt.makeCylinder(h,u,v,x,a,o,!1),v=ut(e[0]+f,e[1],e[2]),x=ut(s[0],e[1],e[2]),zt.makeCylinder(h,u,v,x,a,o,!1),v=ut(e[0],n[1],e[2]),x=ut(e[0],e[1]-f,e[2]),zt.makeCylinder(h,u,v,x,a,o,!1),v=ut(e[0],e[1]+f,e[2]),x=ut(e[0],s[1],e[2]),zt.makeCylinder(h,u,v,x,a,o,!1),v=ut(e[0],e[1],n[2]),x=ut(e[0],e[1],e[2]-f),zt.makeCylinder(h,u,v,x,a,o,!1),v=ut(e[0],e[1],e[2]+f),x=ut(e[0],e[1],s[2]),zt.makeCylinder(h,u,v,x,a,o,!1)}const m=t.createBuffer();if(m===null)throw new Error("could not instantiate vertex buffer");t.bindBuffer(t.ARRAY_BUFFER,m),t.bufferData(t.ARRAY_BUFFER,new Float32Array(h),t.STATIC_DRAW);const g=t.createBuffer();if(g===null)throw new Error("could not instantiate index buffer");t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,g),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint32Array(u),t.STATIC_DRAW);const A=t.createVertexArray();return t.bindVertexArray(A),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,g),t.bindBuffer(t.ARRAY_BUFFER,m),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,3,t.FLOAT,!1,0,0),t.bindVertexArray(null),{vertexBuffer:m,indexBuffer:g,indexCount:u.length,vao:A}});z(zt,"getFirstPerpVector",function(t){const e=ut(0,0,0);return t[0]===0?e[0]=1:t[1]===0?e[1]=1:t[2]===0?e[2]=1:(e[0]=t[2],e[1]=t[2],e[2]=-(t[0]+t[1]),Bi(e,e)),e});z(zt,"subdivide",function(t,e){let n=t.length/3,s=e.length/3;const a=s,o=ee(),c=ee();for(let h=0;h<a;h++){const u=e[h*3+0],f=e[h*3+1],m=e[h*3+2],g=ut(t[u*3+0],t[u*3+1],t[u*3+2]),A=ut(t[f*3+0],t[f*3+1],t[f*3+2]),v=ut(t[m*3+0],t[m*3+1],t[m*3+2]);ys(o,g,A),Bi(c,o),t.push(...c),ys(o,A,v),Bi(c,o),t.push(...c),ys(o,g,v),Bi(c,o),t.push(...c);let x=[n,n+1,n+2];e.push(...x),x=[u,n,n+2],e.push(...x),x=[n,f,n+1],e.push(...x),e[h*3+0]=n+2,e[h*3+1]=n+1,e[h*3+2]=m,s=s+3,n=n+3}});z(zt,"weldVertices",function(t,e){const n=t.length/3;let s=0;const a=new Int32Array(n);for(let h=0;h<n-1;h++){if(a[h]!==0)continue;a[h]=s;let u=h*3;const f=t[u],m=t[u+1],g=t[u+2];for(let A=h+1;A<n;A++)u+=3,f===t[u]&&m===t[u+1]&&g===t[u+2]&&(a[A]=s);s++}if(s===n)return t;const o=e.length;for(let h=0;h<o;h++)e[h]=a[e[h]];const c=t.slice(0,s*3-1);for(let h=0;h<n-1;h++){const u=h*3,f=a[h]*3;c[f]=t[u],c[f+1]=t[u+1],c[f+2]=t[u+2]}return c});z(zt,"makeSphere",function(t,e,n,s=[0,0,0]){let a=[0,0,1,.894,0,.447,.276,.851,.447,-.724,.526,.447,-.724,-.526,.447,.276,-.851,.447,.724,.526,-.447,-.276,.851,-.447,-.894,0,-.447,-.276,-.851,-.447,.724,-.526,-.447,0,0,-1];const o=[0,1,2,0,2,3,0,3,4,0,4,5,0,5,1,7,6,11,8,7,11,9,8,11,10,9,11,6,10,11,6,2,1,7,3,2,8,4,3,9,5,4,10,1,5,6,7,2,7,8,3,8,9,4,9,10,5,10,6,1];zt.subdivide(a,o),zt.subdivide(a,o),a=zt.weldVertices(a,o);for(let f=0;f<a.length;f++)a[f]=a[f]*n;const c=a.length/3;let h=0;for(let f=0;f<c;f++)a[h]=a[h]+s[0],h++,a[h]=a[h]+s[1],h++,a[h]=a[h]+s[2],h++;const u=Math.floor(t.length/3);for(let f=0;f<o.length;f++)o[f]=o[f]+u;e.push(...o),t.push(...a)});z(zt,"makeCylinder",function(t,e,n,s,a,o=20,c=!0){o<3&&(o=3);const h=ee();le(h,s,n),Bi(h,h);const u=zt.getFirstPerpVector(h),f=ee();Nl(f,h,u),Bi(f,f);let m=2*o,g=2*o;c&&(g+=2*o,m+=2);const A=Math.floor(t.length/3),v=new Uint32Array(g*3),x=new Float32Array(m*3);function y(E,R){x[E*3+0]=R[0],x[E*3+1]=R[1],x[E*3+2]=R[2]}function w(E,R,B,U){v[E*3+0]=R+A,v[E*3+1]=B+A,v[E*3+2]=U+A}const C=2*o,T=C+1;c&&(y(C,n),y(T,s));const D=ee(),M=ee();for(let E=0;E<o;E++){const R=Math.cos(E/o*2*Math.PI),B=Math.sin(E/o*2*Math.PI);D[0]=a*(R*u[0]+B*f[0]),D[1]=a*(R*u[1]+B*f[1]),D[2]=a*(R*u[2]+B*f[2]),ys(M,n,D),y(E,M),ys(M,s,D),y(E+o,M);let U=0;E<o-1&&(U=E+1),w(E*2,E,U,E+o),w(E*2+1,U,U+o,E+o),c&&(w(o*2+E,E,C,U),w(o*2+E+o,T,E+o,U+o))}e.push(...v),t.push(...x)});z(zt,"makeColoredCylinder",function(t,e,n,s,a,o,c=[192,0,0,255],h=20,u=!1){let f=t.length/3;zt.makeCylinder(t,e,s,a,o,h,u),f=t.length/3-f;const m=[];for(let g=0;g<f*4-1;g+=4)m[g]=c[0],m[g+1]=c[1],m[g+2]=c[2],m[g+3]=c[3];n.push(...m)});z(zt,"makeColoredSphere",function(t,e,n,s,a=[0,0,0],o=[0,0,192,255]){let c=t.length/3;zt.makeSphere(t,e,s,a),c=t.length/3-c;const h=[];for(let u=0;u<c*4-1;u+=4)h[u]=o[0],h[u+1]=o[1],h[u+2]=o[2],h[u+3]=o[3];n.push(...h)});var bs=zt,zl={};nc(zl,{$itksnap:()=>G3,$slicer3d:()=>H3,actc:()=>q3,afni_blues_inv:()=>nx,afni_reds_inv:()=>sx,batlow:()=>K3,bcgwhw:()=>j3,bcgwhw_dark:()=>Q3,blue:()=>_3,blue2cyan:()=>W3,blue2magenta:()=>Z3,blue2red:()=>X3,bluegrn:()=>J3,bone:()=>$3,bronze:()=>tv,cet_l17:()=>ev,cividis:()=>iv,cool:()=>nv,copper:()=>rv,copper2:()=>sv,ct_airways:()=>av,ct_artery:()=>ov,ct_bones:()=>lv,ct_brain:()=>uv,ct_brain_gray:()=>cv,ct_cardiac:()=>hv,ct_head:()=>fv,ct_kidneys:()=>dv,ct_liver:()=>mv,ct_muscles:()=>gv,ct_scalp:()=>Av,ct_skull:()=>pv,ct_soft:()=>vv,ct_soft_tissue:()=>xv,ct_surface:()=>yv,ct_vessels:()=>bv,ct_w_contrast:()=>wv,cubehelix:()=>Cv,electric_blue:()=>Sv,freesurfer:()=>Mv,ge_color:()=>Ev,gold:()=>Dv,gray:()=>Tv,green:()=>Bv,green2cyan:()=>Rv,green2orange:()=>Uv,hot:()=>Vv,hotiron:()=>Fv,hsv:()=>Iv,inferno:()=>Nv,jet:()=>Ov,kry:()=>Lv,linspecer:()=>zv,lipari:()=>kv,magma:()=>Pv,mako:()=>Yv,navia:()=>Gv,nih:()=>Hv,plasma:()=>qv,random:()=>Kv,red:()=>Qv,redyell:()=>jv,rocket:()=>Xv,roi_i256:()=>rx,surface:()=>Zv,thermal:()=>Wv,turbo:()=>Jv,violet:()=>_v,viridis:()=>$v,warm:()=>tx,winter:()=>ex,x_rain:()=>ix});var G3={R:[0,255,0,0,255,0,255,255,0,205,210,102,0,0,46,255,106,221,233,165,255,147,218,75,255,60,255,255,218,0,188,255,255,222,127,139,124,255,70,0,238,238,240,245,184,32,255,25,112,34,248,245,255,144,173,65,255,250,128,50,244,255,123,255,173,255,127,255,143,220,253,255,0,0,128,255,250,148,178,255,135,100,240,250,255,107,135,0,139,245,186,255,255,0,210,255,47,72,175,128,176,255,139,240,255,216,119,219,72,255,199,154,189,240,230,0,85,64,153,205,250,95,0,255,224,176,138,30,240,152,160],G:[0,0,255,0,255,255,0,239,0,133,180,205,0,139,139,228,90,160,150,42,250,112,112,0,182,179,235,228,165,128,143,105,218,184,255,69,252,255,130,100,130,232,255,222,134,178,20,25,128,139,248,255,160,238,255,105,99,240,0,205,164,255,104,165,216,192,255,140,188,20,245,250,206,255,0,250,128,0,34,127,206,149,230,235,245,142,206,0,0,245,85,228,222,191,105,248,79,61,238,128,224,240,0,255,215,191,136,112,209,0,21,205,183,248,230,250,107,224,50,92,250,158,128,69,255,196,43,144,128,251,82],B:[0,0,0,255,0,255,255,213,205,63,140,170,128,139,87,225,205,221,122,42,250,219,214,130,193,113,205,196,32,128,143,180,185,135,0,19,0,224,180,0,238,170,240,179,11,170,147,112,144,34,255,250,122,144,47,225,71,230,0,50,96,240,238,0,230,203,212,0,143,60,230,240,209,127,128,205,114,211,34,80,235,237,140,215,238,35,250,139,139,220,211,181,173,255,30,220,79,139,238,0,230,245,0,255,0,216,153,147,204,255,133,50,107,255,250,154,47,208,204,92,210,160,0,0,255,222,226,255,128,152,45],A:[0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130]},H3={labels:["background","tissue","bone","skin","connective tissue","blood","organ","mass","muscle","foreign object","waste","teeth","fat","gray matter","white matter","nerve","vein","artery","capillary","ligament","tendon","cartilage","meniscus","lymph node","lymphatic vessel","cerebro-spinal fluid","bile","urine","feces","gas","fluid","edema","bleeding","necrosis","clot","embolism","head","central nervous system","brain","gray matter of brain","telencephalon","cerebral cortex","right frontal lobe","left frontal lobe","right temporal lobe","left temporal lobe","right parietal lobe","left parietal lobe","right occipital lobe","left occipital lobe","right insular lobe","left insular lobe","right limbic lobe","left limbic lobe","right striatum","left striatum","right caudate nucleus","left caudate nucleus","right putamen","left putamen","right pallidum","left pallidum","right amygdaloid complex","left amygdaloid complex","diencephalon","thalamus","right thalamus","left thalamus","pineal gland","midbrain","substantia nigra","right substantia nigra","left substantia nigra","cerebral white matter","right superior longitudinal fasciculus","left superior longitudinal fasciculus","right inferior longitudinal fasciculus","left inferior longitudinal fasciculus","right arcuate fasciculus","left arcuate fasciculus","right uncinate fasciculus","left uncinate fasciculus","right cingulum bundle","left cingulum bundle","projection fibers","right corticospinal tract","left corticospinal tract","right optic radiation","left optic radiation","right medial lemniscus","left medial lemniscus","right superior cerebellar peduncle","left superior cerebellar peduncle","right middle cerebellar peduncle","left middle cerebellar peduncle","right inferior cerebellar peduncle","left inferior cerebellar peduncle","optic chiasm","right optic tract","left optic tract","right fornix","left fornix","commissural fibers","corpus callosum","posterior commissure","cerebellar white matter","CSF space","ventricles of brain","right lateral ventricle","left lateral ventricle","right third ventricle","left third ventricle","cerebral aqueduct","fourth ventricle","subarachnoid space","spinal cord","gray matter of spinal cord","white matter of spinal cord","endocrine system of brain","pituitary gland","adenohypophysis","neurohypophysis","meninges","dura mater","arachnoid","pia mater","muscles of head","salivary glands","lips","nose","tongue","soft palate","right inner ear","left inner ear","right external ear","left external ear","right middle ear","left middle ear","right eyeball","left eyeball","skull","right frontal bone","left frontal bone","right parietal bone","left parietal bone","right temporal bone","left temporal bone","right sphenoid bone","left sphenoid bone","right ethmoid bone","left ethmoid bone","occipital bone","maxilla","right zygomatic bone","right lacrimal bone","vomer bone","right palatine bone","left palatine bone","mandible","neck","muscles of neck","pharynx","larynx","thyroid gland","right parathyroid glands","left parathyroid glands","skeleton of neck","hyoid bone","cervical vertebral column","thorax","trachea","bronchi","right lung","left lung","superior lobe of right lung","superior lobe of left lung","middle lobe of right lung","inferior lobe of right lung","inferior lobe of left lung","pleura","heart","right atrium","left atrium","atrial septum","ventricular septum","right ventricle of heart","left ventricle of heart","mitral valve","tricuspid valve","aortic valve","pulmonary valve","aorta","pericardium","pericardial cavity","esophagus","thymus","mediastinum","skin of thoracic wall","muscles of thoracic wall","skeleton of thorax","thoracic vertebral column","ribs","sternum","right clavicle","left clavicle","abdominal cavity","abdomen","peritoneum","omentum","peritoneal cavity","retroperitoneal space","stomach","duodenum","small bowel","colon","anus","liver","biliary tree","gallbladder","pancreas","spleen","urinary system","right kidney","left kidney","right ureter","left ureter","urinary bladder","urethra","right adrenal gland","left adrenal gland","female internal genitalia","uterus","right fallopian tube","left fallopian tube","right ovary","left ovary","vagina","male internal genitalia","prostate","right seminal vesicle","left seminal vesicle","right deferent duct","left deferent duct","skin of abdominal wall","muscles of abdominal wall","skeleton of abdomen","lumbar vertebral column","female external genitalia","male external genitalia","skeleton of upper limb","muscles of upper limb","right upper limb","left upper limb","right shoulder","left shoulder","right arm"],R:[0,128,241,177,111,216,221,144,192,220,78,255,230,200,250,244,0,216,183,183,152,111,178,68,111,85,0,214,78,218,170,140,188,216,145,150,177,244,250,200,68,128,83,83,162,162,141,141,182,182,188,188,154,154,177,177,30,30,210,210,48,48,98,98,69,166,122,122,253,145,46,0,0,250,127,127,159,159,125,125,106,106,154,154,126,201,201,78,78,174,174,139,139,148,148,186,186,99,156,156,64,64,138,97,126,194,85,88,88,88,88,88,88,88,88,244,200,250,82,57,60,92,255,255,255,255,201,70,188,177,166,182,229,229,174,174,201,201,194,194,241,203,203,229,229,255,255,209,209,248,248,255,196,255,255,255,242,242,222,177,213,184,150,62,62,62,242,250,255,177,182,175,197,197,172,172,202,224,224,255,206,210,203,233,195,181,152,159,166,218,225,224,255,184,211,47,255,173,188,255,226,253,244,205,205,186,177,255,234,204,180,216,255,205,204,255,221,0,139,249,157,203,185,185,247,247,222,124,249,249,244,255,255,227,213,213,193,216,230,245,245,241,241,177,171,217,212,185,185,198,194,177,177,177,177,177],G:[0,174,214,122,184,101,130,238,104,245,63,250,220,200,250,214,151,101,156,214,189,184,212,172,197,188,145,230,63,255,250,224,65,191,60,98,122,214,250,200,131,174,146,146,115,115,93,93,166,166,135,135,150,150,140,140,111,111,157,157,129,129,153,153,110,113,101,101,135,92,101,108,108,250,150,150,116,116,102,102,174,174,146,146,126,160,160,152,152,140,140,126,126,120,120,135,135,106,171,171,123,123,95,113,161,195,188,106,106,106,106,106,106,106,106,214,200,250,174,157,143,162,244,244,244,244,121,163,91,122,84,105,147,147,122,122,112,112,142,142,213,179,179,204,204,243,243,185,185,223,223,230,172,255,250,237,217,217,198,122,124,105,208,162,162,162,206,210,255,122,228,216,165,165,138,138,164,186,186,245,110,115,108,138,100,85,55,63,70,123,130,97,244,122,171,150,244,121,95,239,202,232,217,179,179,124,122,255,234,142,119,132,253,167,168,224,130,145,150,180,108,136,102,102,182,182,154,186,186,186,170,181,190,153,141,141,123,146,158,172,172,172,172,124,85,198,188,135,135,175,98,122,122,122,122,122],B:[0,128,145,101,210,79,101,144,88,20,0,220,70,235,210,49,206,79,220,211,207,210,242,100,131,255,30,130,0,255,250,228,28,216,66,83,101,49,225,215,98,128,164,164,105,105,137,137,110,110,166,166,201,201,190,190,85,85,166,166,126,126,112,112,53,137,38,38,192,109,131,112,112,225,88,88,163,163,154,154,155,155,83,83,55,133,133,141,141,103,103,177,177,72,72,135,135,24,108,108,147,147,74,158,197,164,255,215,215,215,215,215,215,215,215,49,215,225,128,110,83,109,209,209,209,209,77,117,95,101,94,107,118,118,90,90,73,73,0,0,144,77,77,109,109,152,152,85,85,131,131,138,68,167,160,145,123,123,101,101,109,108,243,114,114,114,142,139,207,101,255,244,145,145,115,115,140,162,162,217,84,89,81,112,73,57,13,27,38,97,104,76,209,154,143,103,209,88,76,172,134,158,154,108,108,161,101,220,194,178,153,105,229,142,143,199,101,30,98,111,162,116,83,83,164,164,132,223,150,150,147,158,165,130,113,113,103,127,140,147,147,151,151,92,68,131,102,134,134,125,79,101,101,101,101,101],A:[0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},q3={R:[0,0,24,248,255],G:[0,0,177,254,0],B:[0,136,0,0,0],A:[0,32,64,78,128],I:[0,64,128,156,255]},K3={R:[1,10,15,17,21,27,36,49,65,82,99,118,140,161,183,203,222,238,248,253,253,253,252,250],G:[25,42,56,68,79,88,97,105,111,116,122,127,133,138,142,146,150,155,162,170,178,186,195,204],B:[89,92,95,96,98,98,96,91,83,74,64,55,46,43,49,62,79,100,126,151,175,199,223,250],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},Q3={R:[0,248,242,235,229,222,212,202,193,183,173,145,117,78,39,0,0,0,0,0,0,64,128,191,255,255,255,255,255,238,221,204,214,224,235,245,255,249,242,236,229,223,217,210,204,197,191,184,176,169,161,154,146,139,132,124,117,109,102,0],G:[0,251,247,243,239,235,235,235,235,235,235,216,197,174,150,127,153,178,204,229,255,255,255,255,255,220,185,150,115,77,38,0,31,61,92,122,153,138,122,107,92,77,61,46,31,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B:[0,254,253,252,251,250,251,252,253,254,255,226,198,132,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40,80,120,160,200,199,198,197,196,196,195,194,193,192,191,184,176,169,161,154,146,139,132,124,117,109,102,0],A:[256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256],I:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,255]},j3={R:[255,248,242,235,229,222,212,202,193,183,173,145,117,78,39,0,0,0,0,0,0,64,128,191,255,255,255,255,255,238,221,204,214,224,235,245,255,249,242,236,229,223,217,210,204,197,191,184,176,169,161,154,146,139,132,124,117,109,102,0],G:[255,251,247,243,239,235,235,235,235,235,235,216,197,174,150,127,153,178,204,229,255,255,255,255,255,220,185,150,115,77,38,0,31,61,92,122,153,138,122,107,92,77,61,46,31,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B:[255,254,253,252,251,250,251,252,253,254,255,226,198,132,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40,80,120,160,200,199,198,197,196,196,195,194,193,192,191,184,176,169,161,154,146,139,132,124,117,109,102,0],A:[256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256],I:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,255]},X3={R:[0,0,0,0,196,255],G:[0,32,128,128,128,32],B:[0,255,196,0,0,0],A:[0,128,64,64,64,128],I:[0,1,64,128,192,255]},Z3={R:[0,255],G:[0,0],B:[255,255],A:[0,128],I:[0,255]},W3={R:[0,0],G:[0,255],B:[255,255],A:[0,128],I:[0,255]},J3={R:[0,0,0,0],G:[0,1,128,255],B:[0,222,127,32],A:[0,0,64,128],I:[0,1,128,255]},_3={R:[0,0,0],G:[0,0,0],B:[0,128,255],A:[0,64,128],I:[0,128,255]},$3={R:[0,103,255],G:[0,126,255],B:[0,165,255],A:[0,76,128],I:[0,153,255]},tv={R:[0,43,103,199,216,255],G:[0,0,37,155,213,255],B:[0,0,20,97,201,255],A:[0,44,48,54,56,56],I:[0,64,128,196,240,255]},ev={R:[0,9,24,33,40,46,52,57,62,66,70,74,78,81,85,88,91,94,98,101,103,106,109,112,114,117,119,121,124,126,128,130,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,164,166,168,169,171,172,174,175,177,178,180,181,183,184,186,187,189,190,191,193,194,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,222,223,224,224,225,226,226,227,228,228,229,229,230,231,231,232,233,233,234,234,235,235,236,236,236,237,237,237,238,238,238,239,239,239,240,240,240,241,241,241,242,242,242,243,243,243,243,243,243,243,243,244,244,244,244,244,244,244,244,244,244,244,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,243,243,243,243,243,243,243,243,243,243,243,243,242,242,242,242,242,242,242,242,241,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,243,243,244,244,245,246,246,247,247,248,249,249,250,250,251,251,252,252,253,253,254,254,254],G:[42,41,41,41,40,40,40,39,39,39,38,38,37,37,36,36,35,35,34,34,33,32,32,31,30,30,30,30,29,29,29,29,28,28,28,27,27,27,26,26,26,25,25,25,24,24,24,24,24,25,25,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,38,39,40,42,43,44,45,47,48,49,50,51,53,54,55,56,57,58,59,60,62,63,64,65,66,68,69,71,72,73,75,76,77,79,80,81,83,84,85,87,88,89,90,92,93,94,95,97,98,100,101,102,104,105,107,108,109,111,112,113,115,116,117,119,120,121,122,124,125,126,128,129,130,132,133,134,136,137,138,140,141,142,144,145,146,147,149,150,151,153,154,155,156,158,159,160,161,163,164,165,167,168,169,170,172,173,174,175,176,178,179,180,181,183,184,185,186,187,189,190,191,192,193,194,196,197,198,199,200,201,203,204,205,206,207,208,209,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,228,229,230,231,232,233,234,235,236,237,238,238,239,240,241,241,242,243,244,244,245,246,247,248,248,249,250,251,251,252,253,254,255],B:[167,167,166,166,166,165,165,165,164,164,164,163,163,162,162,162,161,161,161,160,160,160,159,159,158,158,157,157,156,155,155,154,154,153,153,152,151,151,150,150,149,149,148,147,147,146,146,145,144,144,143,143,142,141,141,140,139,139,138,137,137,136,135,135,134,133,133,132,131,131,130,130,129,128,128,127,127,126,125,125,124,124,123,123,122,121,121,120,119,119,118,118,117,116,116,116,115,115,114,114,113,113,113,112,112,111,111,110,110,109,109,109,108,108,107,107,106,106,106,106,106,105,105,105,105,105,105,105,104,104,104,104,104,103,103,103,103,103,102,102,102,103,103,103,103,104,104,104,104,104,105,105,105,105,106,106,106,106,106,107,107,107,107,108,108,109,110,111,111,112,113,113,114,115,115,116,117,117,118,119,120,120,121,122,122,123,124,125,126,128,129,130,131,132,134,135,136,137,138,140,141,142,143,144,146,147,148,149,150,152,153,155,157,158,160,162,163,165,167,168,170,172,173,175,177,178,180,182,183,185,187,188,190,193,196,199,201,204,207,210,212,215,218,221,224,226,229,232,235,238,240,243,246,249,252,255],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},iv={R:[0,86,166,255],G:[32,92,156,233],B:[76,108,117,69],A:[0,56,80,88],I:[0,64,192,255]},nv={R:[0,0,0],G:[127,196,254],B:[255,255,255],A:[0,64,128],I:[0,128,255]},sv={R:[0,61,122,183,244,255],G:[0,41,81,122,163,255],B:[0,25,51,76,102,255],A:[0,25,51,71,102,128],I:[0,51,102,153,204,255]},rv={R:[0,61,122,183,244,255],G:[0,41,81,122,163,203],B:[0,25,51,76,102,127],A:[0,25,51,71,102,128],I:[0,51,102,153,204,255]},av={min:-643,max:-235,R:[0,0,0],G:[154,154,154],B:[179,179,101],A:[0,32,0],I:[0,163,255]},ov={min:114,max:800,R:[0,255,255,255],G:[0,0,129,255],B:[0,0,0,255],A:[0,64,88,228],I:[0,80,160,255]},lv={min:180,max:600,R:[0,0,113,255],G:[0,0,109,250],B:[0,0,101,245],A:[0,0,100,160],I:[0,1,128,255]},cv={min:-10,max:110,R:[0,127,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},uv={min:-10,max:110,R:[0,199,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},hv={min:-80,max:1e3,R:[0,189,150,150,150,150,255],G:[0,169,54,54,54,54,240],B:[0,153,52,52,52,52,242],A:[0,32,64,0,0,64,64],I:[0,1,82,92,234,242,255]},fv={min:-590,max:600,R:[0,241,241,248,248,178,178,232,255,255,255],G:[0,156,156,222,222,36,36,51,255,255,255],B:[0,130,130,169,169,24,24,37,255,255,255],A:[0,8,0,0,0,64,64,0,0,222,222],I:[0,2,3,64,122,142,172,182,252,253,255]},dv={min:114,max:302,R:[0,255,255],G:[0,129,255],B:[0,0,255],A:[0,88,228],I:[0,103,255]},mv={min:-23,max:246,R:[0,44,255,255,255],G:[0,128,90,255,255],B:[0,0,70,0,255],A:[0,0,82,184,228],I:[0,64,131,196,255]},gv={min:-100,max:246,R:[0,128,159,255,255,255,255],G:[0,0,56,90,0,255,255],B:[0,0,41,70,0,0,255],A:[0,63,105,135,167,184,228],I:[0,100,128,155,180,209,255]},Av={min:-590,max:600,R:[0,241,241,248,248,178,232,255,255],G:[0,156,156,222,222,36,51,255,255],B:[0,130,130,169,169,24,37,255,255],A:[0,63,105,135,167,184,228,228,228],I:[0,1,52,127,137,162,172,252,255]},pv={min:140,max:1024,R:[0,2,113,255],G:[0,1,109,250],B:[0,1,101,245],A:[0,1,96,168],I:[0,1,128,255]},vv={min:-923,max:679,R:[0,0,0,0,0,255,255,255],G:[154,154,154,154,0,0,254,255],B:[179,179,179,179,0,0,0,255],A:[0,3,8,0,0,10,15,20],I:[0,30,62,88,170,200,232,255]},xv={min:-10,max:110,R:[0,199,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},yv={min:-600,max:100,R:[0,134,255],G:[0,109,250],B:[0,101,245],A:[0,60,148],I:[0,128,255]},bv={min:114,max:246,R:[0,255,255],G:[0,128,255],B:[0,128,255],A:[0,64,96],I:[0,87,255]},wv={min:50,max:1e3,R:[98,210,169,128,255],G:[94,26,77,128,255],B:[45,21,74,128,255],A:[0,25,0,4,168],I:[0,41,87,154,255]},Cv={R:[0,13,21,26,27,25,22,21,22,28,39,54,75,98,124,148,171,189,202,210,213,211,206,200,195,193,195,201,211,225,240,255],G:[0,5,11,20,31,44,58,72,86,99,109,116,120,122,122,122,121,121,124,129,137,147,161,175,190,205,218,229,238,245,251,255],B:[0,14,30,46,61,71,77,78,75,68,60,52,48,47,53,65,83,105,131,157,183,205,222,235,241,243,242,240,239,240,245,255],A:[0,4,8,12,17,21,25,29,33,37,41,45,50,54,58,62,66,70,74,78,83,87,91,95,99,103,107,111,116,120,124,128],I:[0,8,16,25,33,41,49,58,66,74,82,90,99,107,115,123,132,140,148,156,165,173,181,189,197,206,214,222,230,239,247,255]},Sv={R:[0,10,136,255],G:[0,39,220,255],B:[0,223,253,255],A:[0,48,64,70],I:[0,92,192,255]},Mv={R:[0,245,205,120,196,220,230,0,122,236,12,204,42,119,220,103,60,255,165,160,0,245,205,120,196,220,230,0,122,236,13,220,103,255,165,160,0,120,200,255,255,164,164,164,234,0,0,0,0,0],G:[0,245,62,18,58,248,148,118,186,13,48,182,204,159,216,255,60,165,42,32,200,245,62,18,58,248,148,118,186,13,48,216,255,165,42,32,200,190,70,148,148,108,108,108,169,0,0,0,0,0],B:[0,245,78,134,250,164,34,14,220,176,255,142,164,176,20,255,60,0,42,240,200,245,78,134,250,164,34,14,220,176,255,20,255,0,42,240,221,150,255,10,10,226,226,226,30,64,112,160,208,255],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,2,3,4,5,7,8,10,11,12,13,14,15,16,17,18,24,26,28,30,31,41,42,43,44,46,47,49,50,51,52,53,54,58,60,62,63,72,77,78,79,80,81,82,85,251,252,253,254,255]},Ev={R:[0,0,128,255,255],G:[0,128,0,128,255],B:[0,125,255,0,255],A:[0,32,64,96,128],I:[0,63,128,192,255]},Dv={R:[0,142,227,255],G:[0,85,170,255],B:[0,14,76,255],A:[0,42,84,128],I:[0,85,170,255]},Tv={R:[0,255],G:[0,255],B:[0,255],A:[0,128],I:[0,255]},Bv={R:[0,0,0],G:[0,128,255],B:[0,0,0],A:[0,64,128],I:[0,128,255]},Rv={R:[0,0,0],G:[72,72,255],B:[0,255,255],A:[0,64,128],I:[0,88,255]},Uv={R:[0,255,255],G:[72,88,255],B:[0,0,0],A:[0,64,128],I:[0,88,255]},Fv={R:[0,255,255,255],G:[0,0,126,255],B:[0,0,0,255],A:[0,64,96,128],I:[0,128,191,255]},Vv={R:[3,255,255,255],G:[0,0,255,255],B:[0,0,0,255],A:[0,48,96,128],I:[0,95,191,255]},Iv={R:[255,255,0,0,0,255,255],G:[0,255,255,255,0,0,0],B:[0,0,0,255,255,255,0],A:[0,14,28,43,57,71,85],I:[0,43,85,128,170,213,255]},Nv={R:[0,120,237,240],G:[0,28,105,249],B:[4,109,37,33],A:[0,56,80,88],I:[0,64,192,255]},Ov={R:[0,0,127,255,127],G:[0,127,255,127,0],B:[127,255,127,0,0],A:[0,32,64,96,128],I:[0,63,128,192,255]},Lv={R:[0,255,255],G:[0,0,255],B:[0,0,0],A:[0,64,64],I:[0,86,255]},zv={R:[94,50,90,152,215,238,249,254,252,241,209,158],G:[79,131,186,214,240,244,237,210,157,100,57,1],B:[162,189,167,164,155,169,168,123,86,68,79,66],A:[0,12,23,35,47,58,70,81,93,105,116,128],I:[0,23,46,70,93,116,139,162,185,209,232,255]},kv={R:[3,7,13,25,45,67,84,98,110,124,138,154,173,191,210,225,233,233,231,229,230,235,243,253],G:[19,33,48,63,77,87,92,94,95,96,96,97,99,101,106,118,133,149,163,177,192,208,225,245],B:[38,58,79,99,114,122,122,120,117,113,110,105,101,97,94,96,103,112,122,134,149,169,192,218],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},Pv={R:[0,148,183,223,247,252],G:[0,44,55,74,112,253],B:[4,128,121,104,92,191],A:[0,44,53,64,75,107],I:[0,107,128,154,179,255]},Yv={R:[11,59,55,222],G:[4,45,165,245],B:[5,91,172,229],A:[0,23,70,107],I:[0,56,167,255]},Gv={R:[3,5,6,8,12,19,28,36,42,48,54,61,68,76,86,96,110,129,154,181,205,224,239,252],G:[19,32,44,58,72,86,98,108,116,122,128,134,141,149,157,167,178,191,204,216,225,232,239,244],B:[39,60,82,104,123,137,144,145,142,138,134,130,126,121,116,110,105,104,112,131,155,178,198,217],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},Hv={R:[0,85,0,0,0,0,0,0,85,255,255,255,172],G:[0,0,0,0,85,170,255,255,255,255,85,0,0],B:[0,170,85,255,255,170,170,0,85,0,0,0,0],A:[0,5,10,21,26,32,37,42,48,53,64,72,85],I:[0,15,31,63,79,95,111,127,143,159,191,217,255]},qv={R:[13,156,237,240],G:[8,23,121,249],B:[135,158,83,33],A:[0,56,80,88],I:[0,64,192,255]},Kv={R:[208,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248,161,189,41,114,65,121,97,50,238,149,44,214,124,167,40,167,127,178,231,30,173,244,193,203,204,238,139,135,71,234,234,217,66,14,129,19,97,165,112,244,35,73,192,12,149,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248,161,189,41,114,65,121,97,50,238,149,44,214,124,167,40,167,127,178,231,30,173,244,193,203,204,238,139,135,71,234,234,217,66,14,129,19,97,165,112,244,35,73,192,12,149,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248],G:[182,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21,42,22,241,61,99,115,199,166,114,190,204,60,233,66,115,230,125,103,203,125,13,176,94,131,39,198,167,124,67,175,254,1,15,198,62,237,159,31,218,58,244,47,61,67,94,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21,42,22,241,61,99,115,199,166,114,190,204,60,233,66,115,230,125,103,203,125,13,176,94,131,39,198,167,124,67,175,254,1,15,198,62,237,159,31,218,58,244,47,61,67,94,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21],B:[191,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77,89,112,59,125,226,50,205,227,125,128,104,27,59,66,53,133,159,203,97,125,139,159,158,7,215,47,140,226,223,231,44,110,184,61,233,47,67,148,22,120,173,156,117,181,94,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77,89,112,59,125,226,50,205,227,125,128,104,27,59,66,53,133,159,203,97,125,139,159,158,7,215,47,140,226,223,231,44,110,184,61,233,47,67,148,22,120,173,156,117,181,94,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},Qv={R:[0,128,255],G:[0,0,0],B:[0,0,0],A:[0,64,128],I:[0,128,255]},jv={R:[192,224,255],G:[1,128,255],B:[0,0,0],A:[0,64,128],I:[0,128,255]},Xv={R:[3,112,144,188,236,246,255],G:[5,31,29,22,76,158,250],B:[26,87,91,86,62,117,235],A:[0,30,38,49,67,85,107],I:[0,73,92,118,160,205,255]},Zv={R:[1,240,255],G:[1,128,255],B:[1,128,255],A:[0,76,128],I:[0,153,255]},Wv={R:[0,5,18,34,53,72,90,107,126,144,161,178,194,209,222,233,242,248,251,251,249,244,241,252],G:[0,4,10,11,9,11,17,23,30,36,43,50,59,70,83,98,117,136,157,177,199,220,240,254],B:[3,24,50,76,96,106,109,110,108,104,97,89,79,67,55,42,26,12,6,22,47,79,121,164],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},Jv={R:[48,48,64,70,65,25,132,195,244,254,218,122],G:[18,18,64,107,150,226,255,241,199,158,57,4],B:[59,59,162,227,255,187,81,52,58,47,7,3],A:[0,22,26,30,34,43,52,57,63,67,77,86],I:[0,1,16,32,49,83,118,140,164,181,219,255]},_v={R:[0,128,255],G:[0,0,0],B:[0,128,255],A:[0,64,128],I:[0,128,255]},$v={R:[68,49,53,253],G:[1,104,183,231],B:[84,142,121,37],A:[0,56,80,88],I:[0,64,192,255]},tx={R:[255,255,255],G:[127,196,254],B:[0,0,0],A:[0,64,128],I:[0,128,255]},ex={R:[0,0,0],G:[0,128,255],B:[255,196,128],A:[0,64,128],I:[0,128,255]},ix={R:[3,64,0,0,255,255,255],G:[0,0,0,255,255,192,3],B:[0,32,48,56,64,96,128],A:[0,8,16,24,32,52,80],I:[0,32,64,96,160,192,255]},nx={min:0,max:0,R:[0,37],G:[242,0],B:[255,255],A:[0,64],I:[0,255]},sx={R:[255,255],G:[255,11],B:[0,0],A:[0,64],I:[0,255]},rx={min:0,max:0,R:[65,10,223,120,216,207,251,93,252,217,21,253,131,165,173,143,144,217,86,89,63,254,172,1,142,107,42,78,221,8,222,71,127,126,167,33,104,2,208,216,0,251,7,105,2,101,248,190,253,62,255,224,166,37,110,138,45,34,6,37,69,201,43,122,199,37,173,194,103,211,75,159,96,4,239,98,110,193,253,166,40,255,48,130,140,243,101,9,177,220,133,32,4,81,48,48,210,109,60,132,1,119,1,159,247,33,212,187,253,144,196,254,168,79,64,196,39,97,73,173,104,216,217,43,101,119,254,5,237,103,203,122,57,87,251,164,19,75,200,2,252,150,66,0,255,157,23,254,55,16,240,161,69,253,207,195,5,60,255,251,200,217,134,123,253,180,27,246,130,136,250,232,4,125,140,22,253,255,13,180,123,61,254,111,10,185,76,192,255,223,186,61,198,5,172,13,83,172,171,6,23,73,134,133,109,61,213,55,57,132,36,209,2,144,1,253,68,155,3,160,2,77,121,70,67,176,223,131,4,162,232,255,150,94,235,191,207,10,246,0,225,4,209,116,57,112,172,253,1,6,92,227,73,62,135,223],G:[162,50,112,245,4,124,176,243,56,125,183,139,182,68,189,4,225,10,20,223,7,46,31,193,225,250,219,41,2,100,83,181,34,150,72,223,168,248,80,253,7,117,214,2,248,10,3,59,179,160,90,244,146,4,207,4,125,255,96,100,1,208,130,51,116,181,236,53,244,5,165,28,181,86,96,42,254,1,134,194,214,92,41,204,137,86,207,3,143,3,100,239,164,94,65,251,131,244,173,57,143,107,217,53,210,0,148,250,45,198,81,40,61,218,252,88,171,0,248,24,248,4,41,100,187,46,208,145,43,168,121,46,175,250,125,107,233,112,207,231,174,215,53,9,43,153,52,124,128,65,210,147,255,147,63,200,148,254,0,179,241,42,239,2,230,8,82,135,87,16,3,87,86,151,254,8,255,86,53,19,7,192,171,201,253,247,197,103,251,126,0,149,54,183,61,126,79,113,10,103,184,75,11,195,222,136,149,131,8,99,240,177,252,255,198,16,7,68,178,66,191,150,73,26,211,109,78,209,240,254,1,166,247,131,2,0,167,127,133,10,43,99,235,3,214,142,176,82,132,38,10,249,255,215,44,81],B:[176,182,248,37,117,35,96,69,32,152,108,20,237,250,2,89,141,216,111,251,211,149,10,44,214,103,31,251,3,32,252,246,97,1,219,167,197,4,36,116,206,118,106,43,205,204,114,69,127,205,87,80,41,251,145,204,253,161,247,1,149,9,43,253,97,72,136,161,171,181,26,255,108,80,218,214,231,255,84,31,109,4,218,3,217,36,68,85,241,39,221,2,240,2,173,42,206,5,110,46,103,27,212,184,2,207,246,45,116,72,110,253,38,105,248,159,243,81,192,93,141,145,24,157,234,131,57,178,62,75,65,176,148,40,253,66,76,240,51,154,17,251,139,253,207,9,114,49,200,254,96,73,138,118,204,102,137,89,145,161,4,112,66,234,147,178,212,205,185,11,203,131,2,250,118,169,1,185,154,53,171,197,61,175,249,96,15,254,95,5,222,75,246,194,2,61,180,25,133,165,15,233,59,35,221,140,109,7,114,255,198,0,115,168,252,23,242,80,75,142,137,255,12,182,68,201,4,111,37,228,83,248,24,192,249,5,54,223,160,122,160,114,145,119,252,31,253,250,10,214,8,47,0,142,222,70],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},ax=class{constructor(){z(this,"gamma",1),z(this,"version",.1),z(this,"cluts",{});const e=Object.keys(zl).filter(n=>!n.startsWith("$")).sort(new Intl.Collator("en").compare);for(const n of e)this.cluts[n]=zl[n]}addColormap(t,e){this.cluts[t]=e}colormaps(){return Object.keys(this.cluts)}colorMaps(){return this.colormaps()}colormapFromKey(t){let e=this.cluts[t];return e!==void 0||(e=this.cluts[t.toLowerCase()],e!==void 0)?e:(t.length>0&&Y.warn("No color map named "+t),{min:0,max:0,R:[0,255],G:[0,255],B:[0,255],A:[0,255],I:[0,255]})}colormap(t="",e=!1){const n=this.colormapFromKey(t);return this.makeLut(n.R,n.G,n.B,n.A,n.I,e)}makeLabelLut(t,e=255){if(t.R===void 0||t.G===void 0||t.B===void 0)throw new Error(`Invalid colormap table: ${t}`);const n=t.R.length,s=t.I??[...Array(n).keys()];if(n!==t.G.length||n!==t.B.length||n!==s.length)throw new Error(`colormap does not make sense: ${t} Rs ${t.R.length} Gs ${t.G.length} Bs ${t.B.length} Is ${s.length}`);let a=new Uint8ClampedArray(n).fill(e);a[0]=0,t.A!==void 0&&(a=Uint8ClampedArray.from(t.A));const o=Math.min(...s),c=Math.max(...s),h=c-o+1,u=new Uint8ClampedArray(h*4).fill(0);for(let m=0;m<n;m++){let g=(s[m]-o)*4;u[g++]=t.R[m],u[g++]=t.G[m],u[g++]=t.B[m],u[g++]=a[m]}const f={lut:u,min:o,max:c};if(t.labels){const m=t.labels.length;if(m===h)f.labels=t.labels;else if(m===n){f.labels=Array(h).fill("?");for(let g=0;g<n;g++){const A=s[g];f.labels[A]=t.labels[g]}}}return f}async makeLabelLutFromUrl(t){const n=await(await fetch(t)).json();return this.makeLabelLut(n)}makeDrawLut(t){let e=typeof t=="object"?t:zl[t];e===void 0&&(e={min:0,max:0,R:[0,255,0,0,255,0,255],G:[0,0,255,0,255,255,0],B:[0,0,0,255,0,255,255],A:[0,255,255,255,255,255,255],I:[0,255]});const n=this.makeLabelLut(e,255);if(n.labels===void 0&&(n.labels=[]),n.labels.length<256){const c=n.labels.length;for(let h=c;h<256;h++)n.labels.push(h.toString())}const s=new Uint8ClampedArray(256*4);let a=0;for(let c=0;c<256;c++)s[a++]=255,s[a++]=0,s[a++]=0,s[a++]=255;s[3]=0;const o=Math.min(n.lut.length,256*4);if(o>0)for(let c=0;c<o;c++)s[c]=n.lut[c];return{lut:s,labels:n.labels}}makeLut(t,e,n,s,a,o){const c=t.length,h=[...t],u=[...e],f=[...n];if(!a){a=new Array(c);for(let v=0;v<c;v++)a[v]=v/(c-1)*255}s||(s=new Array(c).fill(64),s[0]=0);let m=Uint8ClampedArray.from(s),g=Uint8ClampedArray.from(a);if(o)for(let v=0;v<c;v++)h[v]=t[c-1-v],u[v]=e[c-1-v],f[v]=n[c-1-v],m[v]=255-s[c-1-v],g[v]=255-a[c-1-v];const A=new Uint8ClampedArray(256*4);if(typeof g>"u"){g=new Uint8ClampedArray(c).fill(0);for(let v=0;v<c;v++)g[v]=Math.round(v*255/(c-1))}typeof m>"u"&&(m=new Uint8ClampedArray(c).fill(64),m[0]=0);for(let v=0;v<c-1;v++){const x=g[v];let y=g[v+1];v===0&&x!==0&&Y.warn("colormap issue: indices expected to start with 0 not ",x),v===g.length-2&&y!==255&&(Y.warn("padding colormap: indices expected end with 255 not ",y),y=255);const w=y-x;let C=x*4;for(let T=x;T<=y;T++){const D=(T-x)/w;A[C++]=h[v]+D*(h[v+1]-h[v]),A[C++]=u[v]+D*(u[v+1]-u[v]),A[C++]=f[v]+D*(f[v+1]-f[v]),A[C++]=m[v]+D*(m[v+1]-m[v])}}if(this.gamma===1)return A;for(let v=0;v<255*4;v++)v%4!==3&&(A[v]=Math.pow(A[v]/255,1/this.gamma)*255);return A}},$t=new ax,As=class{static getClusterBoundaryU8(t,e){const n=new Array(t.length).fill(!1),s=new Array(t.length).fill(!1);for(let c=0;c<t.length;c++)t[c]>0&&(s[c]=!0);const a=e.length/3;let o=0;for(let c=0;c<a;c++){const h=e[o],u=e[o+1],f=e[o+2];o+=3,!(s[h]===s[u]&&s[h]===s[f]&&s[u]===s[f])&&(n[h]=!0,n[u]=!0,n[f]=!0)}return n}static async gzip(t){const e=new CompressionStream("gzip"),n=e.writable.getWriter();n.write(t).catch(console.error);const s=n.close().catch(console.error),a=new Response(e.readable),o=new Uint8Array(await a.arrayBuffer());return await s,o}static createMZ3(t,e,n=!1,s=null){const o=s instanceof Uint8Array&&s.length===t.length/3*4,c=o?7:3,h=e.length/3,u=t.length/3,f=0,m=16,g=h*3*4,A=u*3*4,v=m+g+A,x=new ArrayBuffer(v),y=new DataView(x);y.setUint16(0,23117,!0),y.setUint16(2,c,!0),y.setUint32(4,h,!0),y.setUint32(8,u,!0),y.setUint32(12,f,!0);let w=m;if(new Uint32Array(x,w,e.length).set(e),w+=g,new Float32Array(x,w,t.length).set(t),o&&(w+=A,new Uint8Array(x,w,s.length).set(s)),n)throw new Error("Call async createMZ3Async() for compression");return x}static async createMZ3Async(t,e,n=!1,s=null){const a=this.createMZ3(t,e,n,s);return n?await this.gzip(new Uint8Array(a)):a}static createOBJ(t,e){let n="";for(let o=0;o<t.length;o+=3)n+=`v ${t[o]} ${t[o+1]} ${t[o+2]}
`;for(let o=0;o<e.length;o+=3)n+=`f ${e[o]+1} ${e[o+1]+1} ${e[o+2]+1}
`;return new TextEncoder().encode(n).buffer}static createSTL(t,e){const n=e.length/3,s=84+n*50,a=new ArrayBuffer(s),o=new DataView(a);for(let h=0;h<80;h++)o.setUint8(h,0);o.setUint32(80,n,!0);let c=84;for(let h=0;h<e.length;h+=3){const u=e[h]*3,f=e[h+1]*3,m=e[h+2]*3;o.setFloat32(c,0,!0),o.setFloat32(c+4,0,!0),o.setFloat32(c+8,0,!0),c+=12,o.setFloat32(c,t[u],!0),o.setFloat32(c+4,t[u+1],!0),o.setFloat32(c+8,t[u+2],!0),c+=12,o.setFloat32(c,t[f],!0),o.setFloat32(c+4,t[f+1],!0),o.setFloat32(c+8,t[f+2],!0),c+=12,o.setFloat32(c,t[m],!0),o.setFloat32(c+4,t[m+1],!0),o.setFloat32(c+8,t[m+2],!0),c+=12,o.setUint16(c,0,!0),c+=2}return a}static downloadArrayBuffer(t,e){const n=new Blob([t],{type:"application/octet-stream"}),s=URL.createObjectURL(n),a=document.createElement("a");a.href=s,a.download=e,document.body.appendChild(a),a.style.display="none",a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(s)},0)}static async saveMesh(t,e,n=".mz3",s=!1){let a=new ArrayBuffer(0);return/\.obj$/i.test(n)?a=this.createOBJ(t,e):/\.stl$/i.test(n)?a=this.createSTL(t,e):(/\.mz3$/i.test(n)||(n+=".mz3"),a=await this.createMZ3Async(t,e,s)),n.length>4&&this.downloadArrayBuffer(a,n),a}static getClusterBoundary(t,e){const n=new Uint32Array(t.buffer),s=new Array(n.length).fill(!1),a=e.length/3;let o=0;for(let c=0;c<a;c++){const h=e[o],u=e[o+1],f=e[o+2];o+=3,!(n[h]===n[u]&&n[h]===n[f]&&n[u]===n[f])&&(s[h]=!0,s[u]=!0,s[f]=!0)}return s}static getExtents(t){if(!ArrayBuffer.isView(t)&&!Array.isArray(t)||t.length<3)return{mxDx:0,extentsMin:0,extentsMax:0};let e=0;const n=ut(t[0],t[1],t[2]),s=ut(t[0],t[1],t[2]);for(let c=0;c<t.length;c+=3){const h=ut(t[c],t[c+1],t[c+2]);e=Math.max(e,Xa(h)),yf(n,n,h),bf(s,s,h)}const a=[n[0],n[1],n[2]],o=[s[0],s[1],s[2]];return{mxDx:e,extentsMin:a,extentsMax:o}}static generateNormals(t,e){const n=[];let s;const a=t.length;let o,c,h,u,f,m,g,A,v;const x=new Float32Array(a),y=e.length;for(s=0;s<y;s+=3){g=e[s]*3,A=e[s+1]*3,v=e[s+2]*3;const w=[t[g],t[g+1],t[g+2]],C=[t[A],t[A+1],t[A+2]],T=[t[v],t[v+1],t[v+2]];o=C[0]-w[0],c=C[1]-w[1],h=C[2]-w[2],u=T[0]-w[0],f=T[1]-w[1],m=T[2]-w[2],n[0]=f*h-m*c,n[1]=m*o-u*h,n[2]=u*c-f*o,x[g]+=n[0],x[g+1]+=n[1],x[g+2]+=n[2],x[A]+=n[0],x[A+1]+=n[1],x[A+2]+=n[2],x[v]+=n[0],x[v+1]+=n[1],x[v+2]+=n[2]}for(s=0;s<a;s+=3){n[0]=-1*x[s],n[1]=-1*x[s+1],n[2]=-1*x[s+2];let w=n[0]*n[0]+n[1]*n[1]+n[2]*n[2];w>0&&(w=1/Math.sqrt(w),n[0]*=w,n[1]*=w,n[2]*=w),x[s]=n[0],x[s+1]=n[1],x[s+2]=n[2]}return x}},yt,ti,kl,rf,Pa,Ug=class{constructor(t){Ia(this,yt),Ia(this,ti,0),Ia(this,kl,[]),Ia(this,rf,[]),Ia(this,Pa),dr(this,yt,new DataView(t)),this.read()}async extract(t){const e=new Uint8Array(pt(this,yt).buffer.slice(t.startsAt,t.startsAt+t.compressedSize));if(t.compressionMethod===0)return e;if(t.compressionMethod===8){const n=new DecompressionStream("deflate-raw"),s=n.writable.getWriter();s.write(e).catch(console.error);const a=s.close().catch(console.error),o=new Response(n.readable),c=new Uint8Array(await o.arrayBuffer());return await a,c}throw new Error(`Unsupported compression method: ${t.compressionMethod}`)}read(){for(;!pt(this,Pa)&&pt(this,ti)<pt(this,yt).byteLength;){const t=pt(this,yt).getUint32(pt(this,ti),!0);if(t===67324752){const e=this.readLocalFile(pt(this,ti));e.extract=this.extract.bind(this,e),pt(this,kl).push(e);const n=(e.generalPurpose&8)!==0;if(e.startsAt=pt(this,ti)+30+e.fileNameLength+e.extraLength,e.compressedSize===0&&n){let s=e.startsAt;for(;s+20<=pt(this,yt).byteLength;){if(pt(this,yt).getUint32(s,!0)===134695760&&pt(this,yt).getUint16(s+16,!0)===19280){s+=4;break}s++}e.crc=pt(this,yt).getUint32(s,!0),e.compressedSize=pt(this,yt).getUint32(s+4,!0),e.uncompressedSize=pt(this,yt).getUint32(s+8,!0),dr(this,ti,s+12)}else dr(this,ti,e.startsAt+e.compressedSize)}else if(t===33639248){const e=this.readCentralDirectory(pt(this,ti));pt(this,rf).push(e),dr(this,ti,pt(this,ti)+(46+e.fileNameLength+e.extraLength+e.fileCommentLength))}else if(t===101010256){dr(this,Pa,this.readEndCentralDirectory(pt(this,ti)));break}else if(t===101075792){dr(this,Pa,this.readEndCentralDirectory64(pt(this,ti)));break}else{console.error(`Unexpected ZIP signature 0x${t.toString(16).padStart(8,"0")} at index ${pt(this,ti)}`);break}}}readLocalFile(t){let e=pt(this,yt).getUint32(t+18,!0),n=pt(this,yt).getUint32(t+22,!0);const s=pt(this,yt).getUint16(t+26,!0),a=pt(this,yt).getUint16(t+28,!0),o=t+30+s;if(this.readString(o,a),e===4294967295&&n===4294967295){let c=o,h=!1;for(;c<o+a-4;){const u=pt(this,yt).getUint16(c,!0),f=pt(this,yt).getUint16(c+2,!0);if(c+=4,u===1)if(f>=16){n=Number(pt(this,yt).getBigUint64(c,!0)),c+=8,e=Number(pt(this,yt).getBigUint64(c,!0)),h=!0;break}else throw new Error(`ZIP64 extra field found but is too small (expected at least 16 bytes, got ${f}).`);c+=f}if(!h)throw new Error("ZIP64 format missing extra field with signature 0x0001.")}return{signature:this.readString(t,4),version:pt(this,yt).getUint16(t+4,!0),generalPurpose:pt(this,yt).getUint16(t+6,!0),compressionMethod:pt(this,yt).getUint16(t+8,!0),lastModifiedTime:pt(this,yt).getUint16(t+10,!0),lastModifiedDate:pt(this,yt).getUint16(t+12,!0),crc:pt(this,yt).getUint32(t+14,!0),compressedSize:e,uncompressedSize:n,fileNameLength:s,extraLength:a,fileName:this.readString(t+30,s),extra:this.readString(t+30+s,a)}}readCentralDirectory(t){return{versionCreated:pt(this,yt).getUint16(t+4,!0),versionNeeded:pt(this,yt).getUint16(t+6,!0),fileNameLength:pt(this,yt).getUint16(t+28,!0),extraLength:pt(this,yt).getUint16(t+30,!0),fileCommentLength:pt(this,yt).getUint16(t+32,!0),diskNumber:pt(this,yt).getUint16(t+34,!0),internalAttributes:pt(this,yt).getUint16(t+36,!0),externalAttributes:pt(this,yt).getUint32(t+38,!0),offset:pt(this,yt).getUint32(t+42,!0),comments:this.readString(t+46,pt(this,yt).getUint16(t+32,!0))}}readEndCentralDirectory(t){const e=pt(this,yt).getUint16(t+20,!0);return{numberOfDisks:pt(this,yt).getUint16(t+4,!0),centralDirectoryStartDisk:pt(this,yt).getUint16(t+6,!0),numberCentralDirectoryRecordsOnThisDisk:pt(this,yt).getUint16(t+8,!0),numberCentralDirectoryRecords:pt(this,yt).getUint16(t+10,!0),centralDirectorySize:pt(this,yt).getUint32(t+12,!0),centralDirectoryOffset:pt(this,yt).getUint32(t+16,!0),commentLength:e,comment:this.readString(t+22,e)}}readEndCentralDirectory64(t){const e=Number(pt(this,yt).getBigUint64(t+0,!0));return{numberOfDisks:pt(this,yt).getUint32(t+16,!0),centralDirectoryStartDisk:pt(this,yt).getUint32(t+20,!0),numberCentralDirectoryRecordsOnThisDisk:Number(pt(this,yt).getBigUint64(t+24,!0)),numberCentralDirectoryRecords:Number(pt(this,yt).getBigUint64(t+32,!0)),centralDirectorySize:Number(pt(this,yt).getBigUint64(t+40,!0)),centralDirectoryOffset:Number(pt(this,yt).getBigUint64(t+48,!0)),commentLength:e,comment:""}}readString(t,e){return Array.from({length:e},(n,s)=>String.fromCharCode(pt(this,yt).getUint8(t+s))).join("")}get entries(){return pt(this,kl)}};yt=new WeakMap;ti=new WeakMap;kl=new WeakMap;rf=new WeakMap;Pa=new WeakMap;var At=class wr{static arrayBufferToBase64(e){const n=new Uint8Array(e);return wr.uint8tob64(n)}static async decompress(e){const n=e[0]===31&&e[1]===139&&e[2]===8?"gzip":e[0]===120&&(e[1]===1||e[1]===94||e[1]===156||e[1]===218)?"deflate":"deflate-raw",s=new DecompressionStream(n),a=s.writable.getWriter();a.write(e).catch(console.error);const o=a.close().catch(console.error),c=new Response(s.readable),h=new Uint8Array(await c.arrayBuffer());return await o,h}static async decompressToBuffer(e){const n=await wr.decompress(e);return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}static async readMatV4(e,n=!1){let s=e.byteLength;if(s<40)throw new Error("File too small to be MAT v4: bytes = "+e.byteLength);let a=new DataView(e),o=a.getUint16(0,!0),c=e;if(o===35615||o===8075){const x=await this.decompress(new Uint8Array(e));a=new DataView(x.buffer),o=a.getUint16(0,!0),c=x.buffer,s=c.byteLength}const h=new TextDecoder("utf-8"),u=new Uint8Array(c);let f=0;const m={};function g(x){return Math.floor(x/10)%10}function A(x,y,w){const C=new Uint8Array(u.subarray(y,w));return x===1?new Float32Array(C.buffer):x===2?new Int32Array(C.buffer):x===3?new Int16Array(C.buffer):x===4?new Uint16Array(C.buffer):x===5?new Uint8Array(C.buffer):new Float64Array(C.buffer)}function v(){const x=a.getUint32(f,!0),y=a.getUint32(f+4,!0),w=a.getUint32(f+8,!0),C=a.getUint32(f+12,!0),T=a.getUint32(f+16,!0);if(f+=20,C!==0)throw new Error("Matlab V4 reader does not support imaginary numbers");const D=y*w;if(D<1)throw new Error("mrows * ncols must be greater than one");const M=new Uint8Array(u.subarray(f,f+T));let E=h.decode(M).trim().replaceAll("\0","");n&&(E=E.replaceAll(".","_"));const R=g(x);let B=8;if(R>=1&&R<=2)B=4;else if(R>=3&&R<=4)B=2;else if(R===5)B=1;else if(R!==0)throw new Error("impossible Matlab v4 datatype");if(f+=T,x>50)throw new Error("Does not appear to be little-endian V4 Matlab file");const U=f+D*B;m[E]=A(R,f,U),f=U}for(;f+20<s;)v();return m}static b64toUint8(e){const n=atob(e),s=n.length,a=new Uint8Array(s);for(let o=0;o<s;o++)a[o]=n.charCodeAt(o);return a}static uint8tob64(e){let n="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=e.byteLength,o=a%3,c=a-o;let h,u,f,m,g;for(let A=0;A<c;A=A+3)g=e[A]<<16|e[A+1]<<8|e[A+2],h=(g&16515072)>>18,u=(g&258048)>>12,f=(g&4032)>>6,m=g&63,n+=s[h]+s[u]+s[f]+s[m];return o===1?(g=e[c],h=(g&252)>>2,u=(g&3)<<4,n+=s[h]+s[u]+"=="):o===2&&(g=e[c]<<8|e[c+1],h=(g&64512)>>10,u=(g&1008)>>4,f=(g&15)<<2,n+=s[h]+s[u]+s[f]+"="),n}static download(e,n,s){const a=document.createElement("a"),o=Array.isArray(e)?e:[e],c=new Blob(o,{type:s});a.href=URL.createObjectURL(c),a.download=n,a.click()}static readFileAsync(e){return new Promise((n,s)=>{const a=new FileReader;a.onload=()=>{n(a.result)},a.onerror=s,a.readAsArrayBuffer(e)})}static blobToBase64(e){return new Promise(n=>{const s=new FileReader;s.onloadend=()=>n(s.result),s.readAsDataURL(e)})}static async decompressBase64String(e){const n=atob(e),s=new ArrayBuffer(n.length),a=new Uint8Array(s);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return wr.decompressArrayBuffer(a)}static async compressToBase64String(e){const n=await wr.compressStringToArrayBuffer(e);return wr.uint8tob64(new Uint8Array(n))}static strToU8(e,n){if(n){const u=new Uint8Array(e.length);for(let f=0;f<e.length;++f)u[f]=e.charCodeAt(f);return u}const s=e.length,a=(u,f,m)=>((m==null||m>u.length)&&(m=u.length),new Uint8Array(u.subarray(f,m)));let o=new Uint8Array(e.length+(e.length>>1)),c=0;const h=u=>{o[c++]=u};for(let u=0;u<s;++u){if(c+5>o.length){const m=new Uint8Array(c+8+(s-u<<1));m.set(o),o=m}let f=e.charCodeAt(u);f<128||n?h(f):f<2048?(h(192|f>>6),h(128|f&63)):(f>55295&&f<57344,f=65536+(f&1047552)|e.charCodeAt(++u)&1023,h(240|f>>18),h(128|f>>12&63),h(128|f>>6&63),h(128|f&63))}return a(o,0,c)}static async compress(e,n="gzip"){const s=new CompressionStream(n),a=s.writable.getWriter();a.write(e).catch(console.error);const o=a.close().catch(console.error),h=await new Response(s.readable).arrayBuffer();return await o,h}static async compressStringToArrayBuffer(e){const n=this.strToU8(e);return await this.compress(n)}static isArrayBufferCompressed(e){if(e&&e.byteLength){const n=new Uint8Array(e);return(n[0]<<8|n[1])===8075}else return!1}static strFromU8(e,n){if(n){let s="";for(let a=0;a<e.length;a+=16384)s+=String.fromCharCode.apply(null,e.subarray(a,a+16384));return s}else{const s=(h,u,f)=>((u==null||u<0)&&(u=0),(f==null||f>h.length)&&(f=h.length),new Uint8Array(h.subarray(u,f))),a=h=>{for(let u="",f=0;;){let m=h[f++];const g=(m>127)+(m>223)+(m>239);if(f+g>h.length)return{s:u,r:s(h,f-1)};g?g===3?(m=((m&15)<<18|(h[f++]&63)<<12|(h[f++]&63)<<6|h[f++]&63)-65536,u+=String.fromCharCode(55296|m>>10,56320|m&1023)):g&1?u+=String.fromCharCode((m&31)<<6|h[f++]&63):u+=String.fromCharCode((m&15)<<12|(h[f++]&63)<<6|h[f++]&63):u+=String.fromCharCode(m)}},{s:o,r:c}=a(e);if(c.length)throw new Error("Unexpected trailing bytes in UTF-8 decoding");return o}}static async decompressArrayBuffer(e){const n=await this.decompress(new Uint8Array(e));return this.strFromU8(n)}static arraysAreEqual(e,n){return m4(e,n)}static range(e,n,s){return Array.from({length:(n-e)/s+1},(a,o)=>e+o*s)}static sph2cartDeg(e,n){const s=-n*(Math.PI/180),a=(e-90)%360*(Math.PI/180),o=[Math.cos(s)*Math.cos(a),Math.cos(s)*Math.sin(a),Math.sin(s)],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);return c<=0||(o[0]/=c,o[1]/=c,o[2]/=c),o}static vox2mm(e,n){const s=Ae(n);di(s,s);const a=ie(e[0],e[1],e[2],1);return ze(a,a,s),ut(a[0],a[1],a[2])}},Dl=Y,ae=class Re{static readTRACT(e){const n=e.byteLength;if(n<20)throw new Error("File too small to be niml.tract: bytes = "+n);const s=new DataView(e),a=new Uint8Array(e);let o=0;function c(){for(;o<n&&a[o]!==60;)o++;const y=o;for(;o<n&&a[o]!==62;)o++;return o++,o-y<1?"":new TextDecoder().decode(e.slice(y,o-1)).trim()}let h=c();function u(y){const w=h.indexOf(y);if(w<0)return 0;const C=h.indexOf('"',w)+1,T=h.indexOf('"',C),D=h.slice(C,T);return parseInt(D)}const f=u("N_tracts=");(!h.startsWith("<network")||f<1)&&Y.warn("This is not a valid niml.tract file "+h);let m=0;const g=[];g.push(m);const A=[],v=[];for(let y=0;y<f;y++){h=c();const w=u("ni_dimen="),C=u("Bundle_Tag="),T=h.includes("binary.lsbfirst");for(let D=0;D<w;D++){o+=4;const M=s.getUint32(o,T)/3;o+=4;for(let E=0;E<M;E++)A.push(s.getFloat32(o,T)),o+=4,A.push(-s.getFloat32(o,T)),o+=4,A.push(s.getFloat32(o,T)),o+=4;m+=M,g.push(m),v.push(C)}h=c()}const x=[];return x.push({id:"tract",vals:Float32Array.from(v)}),{pts:new Float32Array(A),offsetPt0:new Uint32Array(g),dps:x}}static async readTT(e){let n=new Uint32Array(0),s=new Float32Array(0);const a=await At.readMatV4(e);if(!("trans_to_mni"in a))throw new Error("TT format file must have 'trans_to_mni'");if(!("voxel_size"in a))throw new Error("TT format file must have 'voxel_size'");if(!("track"in a))throw new Error("TT format file must have 'track'");let o=Vt();const c=a.trans_to_mni;o=mi(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]),di(o,o);function h(u){const f=new DataView(u.buffer),m=[];let g=0,A=0;for(;A<u.length;){m.push(A);const y=f.getUint32(A,!0);A=A+y+13,g+=y}n=new Uint32Array(m.length+1),s=new Float32Array(g);let v=0;for(let y=0;y<m.length;y++){n[y]=v/3;let w=m[y];const C=f.getUint32(w,!0)/3;let T=f.getInt32(w+4,!0),D=f.getInt32(w+8,!0),M=f.getInt32(w+12,!0);w+=16,s[v++]=T,s[v++]=D,s[v++]=M;for(let E=2;E<=C;E++)T=T+f.getInt8(w++),D=D+f.getInt8(w++),M=M+f.getInt8(w++),s[v++]=T,s[v++]=D,s[v++]=M}for(let y=0;y<v;y++)s[y]=s[y]/32;let x=0;for(let y=0;y<v/3;y++){const w=ie(s[x],s[x+1],s[x+2],1);ze(w,w,o),s[x++]=w[0],s[x++]=w[1],s[x++]=w[2]}n[m.length]=v/3}return h(a.track),{pts:s,offsetPt0:n}}static async readTRX(e){function n(v){const x=(v&31744)>>10,y=v&1023;return(v>>15?-1:1)*(x?x===31?y?NaN:1/0:Math.pow(2,x-15)*(1+y/1024):6103515625e-14*(y/1024))}let s=0,a=0,o=new Float32Array([]);const c=[],h=[],u=[],f=[];let m=[],g=!1;const A=new Ug(e);for(let v=0;v<A.entries.length;v++){const x=A.entries[v];if(x.uncompressedSize===0)continue;const y=x.fileName.split("/"),w=y.slice(-1)[0];if(w.startsWith("."))continue;const C=y.slice(-2)[0],T=w.split(".")[0],D=await x.extract();if(w.includes("header.json")){const R=new TextDecoder().decode(D);m=JSON.parse(R);continue}let M=0,E=[];if(w.endsWith(".uint64")||w.endsWith(".int64")){M=D.length/8,E=new Uint32Array(M);const R=new Uint32Array(D.buffer);let B=0;for(let U=0;U<M;U++)E[U]=R[B],R[B+1]!==0&&(g=!0),B+=2}else if(w.endsWith(".uint32"))E=new Uint32Array(D.buffer);else if(w.endsWith(".uint16"))E=new Uint16Array(D.buffer);else if(w.endsWith(".uint8"))E=new Uint8Array(D.buffer);else if(w.endsWith(".int32"))E=new Int32Array(D.buffer);else if(w.endsWith(".int16"))E=new Int16Array(D.buffer);else if(w.endsWith(".int8"))E=new Int8Array(D.buffer);else if(w.endsWith(".float64"))E=new Float64Array(D.buffer);else if(w.endsWith(".float32"))E=new Float32Array(D.buffer);else if(w.endsWith(".float16")){M=D.length/2,E=new Float32Array(M);const R=new Uint16Array(D.buffer),B=new Float32Array(65536);for(let U=0;U<65536;U++)B[U]=n(U);for(let U=0;U<M;U++)E[U]=B[R[U]]}else continue;if(M=E.length,C.includes("groups")){h.push({id:T,vals:Float32Array.from(E.slice())});continue}if(C.includes("dpv")){f.push({id:T,vals:Float32Array.from(E.slice())});continue}if(C.includes("dps")){u.push({id:T,vals:Float32Array.from(E.slice())});continue}if(w.startsWith("offsets.")){s=M;for(let R=0;R<M;R++)c[R]=E[R]}w.startsWith("positions.3.")&&(a=M,o=new Float32Array(E))}if(s===0||a===0)throw new Error("Failure reading TRX format (no offsets or points).");if(g)throw new Error("Too many vertices: JavaScript does not support 64 bit integers");return c[s]=a/3,{pts:o,offsetPt0:new Uint32Array(c),dpg:h,dps:u,dpv:f,header:m}}static readTSF(e,n=0){const s=new Float32Array(n),a=e.byteLength;if(a<20)throw new Error("File too small to be TSF: bytes = "+a);const o=new Uint8Array(e);let c=0;function h(){for(;c<a&&o[c]===10;)c++;const A=c;for(;c<a&&o[c]!==10;)c++;return c++,c-A<1?"":new TextDecoder().decode(e.slice(A,c-1))}let u=h();if(!u.includes("mrtrix track scalars"))throw new Error("Not a valid TSF file");let f=-1;for(;c<a&&!u.includes("END");)if(u=h(),u.toLowerCase().startsWith("file:")&&(f=parseInt(u.split(" ").pop())),u.toLowerCase().startsWith("datatype:")&&!u.endsWith("Float32LE"))throw new Error("Only supports TSF files with Float32LE");if(f<20)throw new Error("Not a valid TSF file (missing file offset)");c=f;const m=new DataView(e);let g=0;for(;c+4<=a&&g<n;){const A=m.getFloat32(c,!0);if(c+=4,isFinite(A))s[g++]=A;else if(!isNaN(A))break}return s}static readTCK(e){const n=e.byteLength;if(n<20)throw new Error("File too small to be TCK: bytes = "+n);const s=new Uint8Array(e);let a=0;function o(){for(;a<n&&s[a]===10;)a++;const x=a;for(;a<n&&s[a]!==10;)a++;return a++,a-x<1?"":new TextDecoder().decode(e.slice(x,a-1))}let c=o();if(!c.includes("mrtrix tracks"))throw new Error("Not a valid TCK file");let h=-1;for(;a<n&&!c.includes("END");)c=o(),c.toLowerCase().startsWith("file:")&&(h=parseInt(c.split(" ").pop()));if(h<20)throw new Error("Not a valid TCK file (missing file offset)");a=h;const u=new DataView(e);let f=0,m=new Uint32Array(n/(4*4)),g=0,A=0,v=new Float32Array(n/4);for(m[0]=0;a+12<n;){const x=u.getFloat32(a,!0);a+=4;const y=u.getFloat32(a,!0);a+=4;const w=u.getFloat32(a,!0);if(a+=4,isFinite(x))v[A++]=x,v[A++]=y,v[A++]=w,f++;else if(m[g++]=f,!isNaN(x))break}return v=v.slice(0,A),m=m.slice(0,g),{pts:v,offsetPt0:m}}static async readTRK(e){let n=new DataView(e),s=n.getUint32(0,!0);if(s!==1128354388){let I;if(s===4247762216)throw new Error("zstd TRK decompression is not supported");I=await At.decompress(new Uint8Array(e)),e=I.buffer,n=new DataView(e),s=n.getUint32(0,!0)}const a=n.getUint32(992,!0),o=n.getUint32(996,!0);if(a>2||o!==1e3||s!==1128354388)throw new Error("Not a valid TRK file");const c=n.getInt16(36,!0),h=[];for(let I=0;I<c;I++){const F=new Uint8Array(e.slice(38+I*20,58+I*20)),L=new TextDecoder().decode(F).split("\0").shift();h.push({id:L.trim(),vals:[]})}const u=n.getFloat32(12,!0),f=n.getFloat32(16,!0),m=n.getFloat32(20,!0),g=mi(1/u,0,0,-.5,0,1/f,0,-.5,0,0,1/m,-.5,0,0,0,1),A=n.getInt16(238,!0),v=[];for(let I=0;I<A;I++){const F=new Uint8Array(e.slice(240+I*20,260+I*20)),L=new TextDecoder().decode(F).split("\0").shift();v.push({id:L.trim(),vals:[]})}const x=Vt();for(let I=0;I<16;I++)x[I]=n.getFloat32(440+I*4,!0);x[15]===0&&(Y.warn("TRK vox_to_ras not set"),lg(x));const y=Vt();cg(y,g,x);let w=null,C=null;w=new Int32Array(e.slice(o)),C=new Float32Array(w.buffer);const T=w.length;if(T<1)throw new Error("Empty TRK file.");let D=0,M=0,E=new Uint32Array(w.length/4),R=0,B=new Float32Array(w.length),U=0;for(;D<T;){const I=w[D];D=D+1,E[R++]=M;for(let F=0;F<I;F++){const L=C[D+0],k=C[D+1],q=C[D+2];if(D+=3,B[U++]=L*y[0]+k*y[1]+q*y[2]+y[3],B[U++]=L*y[4]+k*y[5]+q*y[6]+y[7],B[U++]=L*y[8]+k*y[9]+q*y[10]+y[11],c>0)for(let P=0;P<c;P++)h[P].vals.push(C[D]),D++;M++}if(A>0)for(let F=0;F<A;F++)v[F].vals.push(C[D]),D++}const N=[];for(let I=0;I<v.length;I++)N.push({id:v[I].id,vals:Float32Array.from(v[I].vals)});const S=[];for(let I=0;I<h.length;I++)S.push({id:h[I].id,vals:Float32Array.from(h[I].vals)});return E[R++]=M,B=B.slice(0,U),E=E.slice(0,R),{pts:B,offsetPt0:E,dps:N,dpv:S}}static readTxtVTK(e){const a=new TextDecoder("utf-8").decode(e).split(`
`);if(a.length<7||!a[0].startsWith("# vtk DataFile"))throw new Error("Invalid VTK image");if(!a[2].startsWith("ASCII"))throw new Error("Not ASCII VTK mesh");let c=3;for(;a[c].length<1;)c++;if(!a[c].includes("POLYDATA"))throw new Error("Not ASCII VTK polydata");for(c++;a[c].length<1;)c++;if(!a[c].startsWith("POINTS"))throw new Error("Not VTK POINTS");let h=a[c].trim().split(/\s+/);const u=parseInt(h[1]),f=u*3,m=new Float32Array(u*3);let g=0;for(;g<u*3;){c++;const y=a[c].trim().trim().split(/\s+/);for(let w=0;w<y.length&&!(g>=f);w++)m[g]=parseFloat(y[w]),g++}const A=[];for(c++;a[c].length<1;)c++;if(a[c].startsWith("METADATA")){for(;a[c].length>1;)c++;c++}if(h=a[c].trim().split(/\s+/),c++,h[0].includes("LINES")){const x=parseInt(h[1]);if(x<1)throw new Error("Corrupted VTK ASCII");let y=a[c].trim();const w=[];let C=[];if(y.startsWith("OFFSETS")){c++;let T=0;for(;T<x;){y=a[c].trim(),c++;const D=y.trim().split(/\s+/);for(let M=0;M<D.length&&(w[T]=parseInt(D[M]),T++,!(T>=x));M++);}C=Array.from(m)}else{let T=function(){y=a[c].trim();const R=y.trim().split(/\s+/);M=[];for(let B=0;B<R.length;B++)M.push(parseInt(R[B]));E=0,c++},D=0;w[0]=0;let M=[],E=0;T();for(let R=0;R<x;R++){E>=M.length&&T();const B=M[E++];D+=B,w[R+1]=D;for(let U=0;U<B;U++){E>=M.length&&T();const N=M[E++]*3;C.push(m[N+0]),C.push(m[N+1]),C.push(m[N+2])}}}return{pts:Float32Array.from(C),offsetPt0:Uint32Array.from(w)}}else if(h[0].includes("TRIANGLE_STRIPS")){const x=parseInt(h[1]);for(let y=0;y<x;y++){const w=a[c].trim();c++;const C=w.trim().split(/\s+/),T=parseInt(C[0])-2;let D=1;for(let M=0;M<T;M++)M%2?(A.push(parseInt(C[D+2])),A.push(parseInt(C[D+1])),A.push(parseInt(C[D]))):(A.push(parseInt(C[D])),A.push(parseInt(C[D+1])),A.push(parseInt(C[D+2]))),D+=1}}else if(h[0].includes("POLYGONS")){const x=parseInt(h[1]);for(let y=0;y<x;y++){const w=a[c].trim();c++;const C=w.trim().split(/\s+/),T=parseInt(C[0])-2,D=parseInt(C[1]);let M=parseInt(C[2]);for(let E=0;E<T;E++){const R=parseInt(C[3+E]);A.push(D),A.push(M),A.push(R),M=R}}}else throw new Error("Unsupported ASCII VTK datatype "+h[0]);const v=new Uint32Array(A);return{positions:m,indices:v}}static async readLayer(e="",n,s,a=.5,o="warm",c="winter",h=!1,u=null,f=null,m=0){const g={...px,colormapInvert:!1,colormapType:0,isTransparentBelowCalMin:!0,isAdditiveBlend:!1,colorbarVisible:!0,colormapLabel:null},A=/(?:\.([^.]+))?$/;let v=A.exec(e)[1];v=v.toUpperCase(),v==="GZ"&&(v=A.exec(e.slice(0,-3))[1],v=v.toUpperCase());const x=s.vertexCount/3;if(s.offsetPt0){if(v!=="TSF")throw new Error("readLayer for streamlines only supports TSF files.");const C=s.pts.length/3,T=e.split("/");let D="Unknown";T.length>1&&T.pop()&&(D=D.split(".").slice(0,-1).join("."));const M=Re.readTSF(n,C);s.dpv||(s.dpv=[]);const E=M.reduce((B,U)=>Math.min(B,U)),R=M.reduce((B,U)=>Math.max(B,U));return s.dpv.push({id:D,vals:Float32Array.from(M.slice()),global_min:E,global_max:R,cal_min:E,cal_max:R}),g}if(x<3){Y.error("n_vert < 3 in layer");return}if(v==="MZ3"){const C=await Re.readMZ3(n,x);g.values=C.scalars,"colormapLabel"in C&&(g.colormapLabel=C.colormapLabel)}else if(v==="ANNOT"){const C=Re.readANNOT(n,x,!0);C instanceof Uint32Array?g.values=C:(g.values=C.scalars,g.colormapLabel=C.colormapLabel)}else if(v==="CRV"||v==="CURV"||v==="THICKNESS"||v==="AREA")g.values=Re.readCURV(n,x),g.isTransparentBelowCalMin=!1;else if(v==="GII"){const C=await Re.readGII(n,x);g.values=C.scalars,g.colormapLabel=C.colormapLabel}else if(v==="MGH"||v==="MGZ"){const C=await Re.readMGH(n,x,!0);"scalars"in C?(g.values=C.scalars,g.colormapLabel=C.colormapLabel):g.values=C}else if(v==="NII")g.values=await Re.readNII(n,x,s.anatomicalStructurePrimary);else if(v==="SMP")g.values=await Re.readSMP(n,x);else if(v==="STC")g.values=Re.readSTC(n,x);else if(Re.isCurv(n))g.values=Re.readCURV(n,x),g.isTransparentBelowCalMin=!1;else return Y.warn("Unknown layer overlay format "+e),g;if(!g.values){Y.error("no values in layer");return}g.nFrame4D=g.values.length/x,g.frame4D=0,g.outlineBorder=m;let y=g.values[0],w=g.values[0];for(let C=0;C<g.values.length;C++)y=Math.min(y,g.values[C]),w=Math.max(w,g.values[C]);return g.global_min=y,g.global_max=w,g.cal_min=u||0,u||(g.cal_min=y),g.cal_max=f||0,f||(g.cal_max=w),g.cal_minNeg=NaN,g.cal_maxNeg=NaN,g.opacity=a,g.colormap=o,g.colormapNegative=c,g.useNegativeCmap=h,g}static async readSMP(e,n){const s=e.byteLength;let a=new DataView(e),o=a.getUint16(0,!0);if(o>5){const g=await At.decompress(new Uint8Array(e));a=new DataView(g.buffer),o=a.getUint16(0,!0),e=g.buffer}o>5&&Y.error("Unsupported or invalid BrainVoyager SMP version "+o);const c=a.getUint32(2,!0);c!==n&&Y.error("SMP file has "+c+" vertices, background mesh has "+n);const h=a.getUint16(6,!0),u=new Float32Array(c*h);let f=9;function m(){const g=f;for(;f<s&&a.getUint8(f)!==0;)f++;return f++,new TextDecoder().decode(e.slice(g,f-1))}m();for(let g=0;g<h;g++){const A={};A.mapType=a.getUint32(f,!0),f+=4,o>=3&&A.mapType===3&&(A.nLags=a.getUint32(f,!0),f+=4,A.mnLag=a.getUint32(f,!0),f+=4,A.mxLag=a.getUint32(f,!0),f+=4,A.ccOverlay=a.getUint32(f,!0),f+=4),A.clusterSize=a.getUint32(f,!0),f+=4,A.clusterCheck=a.getUint8(f),f+=1,A.critThresh=a.getFloat32(f,!0),f+=4,A.maxThresh=a.getFloat32(f,!0),f+=4,o>=4&&(A.includeValuesGreaterThreshMax=a.getUint32(f,!0),f+=4),A.df1=a.getUint32(f,!0),f+=4,A.df2=a.getUint32(f,!0),f+=4,o>=5?(A.posNegFlag=a.getUint32(f,!0),f+=4):A.posNegFlag=3,A.cortexBonferroni=a.getUint32(f,!0),f+=4,A.posMinRGB=[0,0,0],A.posMaxRGB=[0,0,0],A.negMinRGB=[0,0,0],A.negMaxRGB=[0,0,0],o>=2&&(A.posMinRGB[0]=a.getUint8(f),f++,A.posMinRGB[1]=a.getUint8(f),f++,A.posMinRGB[2]=a.getUint8(f),f++,A.posMaxRGB[0]=a.getUint8(f),f++,A.posMaxRGB[1]=a.getUint8(f),f++,A.posMaxRGB[2]=a.getUint8(f),f++,o>=4&&(A.negMinRGB[0]=a.getUint8(f),f++,A.negMinRGB[1]=a.getUint8(f),f++,A.negMinRGB[2]=a.getUint8(f),f++,A.negMaxRGB[0]=a.getUint8(f),f++,A.negMaxRGB[1]=a.getUint8(f),f++,A.negMaxRGB[2]=a.getUint8(f),f++),A.enableSMPColor=a.getUint8(f),f++,o>=4&&(A.lut=m()),A.colorAlpha=a.getFloat32(f,!0),f+=4),A.name=m();const v=new Float32Array(e,f,c);u.set(v,g*c),f+=c*4}return u}static readSTC(e,n){const s=new DataView(e),a=s.getInt32(8,!1);if(a!==n)throw new Error("Overlay has "+a+" vertices, expected "+n);let o=12+a*4;const c=s.getUint32(o,!1);o+=4;const h=new Float32Array(c*a);for(let u=0;u<c*a;u++)h[u]=s.getFloat32(o,!1),o+=4;return h}static isCurv(e){const n=new DataView(e),s=n.getUint8(0),a=n.getUint8(1),o=n.getUint8(2);return s!==255||a!==255||o!==255?(Dl.debug("Unable to recognize file type: does not appear to be FreeSurfer format."),!1):!0}static readCURV(e,n){const s=new DataView(e),a=s.getUint8(0),o=s.getUint8(1),c=s.getUint8(2),h=s.getUint32(3,!1),u=s.getUint32(11,!1);if((a!==255||o!==255||c!==255)&&Dl.debug("Unable to recognize file type: does not appear to be FreeSurfer format."),n!==h)throw new Error("CURV file has different number of vertices ( "+h+")than mesh ("+n+")");if(e.byteLength<15+4*h*u)throw new Error("CURV file smaller than specified");const f=new Float32Array(u*h);let m=15;for(let x=0;x<u*h;x++)f[x]=s.getFloat32(m,!1),m+=4;let g=f[0],A=f[0];for(let x=0;x<f.length;x++)g=Math.min(g,f[x]),A=Math.max(A,f[x]);const v=1/(A-g);for(let x=0;x<f.length;x++)f[x]=1-(f[x]-g)*v;return f}static readANNOT(e,n,s=!1){const a=new DataView(e),o=a.getUint32(0,!1),c=this.decimateLayerVertices(o,n);if(n!==c)throw new Error("ANNOT file has different number of vertices than mesh");if(e.byteLength<4+8*o)throw new Error("ANNOT file smaller than specified");let h=0;const u=new Uint32Array(o);for(let D=0;D<o;D++){const M=a.getUint32(h+=4,!1);u[M]=a.getUint32(h+=4,!1)}if(!s)return u;let f=0;try{f=a.getInt32(h+=4,!1)}catch{return u}if(f!==1||a.getInt32(h+=4,!1)>0)return u;const A=a.getInt32(h+=4,!1),v=a.getInt32(h+=4,!1);h+=v;const x=a.getInt32(h+=4,!1);if(x<1)return u;const y={R:Array(A).fill(0),G:Array(A).fill(0),B:Array(A).fill(0),A:Array(A).fill(0),I:Array(A).fill(0),labels:Array(A).fill("")};for(let D=0;D<x;D++){const M=a.getInt32(h+=4,!1),E=a.getInt32(h+=4,!1);h+=4;let R="";for(let I=0;I<E;I++){const F=a.getUint8(h++);if(F===0)break;R+=String.fromCharCode(F)}h-=4;const B=a.getInt32(h+=4,!1),U=a.getInt32(h+=4,!1),N=a.getInt32(h+=4,!1),S=a.getInt32(h+=4,!1);if(M<0||M>=A){Y.warn("annot entry out of range");continue}y.R[M]=B,y.G[M]=U,y.B[M]=N,y.A[M]=S,y.I[M]=(S<<24)+(N<<16)+(U<<8)+B,y.labels[M]=R}const w=new Float32Array(o);w.fill(-1);let C=0;for(let D=0;D<n;D++){const M=u[D];for(let E=0;E<A;E++)if(y.I[E]===M){w[D]=E;break}w[D]<0&&(C++,w[D]=0)}C>0&&Y.error(`annot vertex colors do not match ${C} of ${o} vertices.`);for(let D=0;D<A;D++)y.I[D]=D;const T=$t.makeLabelLut(y);return{scalars:w,colormapLabel:T}}static readNV(e){const n=e.byteLength,s=new Uint8Array(e);let a=0;function o(){for(;a<n&&s[a]===10;)a++;const A=a;for(;a<n&&s[a]!==10;)a++;return a++,a-A<1?"":new TextDecoder().decode(e.slice(A,a-1))}let c=0,h=0,u=0,f=0,m,g;for(;a<n;){const A=o();if(A.startsWith("#"))continue;const v=A.trim().split(/\s+/);if(c<1){c=parseInt(v[0]),m=new Float32Array(c*3);continue}if(u<c*3){m[u]=parseFloat(v[0]),m[u+1]=parseFloat(v[1]),m[u+2]=parseFloat(v[2]),u+=3;continue}if(h<1){h=parseInt(v[0]),g=new Uint32Array(h*3);continue}if(f>=h*3)break;g[f+2]=parseInt(v[0])-1,g[f+1]=parseInt(v[1])-1,g[f+0]=parseInt(v[2])-1,f+=3}return{positions:m,indices:g}}static readASC(e){const n=e.byteLength,s=new Uint8Array(e);let a=0;function o(){for(;a<n&&s[a]===10;)a++;const v=a;for(;a<n&&s[a]!==10;)a++;return a++,a-v<1?"":new TextDecoder().decode(e.slice(v,a-1))}let c=o();c.startsWith("#!ascii")||Y.warn("Invalid ASC mesh"),c=o();let h=c.trim().split(/\s+/);const u=parseInt(h[0]),f=parseInt(h[1]),m=new Float32Array(u*3);let g=0;for(let v=0;v<u;v++)c=o(),h=c.trim().split(/\s+/),m[g]=parseFloat(h[0]),m[g+1]=parseFloat(h[1]),m[g+2]=parseFloat(h[2]),g+=3;const A=new Uint32Array(f*3);g=0;for(let v=0;v<f;v++)c=o(),h=c.trim().split(/\s+/),A[g]=parseInt(h[0]),A[g+1]=parseInt(h[1]),A[g+2]=parseInt(h[2]),g+=3;return{positions:m,indices:A}}static readVTK(e){const n=e.byteLength;if(n<20)throw new Error("File too small to be VTK: bytes = "+e.byteLength);const s=new Uint8Array(e);let a=0;function o(y=!0){if(y)for(;a<n&&s[a]===10;)a++;const w=a;for(;a<n&&s[a]!==10;)a++;return a++,a-w<1?"":new TextDecoder().decode(e.slice(w,a-1))}let c=o();if(!c.startsWith("# vtk DataFile"))throw new Error("Invalid VTK mesh");if(c=o(!1),c=o(),c.startsWith("ASCII"))return Re.readTxtVTK(e);if(!c.startsWith("BINARY"))throw new Error("Invalid VTK image, expected ASCII or BINARY "+c);if(c=o(),!c.includes("POLYDATA"))throw new Error("Only able to read VTK POLYDATA "+c);c=o(),(!c.includes("POINTS")||!c.includes("double")&&!c.includes("float"))&&Y.warn("Only able to read VTK float or double POINTS"+c);const h=c.includes("double");let u=c.trim().split(/\s+/);const m=parseInt(u[1])*3,g=new Float32Array(m),A=new DataView(e);if(h)for(let y=0;y<m;y++)g[y]=A.getFloat64(a,!1),a+=8;else for(let y=0;y<m;y++)g[y]=A.getFloat32(a,!1),a+=4;c=o(),u=c.trim().split(/\s+/);const v=[];if(u[0].includes("LINES")){const y=parseInt(u[1]),w=a;if(c=o(),c.startsWith("OFFSETS")){let M=!1;c.includes("int64")&&(M=!0);const E=new Uint32Array(y);if(M){let B=!1;for(let U=0;U<y;U++){let N=A.getInt32(a,!1);N!==0&&(B=!0),a+=4,N=A.getInt32(a,!1),a+=4,E[U]=N}B&&Y.warn("int32 overflow: JavaScript does not support int64")}else for(let B=0;B<y;B++){const U=A.getInt32(a,!1);a+=4,E[B]=U}return{pts:g,offsetPt0:E}}a=w;let C=0;const T=[],D=[];T.push(C);for(let M=0;M<y;M++){const E=A.getInt32(a,!1);a+=4,C+=E,T.push(C);for(let R=0;R<E;R++){const B=A.getInt32(a,!1)*3;a+=4,D.push(g[B+0]),D.push(g[B+1]),D.push(g[B+2])}}return{pts:Float32Array.from(D),offsetPt0:Uint32Array.from(T)}}else if(u[0].includes("TRIANGLE_STRIPS")){const y=parseInt(u[1]);for(let w=0;w<y;w++){const C=A.getInt32(a,!1)-2;a+=4;for(let T=0;T<C;T++)T%2?(v.push(A.getInt32(a+8,!1)),v.push(A.getInt32(a+4,!1)),v.push(A.getInt32(a,!1))):(v.push(A.getInt32(a,!1)),v.push(A.getInt32(a+4,!1)),v.push(A.getInt32(a+8,!1))),a+=4;a+=8}}else if(u[0].includes("POLYGONS")){const y=parseInt(u[1]);for(let w=0;w<y;w++){const C=A.getInt32(a,!1)-2;if(w===0&&C>65535)throw new Error("Invalid VTK binary polygons using little-endian data (MRtrix)");a+=4;const T=A.getInt32(a,!1);a+=4;let D=A.getInt32(a,!1);a+=4;for(let M=0;M<C;M++){const E=A.getInt32(a,!1);a+=4,v.push(T),v.push(D),v.push(E),D=E}}}else throw new Error("Unsupported binary VTK datatype "+u[0]);const x=new Uint32Array(v);return{positions:g,indices:x}}static readWRL(e){const n=new TextDecoder("utf-8").decode(e),s=/coord\s+Coordinate\s*\{\s*point\s*\[([\s\S]*?)\]/,a=/coordIndex\s*\[([\s\S]*?)\]/,o=/color\s+Color\s*\{\s*color\s*\[([\s\S]*?)\]/,c=s.exec(n),h=a.exec(n),u=o.exec(n);if(!c||!h)throw new Error("Invalid WRL file: Could not find vertices or indices.");const f=new Float32Array(c[1].trim().split(/[\s,]+/).map(Number));let m=null;if(u){m=new Float32Array(u[1].trim().split(/[\s,]+/).map(Number));const A=f.length/3;m.length!==A*3&&(console.warn(`Unexpected color count: expected ${A*3}, got ${m.length}`),m=null)}const g=new Uint32Array(h[1].trim().split(/[\s,]+/).map(Number).filter(A=>A!==-1));return{positions:f,indices:g,colors:m}}static readDFS(e){const n=new DataView(e),s=n.getUint32(0,!0),a=n.getUint16(4,!0);(s!==1599292996||a!==17740)&&Y.warn("Not a little-endian brainsuite DFS mesh");const o=n.getUint32(12,!0),c=n.getUint32(24,!0),h=n.getUint32(28,!0),u=n.getUint32(48,!0);let f=o;const m=new Uint32Array(e,f,c*3);f+=c*3*4;const g=new Float32Array(e,f,h*3);for(let v=0;v<h*3;v+=3){const x=g[v];g[v]=g[v+1],g[v+1]=x}let A;return u>=0&&(A=new Float32Array(e,u,h*3)),{positions:g,indices:m,colors:A}}static async readMZ3(e,n=0){if(e.byteLength<20)throw new Error("File too small to be mz3: bytes = "+e.byteLength);let s=new DataView(e),a=s.getUint16(0,!0),o=e;if(a===35615||a===8075){const R=await At.decompress(new Uint8Array(e));s=new DataView(R.buffer),a=s.getUint16(0,!0),o=R.buffer}const c=s.getUint16(2,!0),h=s.getUint32(4,!0);let u=s.getUint32(8,!0);const f=s.getUint32(12,!0);if(Dl.debug("MZ3 magic %d attr %d face %d vert %d skip %d",a,c,h,u,f),a!==23117)throw new Error("Invalid MZ3 file");const m=(c&1)!==0,g=(c&2)!==0,A=(c&4)!==0;let v=(c&8)!==0;const x=(c&16)!==0;if(c>63)throw new Error("Unsupported future version of MZ3 file");let y=4;x&&(y=8);let w=0;if(n>0&&!m&&h<1&&!A&&(v=!0),v){let R=n;n===0&&(R=u);const B=16+f+(m?1:0)*h*12+(g?1:0)*R*12+(A?1:0)*R*4,U=Math.floor((o.byteLength-B)/y);u!==n&&U%n===0&&(Y.warn("Issue 729: mz3 mismatch scalar NVERT does not match mesh NVERT"),u=n),w=Math.floor(U/u),w<1&&(Y.warn("Corrupt MZ3: file reports NSCALAR but not enough bytes"),v=!1)}if(u<3&&n<3)throw new Error("Not a mesh MZ3 file (maybe scalar)");n>0&&n!==u&&Y.warn("Layer has "+u+"vertices, but background mesh has "+n);let C=16+f,T=null;m&&(T=new Uint32Array(o,C,h*3),C+=h*3*4);let D=null;g&&(D=new Float32Array(o,C,u*3),C+=u*3*4);let M=null;if(A){M=new Float32Array(u*3);const R=new Uint8Array(o,C,u*4);C+=u*4;let B=0,U=0;for(let N=0;N<u;N++){for(let S=0;S<3;S++)M[B]=R[U]/255,B++,U++;U++}}let E=new Float32Array;if((!A||n>0)&&v&&w>0){if(x){const R=new Float64Array(o,C,w*u);E=Float32Array.from(R)}else E=new Float32Array(o,C,w*u);C+=y*w*u}if(n>0&&A&&v){let R=E[0];for(let N=0;N<u;N++)R=Math.max(R,E[N]);const B={R:[],G:[],B:[],A:[],I:[],labels:[]};for(let N=0;N<=R;N++)for(let S=0;S<u;S++)if(N===E[S]){const I=S*3;B.I.push(N),B.R.push(M[I]*255),B.G.push(M[I+1]*255),B.B.push(M[I+2]*255),B.A.push(255),B.labels.push(`${N}`);break}const U=$t.makeLabelLut(B);return{scalars:E,colormapLabel:U}}return n>0?{scalars:E}:{positions:D,indices:T,scalars:E,colors:M}}static readPLY(e){const n=e.byteLength,s=new Uint8Array(e);let a=0;function o(){for(;a<n&&s[a]===10;)a++;const U=a;for(;a<n&&s[a]!==10;)a++;return a++,a-U<1?"":new TextDecoder().decode(e.slice(U,a-1))}let c=o();if(!c.startsWith("ply"))throw new Error("Not a valid PLY file");c=o();const h=c.includes("ascii");function u(U){if(U==="char"||U==="uchar"||U==="int8"||U==="uint8")return 1;if(U==="short"||U==="ushort"||U==="int16"||U==="uint16")return 2;if(U==="int"||U==="uint"||U==="int32"||U==="uint32"||U==="float"||U==="float32")return 4;if(U==="double")return 8;throw new Error("Unknown data type: "+U)}const f=c.includes("binary_little_endian");let m=0,g=!1,A=0,v=0,x=0,y=0,w=0,C=0,T=0;for(;a<n&&!c.startsWith("end_header");){if(c=o(),c.startsWith("comment"))continue;let U=c.split(/\s/);if(c.startsWith("element vertex"))for(m=parseInt(U[U.length-1]),c=o(),U=c.split(/\s/);c.startsWith("property");){const N=U[1];U[2]==="x"&&N.startsWith("double")?g=!0:U[2]==="x"&&!N.startsWith("float")&&Y.error("Error: expect ply xyz to be float or double: "+c),A+=u(N),c=o(),U=c.split(/\s/)}if(c.startsWith("element face"))for(T=parseInt(U[U.length-1]),c=o(),U=c.split(/\s/);c.startsWith("property");){if(U[1]==="list")x=u(U[2]),y=u(U[3]),v+=x+3*y;else{const N=u(U[1]);v+=N,y===0&&(w+=N,C++)}c=o(),U=c.split(/\s/)}}if(h){T<1&&Y.error(`Malformed ply format: faces ${T} `);const U=new Float32Array(m*3);let N=0;for(let F=0;F<m;F++){c=o();const L=c.split(/\s/);U[N]=parseFloat(L[0]),U[N+1]=parseFloat(L[1]),U[N+2]=parseFloat(L[2]),N+=3}let S=new Uint32Array(T*3),I=0;for(let F=0;F<T;F++){c=o();const L=c.split(/\s/),k=parseInt(L[C])-2;if(k<1)break;if(I+k*3>S.length){const K=new Uint32Array(S.length+S.length);K.set(S),S=K.slice()}const q=parseInt(L[C+1]);let P=parseInt(L[C+2]);for(let K=0;K<k;K++){const J=parseInt(L[C+3+K]);S[I+0]=q,S[I+1]=P,S[I+2]=J,P=J,I+=3}}return S.length!==I&&(S=S.slice(0,I)),{positions:U,indices:S}}(A<12||x<1||y<1||T<1)&&Y.warn(`Malformed ply format: stride ${A} count ${x} iBytes ${y} iStrideBytes ${v} iPadBytes ${w} faces ${T}`);const D=new DataView(e);let M;if(a%4===0&&A===12&&f)M=new Float32Array(e,a,m*3),a+=m*A;else{M=new Float32Array(m*3);let U=0;for(let N=0;N<m;N++)g?(M[U]=D.getFloat64(a,f),M[U+1]=D.getFloat64(a+8,f),M[U+2]=D.getFloat64(a+16,f)):(M[U]=D.getFloat32(a,f),M[U+1]=D.getFloat32(a+4,f),M[U+2]=D.getFloat32(a+8,f)),U+=3,a+=A}const E=new Uint32Array(T*3);let R=!0,B=0;if(x===1&&y===4&&v===13)for(let U=0;U<T;U++){const N=D.getUint8(a);a+=x,N!==3&&(R=!1),E[B]=D.getUint32(a,f),a+=4,E[B+1]=D.getUint32(a,f),a+=4,E[B+2]=D.getUint32(a,f),a+=4,B+=3}else{let U=a;for(let N=0;N<T;N++){a=U+w;let S=0;x===1?S=D.getUint8(a):x===2?S=D.getUint16(a,f):x===4&&(S=D.getUint32(a,f)),a+=x,S!==3&&(R=!1);for(let I=0;I<3;I++)y===1?E[B]=D.getUint8(a):y===2?E[B]=D.getUint16(a,f):y===4&&(E[B]=D.getUint32(a,f)),B++,a+=y;U+=v}}return R||Y.warn("Only able to read PLY meshes limited to triangles."),{positions:M,indices:E}}static readICO(e){const a=new TextDecoder("utf-8").decode(e).split(`
`);let o=a[0].trim().split(/\s+/);o.length>1&&Y.warn("This is not a valid FreeSurfer ICO/TRI mesh.");const c=parseInt(o[0]),h=new Float32Array(c*3);let u=1;for(let g=0;g<c;g++){const A=a[u].trim().split(/\s+/);u++;let v=parseInt(A[0])-1;const x=parseFloat(A[1]),y=parseFloat(A[2]),w=parseFloat(A[3]);if(v<0||v>=c){Y.error("ICO vertices corrupted");break}v*=3,h[v]=x,h[v+1]=y,h[v+2]=w}o=a[u].trim().split(/\s+/),u++;const f=parseInt(o[0]),m=new Uint32Array(f*3);for(let g=0;g<f;g++){const A=a[u].trim().split(/\s+/);u++;let v=parseInt(A[0])-1;const x=parseInt(A[1])-1,y=parseInt(A[2])-1,w=parseInt(A[3])-1;if(v<0||v>=f){Y.error("ICO indices corrupted");break}v*=3,m[v]=x,m[v+1]=y,m[v+2]=w}for(let g=0;g<m.length;g+=3){const A=m[g];m[g]=m[g+1],m[g+1]=A}return{positions:h,indices:m}}static readGEO(e,n=!1){const o=new TextDecoder("utf-8").decode(e).split(`
`),c=o[0].trim().split(/\s+/),h=parseInt(c[0]);let u=parseInt(c[1]),f=parseInt(c[2]);const m=parseInt(c[3]);(h>1||m!==f*3)&&Y.warn("Multi-part BYU/GEO header or not a triangular mesh.");const g=[];u*=3;let A=0,v=2;for(;A<u;){const T=o[v].trim().split(/\s+/);v++;for(let D=0;D<T.length&&(g.push(parseFloat(T[D])),A++,!(A>=u));D++);}const x=[];f*=3;let y=0;for(;y<f;){const T=o[v].trim().split(/\s+/);v++;for(let D=0;D<T.length&&(x.push(Math.abs(parseInt(T[D]))-1),y++,!(y>=f));D++);}if(n)for(let T=0;T<x.length;T+=3){const D=x[T];x[T]=x[T+1],x[T+1]=D}const w=new Float32Array(g),C=new Uint32Array(x);return{positions:w,indices:C}}static readOFF(e){const a=new TextDecoder("utf-8").decode(e).split(`
`),o=[],c=[];let h=0;a[h].includes("OFF")?h++:Y.warn("File does not start with OFF");let u=a[h].trim().split(/\s+/);const f=parseInt(u[0]),m=parseInt(u[1]);h++;for(let v=0;v<f;v++)u=a[h].trim().split(/\s+/),o.push(parseFloat(u[0])),o.push(parseFloat(u[1])),o.push(parseFloat(u[2])),h++;for(let v=0;v<m;v++)u=a[h].trim().split(/\s+/),parseInt(u[0])!==3&&Y.warn("Only able to read OFF files with triangular meshes"),c.push(parseInt(u[1])),c.push(parseInt(u[2])),c.push(parseInt(u[3])),h++;const g=new Float32Array(o),A=new Uint32Array(c);return{positions:g,indices:A}}static readOBJMNI(e){const a=new TextDecoder("utf-8").decode(e).trim().split(/\s*,\s*|\s+/);(a.length<1||a[0]!=="P")&&Y.warn("This is not a valid MNI OBJ mesh.");let o=6;const c=parseInt(a[o++]),h=c*3,u=new Float32Array(h);for(let x=0;x<h;x++)u[x]=parseFloat(a[o++]);o+=h;const f=parseInt(a[o++]),m=parseInt(a[o++]);(f<1||m<0||m>2)&&Y.warn("This is not a valid MNI OBJ mesh.");let g=1;m===1?g=f:m===1&&(g=c),o+=g*4,o+=f;const A=f*3,v=new Uint32Array(A);for(let x=0;x<A;x++)v[x]=parseInt(a[o++]);return{positions:u,indices:v}}static async readOBJ(e){const n=new Uint8Array(e,0,2);n[0]===31&&n[1]===139&&(e=await At.decompressToBuffer(new Uint8Array(e)));const a=new TextDecoder("utf-8").decode(e);if(a[0]==="P")return this.readOBJMNI(e);const o=a.split(`
`),c=o.length,h=[],u=[];for(let v=0;v<c;v++){const x=o[v];if(x[0]==="v"&&x[1]===" "){const y=x.trim().split(/\s+/);h.push(parseFloat(y[1])),h.push(parseFloat(y[2])),h.push(parseFloat(y[3]))}if(x[0]==="f"){const y=x.trim().split(/\s+/),w=y.length-3;if(w<1)break;let C=y[1].split("/");const T=parseInt(C[0])-1;C=y[2].split("/");let D=parseInt(C[0])-1;for(let M=0;M<w;M++){C=y[3+M].split("/");const E=parseInt(C[0])-1;u.push(T),u.push(D),u.push(E),D=E}}}const f=new Float32Array(h),m=new Uint32Array(u);let g=m[0],A=m[0];for(let v=1;v<m.length;v++)m[v]<g&&(g=m[v]),m[v]>A&&(A=m[v]);if(A-g+1>f.length/3)throw new Error("Not a valid OBJ file");for(let v=0;v<m.length;v++)m[v]-=g;return{positions:f,indices:m}}static readFreeSurfer(e){const n=new Uint8Array(e);if(n[0]===35&&n[1]===33&&n[2]===97)return Re.readASC(e);const s=new DataView(e),a=s.getUint32(0,!1),o=s.getUint32(4,!1);(a!==4294966883||o!==1919246708)&&Dl.debug("Unable to recognize file type: does not appear to be FreeSurfer format.");let c=0;for(;s.getUint8(c)!==10;)c++;c+=2;let h=s.getUint32(c,!1);c+=4;let u=s.getUint32(c,!1);c+=4,h*=3;const f=new Float32Array(h);for(let v=0;v<h;v++)f[v]=s.getFloat32(c,!1),c+=4;u*=3;const m=new Uint32Array(u);for(let v=0;v<u;v++)m[v]=s.getUint32(c,!1),c+=4;const g=s.getUint32(c,!1);c+=4;let A=g===20;if(!A){const v=s.getUint32(c,!1);c+=4;const x=s.getUint32(c,!1);c+=4,A=g===2&&v===0&&x===20}if(!A)Y.warn("Unknown FreeSurfer Mesh extension code.");else{const x=new TextDecoder().decode(e.slice(c)).trim().split(`
`);for(let y=0;y<x.length;y++){if(!x[y].startsWith("cras"))continue;const C=x[y].split("=")[1].trim().split(" ").map(Number),T=Math.floor(f.length/3);let D=0;for(let M=0;M<T;M++)f[D]+=C[0],D++,f[D]+=C[1],D++,f[D]+=C[2],D++}}return{positions:f,indices:m}}static async readSRF(e){const n=new Uint8Array(e);if(n[0]===35&&n[1]===33&&n[2]===97)return Re.readASC(e);n[0]===31&&n[1]===139&&(e=(await At.decompress(new Uint8Array(e))).buffer);const s=new DataView(e),a=s.getFloat32(0,!0),o=s.getUint32(8,!0),c=s.getUint32(12,!0),h=s.getFloat32(16,!0),u=s.getFloat32(20,!0),f=s.getFloat32(24,!0),m=new Float32Array(o*3);let g=28,A=1;for(let R=0;R<o;R++)m[A]=-s.getFloat32(g,!0)+h,A+=3,g+=4;A=2;for(let R=0;R<o;R++)m[A]=-s.getFloat32(g,!0)+u,A+=3,g+=4;A=0;for(let R=0;R<o;R++)m[A]=-s.getFloat32(g,!0)+f,A+=3,g+=4;g=28+4*6*o;const v=s.getFloat32(g,!0),x=s.getFloat32(g+4,!0),y=s.getFloat32(g+8,!0),w=s.getFloat32(g+16,!0),C=s.getFloat32(g+20,!0),T=s.getFloat32(g+24,!0);g+=8*4;const D=new Float32Array(o*3),M=new Uint32Array(e,g,o);A=0;for(let R=0;R<o;R++){const B=M[R];B>1056964608&&(D[A+0]=(B>>16&255)/255,D[A+1]=(B>>8&255)/255,D[A+2]=(B&255)/255),B===0&&(D[A+0]=v,D[A+1]=x,D[A+2]=y),B===1&&(D[A+0]=w,D[A+1]=C,D[A+2]=T),A+=3}g+=o*4;for(let R=0;R<o;R++){const B=s.getUint32(g,!0);g+=4+4*B}const E=new Uint32Array(c*3);for(let R=0;R<c*3;R++)E[R]=s.getInt32(g,!0),g+=4;return a!==4&&Y.warn("Not valid SRF"),{positions:m,indices:E,colors:D}}static readTxtSTL(e){const a=new TextDecoder("utf-8").decode(e).split(`
`);if(!a[0].startsWith("solid"))throw new Error("Not a valid STL file");const o=[];for(let f=1;f<a.length;f++){if(!a[f].includes("vertex"))continue;const m=a[f].trim().split(/\s+/);for(let g=1;g<m.length;g++)o.push(parseFloat(m[g]))}const c=Math.floor(o.length/3);if(c*3!==o.length)throw new Error("Unable to parse ASCII STL file.");const h=new Float32Array(o),u=new Uint32Array(c);for(let f=0;f<c;f++)u[f]=f;return{positions:h,indices:u}}static readSTL(e){if(e.byteLength<134)throw new Error("File too small to be STL: bytes = "+e.byteLength);const n=new DataView(e);if(n.getUint32(0,!0)===1768714099)return Re.readTxtSTL(e);const a=n.getUint32(80,!0),o=3*a;if(e.byteLength<84+a*50)throw new Error("STL file too small to store triangles = "+a);const c=new Uint32Array(o),h=new Float32Array(o*3);let u=96,f=0;for(let m=0;m<a;m++){for(let g=0;g<9;g++)h[f]=n.getFloat32(u,!0),f+=1,u+=4;u+=14}for(let m=0;m<o;m++)c[m]=m;return{positions:h,indices:c}}static decimateLayerVertices(e,n){if(e%n===0)return e;const s=12,a=Math.round(Math.log((e-2)/(s-2))/Math.log(4)),o=Math.round(Math.log((n-2)/(s-2))/Math.log(4)),c=Math.pow(4,a)*(s-2)+2,h=Math.pow(4,o)*(s-2)+2;return c!==e||h!==n?e:n}static async readNII2(e,n=0,s=""){let a=new Float32Array;const o=e.byteLength;let c=!0;const h=new DataView(e);let u=h.getUint16(0,c);if(u===469893120&&(c=!1,u=h.getUint16(0,c)),u!==540)throw new Error("Not a valid NIfTI-2 dataset");const f=Number(h.getBigInt64(168,c)),m=h.getFloat64(176,c),g=h.getFloat64(184,c);(m!==1||g!==0)&&Y.warn("ignoring scale slope and intercept");const A=h.getUint32(504,c),v=h.getUint16(12,c);if(v!==2&&v!==4&&v!==8&&v!==16)throw new Error("Unsupported NIfTI datatype "+v);let x=1;const y=[1,1,1,1,1,1,1,1];for(let w=1;w<8;w++)y[w]=Math.max(Number(h.getBigInt64(16+w*8,c)),1),x*=y[w];if(A>=3e3&&A<=3099&&f>580){let w=function(){for(;N<o&&U[N]===10;)N++;const P=N;for(;N<o&&U[N]!==10;)N++;return N++,N-P<1?"":new TextDecoder().decode(e.slice(P,N-1)).trim()},C=function(){let P=w();if(!P.startsWith("<")||P.endsWith(">"))return P;for(;N<o&&!P.endsWith(">");)P+=w();return P},T=function(P,K=!1){const J=S.indexOf(P);if(J<0)return 1;const rt=S.indexOf('"',J)+1,G=S.indexOf('"',rt),tt=S.slice(rt,G);return K?tt:parseInt(tt)},D=0,M=0,E=0,R="",B=new Uint32Array;const U=new Uint8Array(e);let N=552,S;const I=y[5],F=new Float32Array(n*I);for(;N<o&&(S=C(),!S.includes("</CIFTI>"));)if(S.includes("<BrainModel")){const P=T("SurfaceNumberOfVertices="),K=T("BrainStructure=",!0).toUpperCase();if(P%n!==0)continue;let J=!1;if(s.includes("CORTEX")&&K.includes("CORTEX")&&(J=!0),!J||(J=!1,s.includes("LEFT")&&K.includes("LEFT")&&(J=!0),s.includes("RIGHT")&&K.includes("RIGHT")&&(J=!0),!J))continue;if(E=P,D=T("IndexOffset="),M=T("IndexCount="),R=K,S.includes("<VertexIndices>")||(S=C()),!S.startsWith("<VertexIndices>")||!S.endsWith("</VertexIndices>"))return Y.warn("Unable to find CIfTI <VertexIndices>"),F;S=S.slice(15,-16);const rt=S.trim().split(/\s+/);rt.length<M&&Y.error("Error parsing VertexIndices"),B=new Uint32Array(M);for(let G=0;G<M;G++)B[G]=parseInt(rt[G])}if(E===0||B.length===0)return Y.warn("Unable to find CIfTI structure that matches the mesh."),F;if(v!==16)return Y.warn("Only able to read float32 CIfTI (only known datatype)."),F;const L=new Float32Array(M*I),k=f+I*D*4;for(let P=0;P<M*I;P++)L[P]=h.getFloat32(k+P*4,c);let q=0;for(let P=0;P<M;P++)for(let K=0;K<I;K++)F[B[P]+K*n]=L[q],q++;return Y.debug("CIfTI diagnostics",E,R,D,M,D,s),F}if(x=this.decimateLayerVertices(x,n),x%n!==0)throw new Error("Vertices in layer ("+x+") is not a multiple of number of vertices ("+n+")");if(c)v===16?a=new Float32Array(e,f,x):v===8?a=new Int32Array(e,f,x):v===4&&(a=new Int16Array(e,f,x));else if(v===16){a=new Float32Array(x);for(let w=0;w<x;w++)a[w]=h.getFloat32(f+w*4,c)}else if(v===8){a=new Int32Array(x);for(let w=0;w<x;w++)a[w]=h.getInt32(f+w*4,c)}else if(v===4){a=new Int16Array(x);for(let w=0;w<x;w++)a[w]=h.getInt16(f+w*2,c)}return v===2&&(a=new Uint8Array(e,f,x)),a}static async readNII(e,n=0,s=""){let a=new Float32Array,o=!0,c=new DataView(e),h=c.getUint16(0,o);if(h===540||h===469893120)return Re.readNII2(e,n,s);if(h===23553&&(o=!1,h=c.getUint16(0,o)),h!==348){const v=await At.decompress(new Uint8Array(e));if(c=new DataView(v.buffer),e=v.buffer,h=c.getUint16(0,o),h===540||h===469893120)return Re.readNII2(e,n,s);h===23553&&(o=!1,h=c.getUint16(0,o))}h!==348&&Y.error("Not a valid NIfTI image.");const u=c.getFloat32(108,o),f=c.getFloat32(112,o),m=c.getFloat32(116,o);(f!==1||m!==0)&&Y.warn("ignoring scale slope and intercept");const g=c.getUint16(70,o);if(g!==2&&g!==4&&g!==8&&g!==16)throw new Error("Unsupported NIfTI datatype "+g);let A=1;for(let v=1;v<8;v++){const x=c.getUint16(40+v*2,o);A*=Math.max(x,1)}if(A=this.decimateLayerVertices(A,n),A%n!==0)throw new Error("Vertices in layer ("+A+") is not a multiple of number of vertices ("+n+")");if(o)g===16?a=new Float32Array(e,u,A):g===8?a=new Int32Array(e,u,A):g===4&&(a=new Int16Array(e,u,A));else if(g===16){a=new Float32Array(A);for(let v=0;v<A;v++)a[v]=c.getFloat32(u+v*4,o)}else if(g===8){a=new Int32Array(A);for(let v=0;v<A;v++)a[v]=c.getInt32(u+v*4,o)}else if(g===4){a=new Int16Array(A);for(let v=0;v<A;v++)a[v]=c.getInt16(u+v*2,o)}return g===2&&(a=new Uint8Array(e,u,A)),a}static async readMGH(e,n=0,s=!1){let a=new DataView(e),o=e;if(a.getUint8(0)===31&&a.getUint8(1)===139){const B=await At.decompress(new Uint8Array(e));o=new ArrayBuffer(B.byteLength),new Uint8Array(o).set(new Uint8Array(B)),a=new DataView(B.buffer)}const c=a.getInt32(0,!1),h=Math.max(1,a.getInt32(4,!1)),u=Math.max(1,a.getInt32(8,!1)),f=Math.max(1,a.getInt32(12,!1)),m=Math.max(1,a.getInt32(16,!1)),g=a.getInt32(20,!1);let A=284;const v=!1;(c!==1||g<0||g>4)&&Y.warn("Not a valid MGH file");let x=h*u*f*m,y=[];if(x=this.decimateLayerVertices(x,n),x%n!==0)return Y.warn("Vertices in layer ("+x+") is not a multiple of number of vertices ("+n+")"),y;if(g===3){y=new Float32Array(x);for(let B=0;B<x;B++)y[B]=a.getFloat32(A+B*4,v)}else if(g===1){y=new Int32Array(x);for(let B=0;B<x;B++)y[B]=a.getInt32(A+B*4,v)}else if(g===4){y=new Int16Array(x);for(let B=0;B<x;B++)y[B]=a.getInt16(A+B*2,v)}else g===0&&(y=new Uint8Array(e,A,x));if(!s)return y;let w=4;g===4&&(w=2),g===0&&(w=1),A+=w*x,A+=4*4;const C=1,T=2,D=20,M=30,E=o.byteLength;let R;for(;A<E-8;){const B=a.getInt32(A+=4,v);let U=0;switch(B){case M:U=a.getInt32(A+=4,v)-1;break;case D:case T:U=0;break;case C:U=0;{let N=a.getInt32(A+=4,v);if(N>0)return Y.warn("unsupported CTABreadFromBinaryV1"),y;if(N=-N,N!==2)return Y.warn("CTABreadFromBinary: unknown version"),y;const S=a.getInt32(A+=4,v);if(S<0)return Y.warn("CTABreadFromBinaryV2: nentries was ",S),y;const I=a.getInt32(A+=4,v);A+=I;const F=a.getInt32(A+=4,v);if(F<0)return y;const L={R:[],G:[],B:[],A:[],I:[],labels:[]};for(let k=0;k<F;k++){const q=a.getInt32(A+=4,v),P=a.getInt32(A+=4,v);let K=A+4,J="";for(let ot=0;ot<P;ot++){const mt=a.getUint8(K++);if(mt===0)break;J+=String.fromCharCode(mt)}A+=P;const rt=a.getInt32(A+=4,v),G=a.getInt32(A+=4,v),tt=a.getInt32(A+=4,v),at=255-a.getInt32(A+=4,v);L.I.push(q),L.R.push(rt),L.G.push(G),L.B.push(tt),L.A.push(at),L.labels.push(J)}R=$t.makeLabelLut(L)}break;default:U=a.getInt32(A+=8,v)}A+=U}return{scalars:y,colormapLabel:R}}static readX3D(e){const n=e.byteLength;if(n<20)throw new Error("File too small to be X3D: bytes = "+n);const s=new Uint8Array(e);let a=0;function o(){for(;a<n&&s[a]!==60;)a++;const D=a;for(;a<n&&s[a]!==62;)a++;const M=a;return new TextDecoder().decode(e.slice(D,M+1)).trim()}let c=o();function h(D){const M=c.indexOf(D+"=");if(M<0)return"";const E=c[M+D.length+1],R=c.indexOf(E,M)+1,B=c.indexOf(E,R);return c.slice(R,B)}function u(D){const M=c.indexOf(D+"=");if(M<0)return 1;const E=c[M+D.length+1],R=c.indexOf(E,M)+1,B=c.indexOf(E,R);let U=c.slice(R,B).trim();U=U.replace(/,\s*$/,"");const N=U.trim().split(/\s*,\s*|\s+/);if(N.length<2)return parseFloat(U);let S=new Array(N.length),I=0;for(let F=0;F<N.length;F++){const L=parseFloat(N[F]);isFinite(L)&&(S[I]=L,I++)}return S=S.slice(0,I),S}c.includes("xml version")||Y.warn("Not a X3D image");let f=[],m=[],g=[],A=[],v=[0,0,0,0],x=[0,0,0,0],y=[255,255,255,255],w=[255,255,255,255];const C={};function T(){if(!c.endsWith("/>"))if(c.startsWith("<Appearance>"))for(;a<n&&!c.endsWith("</Appearance>");)c+=o();else for(;a<n&&!c.endsWith("/>");)c+=o();const D=h("USE");if(D.length>1){D in C?y=C[D]:Y.warn("Unable to find DEF for "+D);return}const M=u("diffuseColor");if(M.length<3)return;y[0]=Math.round(M[0]*255),y[1]=Math.round(M[1]*255),y[2]=Math.round(M[2]*255);const E=h("DEF");E.length<1||(C[E]=y)}for(;a<n;)if(c=o(),y=w.slice(),c.startsWith("<Transform")&&(v=u("translation"),x=u("rotation")),c.startsWith("<Appearance")&&(T(),w=y.slice()),c.startsWith("<Shape")){let D=1,M=1,E=[],R=[];for(;a<n&&(c=o(),c.startsWith("<Appearance")&&T(),!c.startsWith("</Shape"));){if(c.startsWith("<Sphere")&&(D=u("radius"),M=-1),c.startsWith("<Cylinder")&&(D=u("radius"),M=u("height")),c.startsWith("<IndexedFaceSet")&&(M=-2,E=u("coordIndex")),c.startsWith("<IndexedTriangleSet")&&(M=-7,E=u("index")),c.startsWith("<IndexedTriangleStripSet")&&(M=-3,E=u("index")),c.startsWith("<Coordinate")){R=u("point");const B=R.length%3;B!==0&&(R=R.slice(0,-B))}c.startsWith("<Color")&&(A=u("color")),c.startsWith("<Box")&&(M=-4,Y.warn("Unsupported x3d shape: Box")),c.startsWith("<Cone")&&(M=-5,Y.warn("Unsupported x3d shape: Cone")),c.startsWith("<ElevationGrid")&&(M=-6,Y.warn("Unsupported x3d shape: ElevationGrid"))}if(!(M<-3&&M!==-7))if(M<-1){if(E.length<1||R.length<3||R.length===void 0){Y.warn("Indexed mesh must specify indices and points");break}const B=Math.floor(f.length/3);let U=2;if(M===-7)m=[...m,...E];else if(M===-2){let I=0;for(;U<E.length;)E[U]>=0?(m.push(E[I]+B),m.push(E[U-1]+B),m.push(E[U-0]+B),U+=1):(U+=3,I=U-2)}else for(;U<E.length;)E[U]>=0?(m.push(E[U-2]+B),m.push(E[U-1]+B),m.push(E[U-0]+B),U+=1):U+=3;f=[...f,...R];const N=Math.floor(R.length/3),S=Array(N).fill(y).flat();if(A.length===N*3){let I=0,F=0;for(let L=0;L<N;L++){for(let k=0;k<3;k++)S[F]=Math.round(A[I]*255),I++,F++;F++}}g=[...g,...S]}else if(M<0)bs.makeColoredSphere(f,m,g,D,v,y);else{const B=Vt();$5(B,x[3],[x[0],x[1],x[2]]);const U=ie(0,-M*.5,0,1),N=ie(0,+M*.5,0,1);ze(U,U,B),ze(N,N,B),_2(U,U,v),_2(N,N,v);const S=ut(U[0],U[1],U[2]),I=ut(N[0],N[1],N[2]);bs.makeColoredCylinder(f,m,g,S,I,D,y)}}return{positions:Float32Array.from(f),indices:Uint32Array.from(m),rgba255:Uint8Array.from(g)}}static async readGII(e,n=0){let s=e.byteLength;if(s<20)throw new Error("File too small to be GII: bytes = "+s);let a=new TextDecoder("ascii").decode(e);if(a[0].charCodeAt(0)===31){const F=await At.decompress(new Uint8Array(e));e=F.buffer,a=new TextDecoder("ascii").decode(F.buffer)}let o=0;function c(){let F=!0,L=o;for(;F;){for(;o<s&&a[o]!=="<";)o++;for(L=o;o<s&&a[o]!==">";)o++;if(F=a[o-1]==="/",L+1<s&&a[L+1]==="/"&&(o+=1,F=!0),o>=s)break}const k=new TextDecoder().decode(e.slice(L+1,o)).trim(),q=k.split(" ")[0].trim(),P=o;let K=o,J=o;if(a[L+1]!=="?"&&a[L+1]!=="!"){const rt="</"+q+">";K=a.indexOf(rt,P),J=K+rt.length-1}return{name:k,startPos:L,contentStartPos:P,contentEndPos:K,endPos:J}}let h=c();if(!h.name.startsWith("?xml"))throw new Error("readGII: Invalid XML file");for(;!h.name.startsWith("GIFTI")&&h.endPos<s;)h=c();if(!h.name.startsWith("GIFTI")||h.contentStartPos===h.contentEndPos)throw new Error("readGII: XML file does not include GIFTI tag");s=h.contentEndPos;let u=new Float32Array,f=new Uint32Array,m=new Float32Array,g="",A=!1,v=!1,x=!1,y=!1,w=[1,1,1];const C=[0,0,0];let T=0,D=!1,M=!1,E=0,R=!1;h.endPos=h.contentStartPos;let B="";function U(F,L=!1){const k=B.indexOf(F);if(k<0)return 1;const q=B.indexOf('"',k)+1,P=B.indexOf('"',q),K=B.slice(q,P);return L?parseFloat(K):parseInt(K)}function N(F){const L=B.indexOf(F);if(L<0)return"";const k=L+F.length,q=B.indexOf("]",k);return B.slice(k,q)}const S={R:[],G:[],B:[],A:[],I:[],labels:[]};for(;h.endPos<s&&h.name.length>1;){if(h=c(),h.name.startsWith("Label Key")&&(B=h.name,S.I.push(U("Key=")),S.R.push(Math.round(255*U("Red=",!0))),S.G.push(Math.round(255*U("Green=",!0))),S.B.push(Math.round(255*U("Blue=",!0))),S.A.push(Math.round(255*U("Alpha",!0))),B=new TextDecoder().decode(e.slice(h.contentStartPos+1,h.contentEndPos)).trim(),S.labels.push(N("<![CDATA["))),h.name.trim()==="Data"){if(x)continue;B=new TextDecoder().decode(e.slice(h.contentStartPos+1,h.contentEndPos)).trim();let F;if(M){const L=w[0]*w[1]*w[2],k=B.split(/\s+/);if(L!==k.length)throw new Error("Unable to parse ASCII GIfTI");if(T===2&&(T=8),T===32&&(T=16),T===8){F=new Int32Array(L);for(let q=0;q<L;q++)F[q]=parseInt(k[q])}if(T===16){F=new Float32Array(L);for(let q=0;q<L;q++)F[q]=parseFloat(k[q])}}else if(typeof Buffer>"u"){let L=function(k){const q=atob(k),P=q.length,K=new Uint8Array(P);for(let J=0;J<P;J++)K[J]=q.charCodeAt(J);return K};if(D){const k=L(B.slice());F=await At.decompress(new Uint8Array(k))}else F=L(B.slice())}else if(D){const L=Buffer.from(B.slice(),"base64");F=await At.decompress(new Uint8Array(L))}else F=Buffer.from(B.slice(),"base64");if(v){if(T!==16&&Y.warn("expect positions as FLOAT32"),u=new Float32Array(F.buffer),y){const L=u.slice(),k=L.length/3;let q=0;for(let P=0;P<k;P++)for(let K=0;K<3;K++)u[q]=L[K*k+P],q++}}else if(A){if(T!==8&&Y.warn("expect indices as INT32"),f=new Uint32Array(F.buffer),y){const L=f.slice(),k=L.length/3;let q=0;for(let P=0;P<k;P++)for(let K=0;K<3;K++)f[q]=L[K*k+P],q++}}else{let L=function(q,P){const K=q.length,J=new Float32Array(K+P.length);return J.set(q),J.set(P,K),J};E=w[0]*w[1]*w[2],n!==0&&E%n!==0&&Y.warn("Number of vertices in scalar overlay ("+E+") does not match mesh ("+n+")");let k;if(T===2){const q=new Uint8Array(F.buffer);k=Float32Array.from(q)}else if(T===8){const q=new Int32Array(F.buffer);k=Float32Array.from(q)}else if(T===16)k=new Float32Array(F.buffer);else if(T===32){const q=new Float64Array(F.buffer);k=Float32Array.from(q)}else throw new Error(`Invalid dataType: ${T}`);m=L(m,k)}continue}if(h.name.trim()==="DataSpace"&&(B=new TextDecoder().decode(e.slice(h.contentStartPos+1,h.contentEndPos)).trim(),B.includes("NIFTI_XFORM_SCANNER_ANAT")&&(R=!0)),h.name.trim()==="MD"&&(B=new TextDecoder().decode(e.slice(h.contentStartPos+1,h.contentEndPos)).trim(),B.includes("AnatomicalStructurePrimary")&&B.includes("CDATA[")&&(g=N("<Value><![CDATA[").toUpperCase()),B.includes("VolGeom")&&B.includes("CDATA["))){let F=-1;if(B.includes("VolGeomC_R")&&(F=0),B.includes("VolGeomC_A")&&(F=1),B.includes("VolGeomC_S")&&(F=2),F<0)continue;C[F]=parseFloat(N("<Value><![CDATA["))}h.name.startsWith("DataArray")&&(B=h.name,w=[1,1,1],D=B.includes('Encoding="GZipBase64Binary"'),M=B.includes('Encoding="ASCII"'),A=B.includes('Intent="NIFTI_INTENT_TRIANGLE"'),v=B.includes('Intent="NIFTI_INTENT_POINTSET"'),x=B.includes('Intent="NIFTI_INTENT_VECTOR"'),y=B.includes('ArrayIndexingOrder="ColumnMajorOrder"'),B.includes('DataType="NIFTI_TYPE_UINT8"')&&(T=2),B.includes('DataType="NIFTI_TYPE_INT32"')&&(T=8),B.includes('DataType="NIFTI_TYPE_FLOAT32"')&&(T=16),B.includes('DataType="NIFTI_TYPE_FLOAT64"')&&(T=32),w[0]=U("Dim0="),w[1]=U("Dim1="),w[2]=U("Dim2="))}let I;if(S.I.length>1&&(I=$t.makeLabelLut(S)),n>0)return{scalars:m,colormapLabel:I,anatomicalStructurePrimary:g};if(u.length>2&&!R&&(C[0]!==0||C[1]!==0||C[2]!==0)){E=Math.floor(u.length/3);let F=0;for(let L=0;L<E;L++)u[F]+=C[0],F++,u[F]+=C[1],F++,u[F]+=C[2],F++}return{positions:u,indices:f,scalars:m,colormapLabel:I,anatomicalStructurePrimary:g}}},ox=()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256},Fg=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.NII=1]="NII",t[t.DCM=2]="DCM",t[t.DCM_MANIFEST=3]="DCM_MANIFEST",t[t.MIH=4]="MIH",t[t.MIF=5]="MIF",t[t.NHDR=6]="NHDR",t[t.NRRD=7]="NRRD",t[t.MHD=8]="MHD",t[t.MHA=9]="MHA",t[t.MGH=10]="MGH",t[t.MGZ=11]="MGZ",t[t.V=12]="V",t[t.V16=13]="V16",t[t.VMR=14]="VMR",t[t.HEAD=15]="HEAD",t[t.DCM_FOLDER=16]="DCM_FOLDER",t[t.SRC=17]="SRC",t[t.FIB=18]="FIB",t[t.BMP=19]="BMP",t[t.ZARR=20]="ZARR",t[t.NPY=21]="NPY",t[t.NPZ=22]="NPZ",t))(Fg||{}),Ct=Object.freeze({...Fg,parse:t=>{let e=0;switch(t.toUpperCase()){case"":case"DCM":e=2;break;case"TXT":e=3;break;case"FZ":case"GQI":case"QSDR":case"FIB":e=18;break;case"NII":e=1;break;case"MIH":e=4;break;case"MIF":e=5;break;case"NHDR":e=6;break;case"NRRD":e=7;break;case"MHD":e=8;break;case"MHA":e=9;break;case"MGH":e=10;break;case"MGZ":e=11;break;case"NPY":e=21;break;case"NPZ":e=22;break;case"SRC":e=17;break;case"V":e=12;break;case"V16":e=13;break;case"VMR":e=14;break;case"HEAD":e=15;break;case"PNG":case"BMP":case"GIF":case"JPG":case"JPEG":e=19;break;case"ZARR":e=20;break}return e}}),Pl=(t,e="",n="",s="gray",a=1,o=NaN,c=NaN,h=!0,u=.02,f=!1,m=!1,g="",A=0,v=Ct.UNKNOWN,x=NaN,y=NaN,w=!0,C=!1,T=null)=>({url:t,urlImageData:e,name:n,colormap:s,colorMap:s,opacity:a,cal_min:o,cal_max:c,trustCalMinMax:h,percentileFrac:u,ignoreZeroVoxels:f,useQFormNotSForm:m,colormapNegative:g,imageType:v,cal_minNeg:x,cal_maxNeg:y,colorbarVisible:w,frame4D:A,alphaThreshold:C,colormapLabel:T});function um(t,e=80){t=t.replace(/[`$]/g,"");const n=[],s=Math.min(e,t.length);for(let a=0;a<s;a++){const o=t.charCodeAt(a);n.push(o&255)}return n}function Zl(t,e=!1,n=!1){let o=!0;n&&(o=t.littleEndian);const c=new Uint8Array(348),h=new DataView(c.buffer);h.setInt32(0,348,o),h.setUint8(38,114),h.setUint8(39,t.dim_info);for(let f=0;f<8;f++)h.setUint16(40+2*f,t.dims[f],o);h.setFloat32(56,t.intent_p1,o),h.setFloat32(60,t.intent_p2,o),h.setFloat32(64,t.intent_p3,o),h.setInt16(68,t.intent_code,o),e?(h.setInt16(70,2,o),h.setInt16(72,8,o)):(h.setInt16(70,t.datatypeCode,o),h.setInt16(72,t.numBitsPerVoxel,o)),h.setInt16(74,t.slice_start,o);for(let f=0;f<8;f++)h.setFloat32(76+4*f,t.pixDims[f],o);e?(h.setFloat32(108,352,o),h.setFloat32(112,1,o),h.setFloat32(116,0,o)):(h.setFloat32(108,352,o),h.setFloat32(112,t.scl_slope,o),h.setFloat32(116,t.scl_inter,o)),h.setInt16(120,t.slice_end,o),h.setUint8(122,t.slice_code),t.xyzt_units===0?h.setUint8(123,10):h.setUint8(123,t.xyzt_units),e?(h.setFloat32(124,0,o),h.setFloat32(128,0,o)):(h.setFloat32(124,t.cal_max,o),h.setFloat32(128,t.cal_min,o)),h.setFloat32(132,t.slice_duration,o),h.setFloat32(136,t.toffset,o),c.set(um(t.description),148),c.set(um(t.aux_file),228),h.setInt16(252,t.qform_code,o),t.sform_code<1||t.sform_code<1?h.setInt16(254,1,o):h.setInt16(254,t.sform_code,o),h.setFloat32(256,t.quatern_b,o),h.setFloat32(260,t.quatern_c,o),h.setFloat32(264,t.quatern_d,o),h.setFloat32(268,t.qoffset_x,o),h.setFloat32(272,t.qoffset_y,o),h.setFloat32(276,t.qoffset_z,o);const u=t.affine.flat();for(let f=0;f<12;f++)h.setFloat32(280+4*f,u[f],o);return h.setInt32(344,3222382,!0),c}function lx(t,e=!0){const n=Math.round(t.length/3),s=ut(0,0,0),a=ee(),o=ee();let c=0,h=1;e&&(h=2);for(let g=0;g<h;g++){c=0;for(let v=0;v<n;v++){const x=ut(t[v*3],t[v*3+1],t[v*3+2]);v===0&&(W2(a,x),W2(o,x)),yf(a,a,x),bf(o,o,x),le(x,x,s);const y=Xa(x);c=Math.max(c,y)}if(g+1>=h)break;let A=!0;for(let v=0;v<3;++v)a[v]>s[v]&&(A=!1),o[v]<s[v]&&(A=!1);if(A)break;r4(s,a,o,.5),Y.debug("origin moved inside volume: ",s)}const u=[a[0],a[1],a[2]],f=[o[0],o[1],o[2]];return{min:u,max:f,furthestVertexFromOrigin:c,origin:s}}function hm(t){const e=[!1,!1,!1,!1],n=[!1,!1,!1,!1];for(let s=0;s<4;s++)for(let a=0;a<4;a++)if(isNaN(t[s][a]))return!1;for(let s=0;s<3;s++)for(let a=0;a<3;a++)t[s][a]!==0&&(e[s]=!0,n[a]=!0);for(let s=0;s<3;s++)if(!e[s]||!n[s])return!1;return!0}async function Hh(t){const e=t.getReader(),{done:n,value:s}=await e.read();if(n)return e.releaseLock(),new ReadableStream({start(c){c.close()}});if(!s||s.length<2)return e.releaseLock(),new ReadableStream({start(c){s&&c.enqueue(s),c.close()}});const a=s[0]===31&&s[1]===139,o=new ReadableStream({async start(c){try{for(c.enqueue(s);;){const{done:h,value:u}=await e.read();if(h){c.close(),e.releaseLock();break}c.enqueue(u)}}catch(h){c.error(h),e.releaseLock()}}});return a?o.pipeThrough(new DecompressionStream("gzip")):o}function Vg(t=[256,256,256],e=[1,1,1],n=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],s=2){const a=new St;a.littleEndian=!0,a.dims=[3,1,1,1,0,0,0,0],a.dims[0]=Math.max(3,t.length);for(let c=0;c<t.length;c++)a.dims[c+1]=t[c];a.pixDims=[1,1,1,1,1,0,0,0];for(let c=0;c<t.length;c++)a.pixDims[c+1]=e[c];if(n.length===16){let c=0;for(let h=0;h<4;h++)for(let u=0;u<4;u++)a.affine[h][u]=n[c],c++}let o=8;return s===256||s===2?o=8:s===512||s===4?o=16:s===16||s===768||s===8||s===2304?o=32:s===64?o=64:Y.warn("Unsupported NIfTI datatypeCode for header creation: "+s),a.datatypeCode=s,a.numBitsPerVoxel=o,a.scl_inter=0,a.scl_slope=1,a.sform_code=2,a.magic="n+1",a.vox_offset=352,a}function cx(t=[256,256,256],e=[1,1,1],n=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],s=2,a=new Uint8Array){const o=Vg(t,e,n,s),c=Zl(o,!1);o.vox_offset=Math.max(352,c.length);const h=Zl(o,!1);if(a.length<1)return h;const u=Math.max(0,o.vox_offset-h.length),f=new Uint8Array(u),m=new Uint8Array(a.buffer,a.byteOffset,a.byteLength),g=o.vox_offset+m.length,A=new Uint8Array(g);return A.set(h,0),A.set(f,h.length),A.set(m,o.vox_offset),A}function Ig(t,e=null){if(!t.hdr)throw new Error("NVImage header is not defined for toUint8Array");if(!t.img&&e===null)throw new Error("NVImage image data is not defined for toUint8Array");const n=e!==null,s=JSON.parse(JSON.stringify(t.hdr));s.vox_offset=Math.max(352,s.vox_offset),n&&(s.datatypeCode=2,s.numBitsPerVoxel=8,s.scl_slope=1,s.scl_inter=0);const a=Zl(s,n);let o;if(n){const g=e,A=t.permRAS;if(A&&(A[0]!==1||A[1]!==2||A[2]!==3)){Y.debug("Reorienting drawing bytes back to native space for saving...");const v=t.hdr.dims,x=v[1]*v[2]*v[3],y=t.dimsRAS?t.dimsRAS[1]*t.dimsRAS[2]*t.dimsRAS[3]:x;if(g.length!==y)console.warn(`Drawing length (${g.length}) does not match expected RAS voxel count (${y}). Cannot reorient drawing reliably.`),o=g;else if(!t.img2RASstep||!t.img2RASstart||!t.dimsRAS)console.warn("Missing RAS transformation info (img2RASstep, img2RASstart, dimsRAS). Cannot reorient drawing reliably."),o=g;else{const w=t.img2RASstep,C=t.img2RASstart,T=t.dimsRAS,D=new Uint8Array(x);D.fill(0);const M=g;let E=0;for(let R=0;R<T[3];R++){const B=C[2]+R*w[2];for(let U=0;U<T[2];U++){const N=C[1]+U*w[1];for(let S=0;S<T[1];S++){const F=C[0]+S*w[0]+N+B;F>=0&&F<x?D[F]=M[E]:E<M.length&&console.warn(`Calculated native index ${F} is out of bounds [0..${x-1}] during drawing reorientation.`),E++}}}o=D}}else o=g}else{if(!t.img)throw new Error("NVImage image data is null when trying to save non-drawing.");o=new Uint8Array(t.img.buffer,t.img.byteOffset,t.img.byteLength)}const c=a.length,h=Math.max(0,s.vox_offset-c),u=new Uint8Array(h),f=s.vox_offset+o.length,m=new Uint8Array(f);return m.set(a,0),m.set(u,c),m.set(o,s.vox_offset),m}async function Ng(t,e,n=null){const s=Ig(t,n);if(e.toLowerCase().endsWith(".gz"))try{const o=await At.compress(s,"gzip");return new Uint8Array(o)}catch(o){return Y.error("Compression failed:",o),Y.warn("Returning uncompressed data due to compression error."),s}else return s}async function ux(t,e="",n=null){const s=await Ng(t,e,n);if(!e)return Y.debug("saveToDisk: empty file name, returning data as Uint8Array rather than triggering download"),s;try{const a=new Blob([s.buffer],{type:"application/octet-stream"}),o=URL.createObjectURL(a),c=document.createElement("a");c.setAttribute("href",o),c.setAttribute("download",e),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c),setTimeout(()=>URL.revokeObjectURL(o),100)}catch(a){Y.error("Failed to trigger download:",a)}return s}function hx(t,e,n,s,a=0,o=!1){if(!t.hdr)throw new Error("getValue: NVImage header is not defined.");if(!o&&!t.img)throw new Error("getValue: NVImage image data is not defined.");if(o&&!t.imaginary)return Y.warn("getValue: Attempted to read imaginary data, but none exists."),0;const c=t.hdr.dims[1],h=t.hdr.dims[2],u=t.hdr.dims[3];e=Math.max(0,Math.min(Math.round(e),c-1)),n=Math.max(0,Math.min(Math.round(n),h-1)),s=Math.max(0,Math.min(Math.round(s),u-1)),a=Math.max(0,a);let f=e+n*c+s*c*h;if(t.hdr.datatypeCode===2304){if(!t.img)return 0;if(f*=4,f+2>=t.img.length)return Y.warn(`getValue: Calculated index ${f} out of bounds for RGBA data.`),0;const C=t.img[f]*.2126+t.img[f+1]*.7152+t.img[f+2]*.0722;return Math.round(C)}if(t.hdr.datatypeCode===128){if(!t.img)return 0;if(f*=3,f+2>=t.img.length)return Y.warn(`getValue: Calculated index ${f} out of bounds for RGB data.`),0;const C=t.img[f]*.2126+t.img[f+1]*.7152+t.img[f+2]*.0722;return Math.round(C)}const m=c*h*u,g=a*m,A=f+g,v=o?t.imaginary:t.img;if(A<0||A>=v.length)return 0;const x=v[A],y=isNaN(t.hdr.scl_slope)||t.hdr.scl_slope===0?1:t.hdr.scl_slope,w=isNaN(t.hdr.scl_inter)?0:t.hdr.scl_inter;return y*x+w}function fx(t,e=[-1,0,0],n=[0,0,0],s="same"){const a=[new Uint8Array,[0,0,0]];if(!t.hdr||!t.img||!t.dimsRAS||!t.img2RASstep||!t.img2RASstart)return Y.error("getVolumeData: Missing required NVImage properties (hdr, img, dimsRAS, img2RASstep/start)."),a;if(e=e.slice(0,3),n=n.slice(0,3),Math.min(...e)<0||Math.min(...n)<0)return Y.warn("getVolumeData: Invalid start or end coordinates provided."),a;const o=t.dimsRAS.slice(1,4);for(let w=0;w<3;w++)if(e[w]=Math.max(0,Math.min(Math.round(e[w]),o[w]-1)),n[w]=Math.max(0,Math.min(Math.round(n[w]),o[w]-1)),n[w]<e[w]){const C=n[w];n[w]=e[w],e[w]=C}const c=[n[0]-e[0]+1,n[1]-e[1]+1,n[2]-e[2]+1],h=c[0]*c[1]*c[2];if(h<=0)return Y.warn("getVolumeData: Calculated slab size is zero or negative."),a;let u=t.img.constructor;s==="uint8"?u=Uint8Array:s==="int16"?u=Int16Array:s==="uint16"?u=Uint16Array:s==="float32"||s==="scaled"||s==="normalized"||s==="windowed"?u=Float32Array:s==="float64"?u=Float64Array:s!=="same"&&Y.warn(`getVolumeData: Unsupported dataType '${s}'. Using 'same'.`);let f;try{f=new u(h)}catch(w){return Y.error(`getVolumeData: Failed to create output array for dataType '${s}'.`,w),a}const m=t.img2RASstep,g=t.img2RASstart,A=t.img;let v=0;for(let w=e[2];w<=n[2];w++){const C=g[2]+w*m[2];for(let T=e[1];T<=n[1];T++){const D=g[1]+T*m[1];for(let M=e[0];M<=n[0];M++){const R=g[0]+M*m[0]+D+C;let B=0;R>=0&&R<A.length&&(B=A[R]),f[v++]=B}}}const x=isNaN(t.hdr.scl_slope)||t.hdr.scl_slope===0?1:t.hdr.scl_slope,y=isNaN(t.hdr.scl_inter)?0:t.hdr.scl_inter;if(s==="scaled"||s==="normalized"||s==="windowed"){f instanceof Float32Array||(Y.warn(`getVolumeData: Converting output to Float32 for scaling type '${s}'.`),f=Float32Array.from(f));for(let w=0;w<f.length;w++)f[w]=f[w]*x+y}if(s==="normalized"||s==="windowed"){let w=t.cal_min,C=t.cal_max;s==="normalized"&&(w=t.global_min,C=t.global_max);const T=C-w,D=T===0?0:1/T;for(let M=0;M<f.length;M++)f[M]=(f[M]-w)*D,f[M]=Math.max(0,Math.min(f[M],1))}return[f,c]}function dx(t,e=[-1,0,0],n=[0,0,0],s=new Uint8Array){if(!t.hdr||!t.img||!t.dimsRAS||!t.img2RASstep||!t.img2RASstart){Y.error("setVolumeData: Missing required NVImage properties (hdr, img, dimsRAS, img2RASstep/start).");return}if(s.length<1){Y.warn("setVolumeData: Input slabData is empty.");return}if(e=e.slice(0,3),n=n.slice(0,3),Math.min(...e)<0||Math.min(...n)<0){Y.warn("setVolumeData: Invalid start or end coordinates provided.");return}const a=t.dimsRAS.slice(1,4);for(let g=0;g<3;g++)if(e[g]=Math.max(0,Math.min(Math.round(e[g]),a[g]-1)),n[g]=Math.max(0,Math.min(Math.round(n[g]),a[g]-1)),n[g]<e[g]){const A=n[g];n[g]=e[g],e[g]=A}const o=[n[0]-e[0]+1,n[1]-e[1]+1,n[2]-e[2]+1],c=o[0]*o[1]*o[2];if(c<=0){Y.warn("setVolumeData: Calculated slab size is zero or negative.");return}if(s.length<c){Y.error(`setVolumeData: Input slabData length (${s.length}) is less than the calculated slab size (${c}).`);return}const h=t.img2RASstep,u=t.img2RASstart,f=t.img;let m=0;for(let g=e[2];g<=n[2];g++){const A=u[2]+g*h[2];for(let v=e[1];v<=n[1];v++){const x=u[1]+v*h[1];for(let y=e[0];y<=n[0];y++){const C=u[0]+y*h[0]+x+A;C>=0&&C<f.length&&(f[C]=s[m]),m++}}}}var Og={};nc(Og,{readMgh:()=>mx});async function mx(t,e){t.hdr||(Y.warn("readMgh called before nvImage.hdr was initialized. Creating default."),t.hdr=new St);const n=t.hdr;n.littleEndian=!1;let s=e,a=new DataView(s);if(s.byteLength>=2&&a.getUint8(0)===31&&a.getUint8(1)===139)try{s=await At.decompressToBuffer(new Uint8Array(e)),a=new DataView(s)}catch(rt){return Y.error("Failed to decompress MGZ file.",rt),null}if(s.byteLength<284)return Y.error("File too small to be a valid MGH/MGZ header."),null;const o=a.getInt32(0,!1),c=a.getInt32(4,!1),h=a.getInt32(8,!1),u=a.getInt32(12,!1),f=a.getInt32(16,!1),m=a.getInt32(20,!1),g=a.getFloat32(30,!1),A=a.getFloat32(34,!1),v=a.getFloat32(38,!1),x=a.getFloat32(42,!1),y=a.getFloat32(46,!1),w=a.getFloat32(50,!1),C=a.getFloat32(54,!1),T=a.getFloat32(58,!1),D=a.getFloat32(62,!1),M=a.getFloat32(66,!1),E=a.getFloat32(70,!1),R=a.getFloat32(74,!1),B=a.getFloat32(78,!1),U=a.getFloat32(82,!1),N=a.getFloat32(86,!1);if(o!==1&&Y.warn(`Unexpected MGH version: ${o}.`),c<=0||h<=0||u<=0)return Y.error(`Invalid MGH dimensions: ${c}x${h}x${u}`),null;switch(m){case 0:n.numBitsPerVoxel=8,n.datatypeCode=2;break;case 4:n.numBitsPerVoxel=16,n.datatypeCode=4;break;case 1:n.numBitsPerVoxel=32,n.datatypeCode=8;break;case 3:n.numBitsPerVoxel=32,n.datatypeCode=16;break;default:return Y.error(`Unsupported MGH data type: ${m}`),null}n.dims[1]=c,n.dims[2]=h,n.dims[3]=u,n.dims[4]=Math.max(1,f),n.dims[0]=n.dims[4]>1?4:3,n.pixDims[1]=Math.abs(g),n.pixDims[2]=Math.abs(A),n.pixDims[3]=Math.abs(v),n.pixDims[4]=0,n.sform_code=1,n.qform_code=0;const S=mi(x*n.pixDims[1],C*n.pixDims[2],M*n.pixDims[3],0,y*n.pixDims[1],T*n.pixDims[2],E*n.pixDims[3],0,w*n.pixDims[1],D*n.pixDims[2],R*n.pixDims[3],0,0,0,0,1),I=ie(n.dims[1]/2,n.dims[2]/2,n.dims[3]/2,1),F=Wi();ze(F,I,S);const L=ut(B-F[0],U-F[1],N-F[2]);n.affine=[[S[0],S[1],S[2],L[0]],[S[4],S[5],S[6],L[1]],[S[8],S[9],S[10],L[2]],[0,0,0,1]],n.vox_offset=284,n.magic="n+1";const k=n.numBitsPerVoxel/8,P=c*h*u*n.dims[4]*k,K=s.byteLength-n.vox_offset;return K<P?(Y.error(`MGH image data size mismatch: expected ${P}, found ${K}`),null):(K>P&&Y.warn(`MGH file has extra ${K-P} bytes after image data. Truncating.`),s.slice(n.vox_offset,n.vox_offset+P))}var Lg={};nc(Lg,{readNifti:()=>gx});async function gx(t,e){let n=e,s=null;try{if(Ef(n)&&(Y.debug(`Decompressing NIfTI file: ${t.name}`),n=await G4(n),Y.debug(`Decompression complete for: ${t.name}`)),!n||n.byteLength===0)throw new Error("Buffer became invalid after decompression attempt.");if(t.hdr=await ka(n),t.hdr===null)throw new Error(`Failed to read NIfTI header: ${t.name}`);if(t.hdr.cal_min===0&&t.hdr.cal_max===255&&t.hdr.datatypeCode!==2&&(Y.debug(`Resetting suspicious cal_min/max (0/255) for non-uint8 NIfTI: ${t.name}`),t.hdr.cal_min=0,t.hdr.cal_max=0),s=q4(t.hdr,n),s===null)throw new Error(`nifti-reader-js readImage returned null for ${t.name}`);return s}catch(a){return Y.error(`Error processing NIfTI file ${t.name}:`,a),t.hdr=null,null}}var zg={};nc(zg,{readNrrd:()=>Ax});async function Ax(t,e,n=null){t.hdr||(Y.warn("readNrrd called before nvImage.hdr was initialized. Creating default."),t.hdr=new St);const s=t.hdr;s.pixDims=[1,1,1,1,1,0,0,0];const a=e.byteLength;let o=null;const c=new Uint8Array(e);for(let R=1;R<a;R++)if(c[R-1]===10&&c[R]===10){const B=e.slice(0,R-1);o=new TextDecoder().decode(B),s.vox_offset=R+1;break}if(o===null)return Y.error("readNrrd: could not extract txt"),null;const h=o.split(`
`);if(!h[0].startsWith("NRRD"))return Y.error("Invalid NRRD image (magic signature missing)"),null;const u=h.length;let f=!1,m=!1,g=!1;const A=ps(NaN,0,0,0,1,0,0,0,1),v=ut(0,0,0);let x=J5();for(let R=1;R<u;R++){let B=h[R];if((B.length===0||B[0]==="#")&&(B.startsWith("#")||B.trim().length===0))continue;B=B.toLowerCase();const U=B.split(":");if(U.length<2)continue;const N=U[0].trim();let S=U[1].trim();switch(S=S.replaceAll(")"," "),S=S.replaceAll("("," "),S=S.trim(),N){case"data file":g=!0;break;case"encoding":if(S.includes("raw"))f=!1;else if(S.includes("gz"))f=!0;else return Y.error("Unsupported NRRD encoding"),null;break;case"type":switch(S){case"uchar":case"unsigned char":case"uint8":case"uint8_t":s.numBitsPerVoxel=8,s.datatypeCode=2;break;case"signed char":case"int8":case"int8_t":s.numBitsPerVoxel=8,s.datatypeCode=256;break;case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":s.numBitsPerVoxel=16,s.datatypeCode=4;break;case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":s.numBitsPerVoxel=16,s.datatypeCode=512;break;case"int":case"signed int":case"int32":case"int32_t":s.numBitsPerVoxel=32,s.datatypeCode=8;break;case"uint":case"unsigned int":case"uint32":case"uint32_t":s.numBitsPerVoxel=32,s.datatypeCode=768;break;case"float":s.numBitsPerVoxel=32,s.datatypeCode=16;break;case"double":s.numBitsPerVoxel=64,s.datatypeCode=64;break;default:return Y.error("Unsupported NRRD data type: "+S),null}break;case"spacings":{const I=S.split(/[ ,]+/);for(let F=0;F<I.length;F++)s.pixDims[F+1]=parseFloat(I[F])}break;case"sizes":{const I=S.split(/[ ,]+/);s.dims[0]=I.length;for(let F=0;F<I.length;F++)s.dims[F+1]=parseInt(I[F])}break;case"endian":S.includes("little")?s.littleEndian=!0:S.includes("big")&&(s.littleEndian=!1);break;case"space directions":{const I=S.split(/[ ,]+/);if(I.length===9)for(let F=0;F<9;F++)A[F]=parseFloat(I[F])}break;case"space origin":{const I=S.split(/[ ,]+/);I.length===3&&(v[0]=parseFloat(I[0]),v[1]=parseFloat(I[1]),v[2]=parseFloat(I[2]))}break;case"space units":S.includes("microns")&&(m=!0);break;case"space":S.includes("right-anterior-superior")||S.includes("ras")?x=ps(1,0,0,0,1,0,0,0,1):S.includes("left-anterior-superior")||S.includes("las")?x=ps(-1,0,0,0,1,0,0,0,1):S.includes("left-posterior-superior")||S.includes("lps")?x=ps(-1,0,0,0,-1,0,0,0,1):Y.warn("Unsupported NRRD space value:",S);break;default:Y.warn("Unknown:",N);break}}if(!isNaN(A[0])){s.sform_code=2,m&&(e4(A,A,.001),v[0]*=.001,v[1]*=.001,v[2]*=.001),x[0]<0&&(v[0]=-v[0]),x[4]<0&&(v[1]=-v[1]),x[8]<0&&(v[2]=-v[2]),og(A,x,A);const R=mi(A[0],A[3],A[6],v[0],A[1],A[4],A[7],v[1],A[2],A[5],A[8],v[2],0,0,0,1);if(!t.vox2mm)return null;const B=t.vox2mm([0,0,0],R),U=t.vox2mm([1,0,0],R);le(U,U,B);const N=t.vox2mm([0,1,0],R);le(N,N,B);const S=t.vox2mm([0,0,1],R);le(S,S,B),s.pixDims[1]=jn(U),s.pixDims[2]=jn(N),s.pixDims[3]=jn(S),s.affine=[[R[0],R[1],R[2],R[3]],[R[4],R[5],R[6],R[7]],[R[8],R[9],R[10],R[11]],[0,0,0,1]]}let y=null;const w=g?n:e,C=g?0:s.vox_offset;if(g&&!w)return Y.warn("Missing data: NRRD header describes detached data file but only one URL provided"),null;if(!w||C>=w.byteLength)return Y.error(`NRRD data offset (${C}) invalid for buffer length (${(w==null?void 0:w.byteLength)??0})`),null;let T=w.slice(C);if(f)try{Y.debug("Decompressing NRRD data..."),T=await At.decompressToBuffer(new Uint8Array(T)),Y.debug("Decompression complete.")}catch(R){return Y.error("Failed to decompress NRRD data.",R),null}const D=s.numBitsPerVoxel/8,E=s.dims.slice(1,s.dims[0]+1).reduce((R,B)=>R*Math.max(1,B),1)*D;return T.byteLength<E?(Y.error(`NRRD image data size mismatch: expected ${E}, found ${T.byteLength}`),null):(T.byteLength>E&&(Y.warn(`NRRD has extra ${T.byteLength-E} bytes after expected image data. Truncating.`),T=T.slice(0,E)),y=T,s.datatypeCode?s.numBitsPerVoxel?y:(Y.error("NRRD parsing failed to set numBitsPerVoxel."),null):(Y.error("NRRD parsing failed to set datatypeCode."),null))}var Qe=class Yl{constructor(e=null,n="",s="gray",a=1,o=null,c=NaN,h=NaN,u=!0,f=.02,m=!1,g=!1,A="",v=0,x=Ct.UNKNOWN,y=NaN,w=NaN,C=!0,T=null,D=0){z(this,"name"),z(this,"id"),z(this,"url"),z(this,"headers"),z(this,"_colormap"),z(this,"_opacity"),z(this,"percentileFrac"),z(this,"ignoreZeroVoxels"),z(this,"trustCalMinMax"),z(this,"colormapNegative"),z(this,"colormapLabel"),z(this,"colormapInvert"),z(this,"nFrame4D"),z(this,"frame4D"),z(this,"nTotalFrame4D"),z(this,"cal_minNeg"),z(this,"cal_maxNeg"),z(this,"colorbarVisible",!0),z(this,"modulationImage",null),z(this,"modulateAlpha",0),z(this,"series",[]),z(this,"nVox3D"),z(this,"oblique_angle"),z(this,"maxShearDeg"),z(this,"useQFormNotSForm"),z(this,"colormapType"),z(this,"pixDims"),z(this,"matRAS"),z(this,"pixDimsRAS"),z(this,"obliqueRAS"),z(this,"dimsRAS"),z(this,"permRAS"),z(this,"img2RASstep"),z(this,"img2RASstart"),z(this,"toRAS"),z(this,"toRASvox"),z(this,"frac2mm"),z(this,"frac2mmOrtho"),z(this,"extentsMinOrtho"),z(this,"extentsMaxOrtho"),z(this,"mm2ortho"),z(this,"hdr",null),z(this,"imageType"),z(this,"img"),z(this,"imaginary"),z(this,"v1"),z(this,"fileObject"),z(this,"dims"),z(this,"onColormapChange",()=>{}),z(this,"onOpacityChange",()=>{}),z(this,"mm000"),z(this,"mm100"),z(this,"mm010"),z(this,"mm001"),z(this,"cal_min"),z(this,"cal_max"),z(this,"robust_min"),z(this,"robust_max"),z(this,"global_min"),z(this,"global_max"),z(this,"urlImgData"),z(this,"isManifest"),z(this,"limitFrames4D"),this.init(e,n,s,a,o,c,h,u,f,m,g,A,v,x,y,w,C,T,D)}init(e=null,n="",s="gray",a=1,o=null,c=NaN,h=NaN,u=!0,f=.02,m=!1,g=!1,A="",v=0,x=Ct.UNKNOWN,y=NaN,w=NaN,C=!0,T=null,D=0,M=null){if(this.name=n,this.imageType=x,this.id=nf(),this._colormap=s,this._opacity=a>1?1:a,this.percentileFrac=f,this.ignoreZeroVoxels=m,this.trustCalMinMax=u,this.colormapNegative=A,this.colormapLabel=T,this.frame4D=v,this.cal_minNeg=y,this.cal_maxNeg=w,this.colorbarVisible=C,this.colormapType=D,this.useQFormNotSForm=g,!e)return;if(this.hdr&&typeof this.hdr.magic=="number"&&(this.hdr.magic="n+1"),this.nFrame4D=1,this.hdr)for(let U=4;U<7;U++)this.hdr.dims[U]>1&&(this.nFrame4D*=this.hdr.dims[U]);if(this.frame4D=Math.min(this.frame4D,this.nFrame4D-1),this.nTotalFrame4D=this.nFrame4D,!this.hdr||!M)return;this.nVox3D=this.hdr.dims[1]*this.hdr.dims[2]*this.hdr.dims[3];const E=this.nVox3D*(this.hdr.numBitsPerVoxel/8),R=M.byteLength/E;R!==this.nFrame4D&&(R>0&&R*E===M.byteLength?Y.debug("Loading the first "+R+" of "+this.nFrame4D+" volumes"):Y.warn("This header does not match voxel data",this.hdr,M.byteLength),this.nFrame4D=R),(this.hdr.intent_code===1007||this.hdr.intent_code===2003)&&this.nFrame4D===3&&this.hdr.datatypeCode===16&&(M=this.float32V1asRGBA(new Float32Array(M)).buffer),(this.hdr.pixDims[1]===0||this.hdr.pixDims[2]===0||this.hdr.pixDims[3]===0)&&Y.error("pixDims not plausible",this.hdr),(isNaN(this.hdr.scl_slope)||this.hdr.scl_slope===0)&&(this.hdr.scl_slope=1),isNaN(this.hdr.scl_inter)&&(this.hdr.scl_inter=0);let B=hm(this.hdr.affine);if(g||!B||this.hdr.qform_code>this.hdr.sform_code){Y.debug("spatial transform based on QForm");const U=this.hdr.quatern_b,N=this.hdr.quatern_c,S=this.hdr.quatern_d,I=Math.sqrt(1-(Math.pow(U,2)+Math.pow(N,2)+Math.pow(S,2))),F=this.hdr.pixDims[0]===0?1:this.hdr.pixDims[0],L=[[I*I+U*U-N*N-S*S,2*U*N-2*I*S,2*U*S+2*I*N],[2*U*N+2*I*S,I*I+N*N-U*U-S*S,2*N*S-2*I*U],[2*U*S-2*I*N,2*N*S+2*I*U,I*I+S*S-N*N-U*U]],k=this.hdr.affine;for(let q=0;q<3;q+=1)for(let P=0;P<3;P+=1)k[q][P]=L[q][P]*this.hdr.pixDims[P+1],P===2&&(k[q][P]*=F);k[0][3]=this.hdr.qoffset_x,k[1][3]=this.hdr.qoffset_y,k[2][3]=this.hdr.qoffset_z,this.hdr.affine=k}if(B=hm(this.hdr.affine),!B){Y.debug("Defective NIfTI: spatial transform does not make sense");let U=this.hdr.pixDims[1],N=this.hdr.pixDims[2],S=this.hdr.pixDims[3];(isNaN(U)||U===0)&&(U=1),(isNaN(N)||N===0)&&(N=1),(isNaN(S)||S===0)&&(S=1),this.hdr.pixDims[1]=U,this.hdr.pixDims[2]=N,this.hdr.pixDims[3]=S;const I=[[U,0,0,0],[0,N,0,0],[0,0,S,0],[0,0,0,1]];this.hdr.affine=I}if(this.hdr.datatypeCode!==128&&this.hdr.datatypeCode!==2304&&this.hdr.littleEndian!==ox()&&this.hdr.numBitsPerVoxel>8){if(this.hdr.numBitsPerVoxel===16){const U=new Uint16Array(M);for(let N=0;N<U.length;N++){const S=U[N];U[N]=((S&255)<<8|S>>8&255)<<16>>16}}else if(this.hdr.numBitsPerVoxel===32){const U=new Uint32Array(M);for(let N=0;N<U.length;N++){const S=U[N];U[N]=(S&255)<<24|(S&65280)<<8|S>>8&65280|S>>24&255}}else if(this.hdr.numBitsPerVoxel===64){const U=this.hdr.numBitsPerVoxel/8,N=new Uint8Array(M);for(let S=0;S<N.length;S+=U){let I=U-1;for(let F=0;F<I;F++){const L=N[S+F];N[S+F]=N[S+I],N[S+I]=L,I--}}}}switch(this.hdr.datatypeCode){case 2:this.img=new Uint8Array(M);break;case 4:this.img=new Int16Array(M);break;case 16:this.img=new Float32Array(M);break;case 64:this.img=new Float64Array(M);break;case 128:this.img=new Uint8Array(M);break;case 512:this.img=new Uint16Array(M);break;case 2304:this.img=new Uint8Array(M);break;case 256:{const U=new Int8Array(M),N=U.length;this.img=new Int16Array(N);for(let S=0;S<N;S++)this.img[S]=U[S];this.hdr.datatypeCode=4,this.hdr.numBitsPerVoxel=16;break}case 1:{const U=this.hdr.dims[1]*this.hdr.dims[2]*Math.max(1,this.hdr.dims[3])*Math.max(1,this.hdr.dims[4]),N=new Uint8Array(M);this.img=new Uint8Array(U);const S=new Uint8Array(8);for(let F=0;F<8;F++)S[F]=Math.pow(2,F);let I=-1;for(let F=0;F<U;F++){const L=F%8;L===0&&I++,(N[I]&S[L])!==0&&(this.img[F]=1)}this.hdr.datatypeCode=2,this.hdr.numBitsPerVoxel=8;break}case 768:{const U=new Uint32Array(M),N=U.length;this.img=new Float64Array(N);for(let S=0;S<N-1;S++)this.img[S]=U[S];this.hdr.datatypeCode=64;break}case 8:{const U=new Int32Array(M),N=U.length;this.img=new Float64Array(N);for(let S=0;S<N-1;S++)this.img[S]=U[S];this.hdr.datatypeCode=64;break}case 1024:{const U=new BigInt64Array(M),N=U.length;this.img=new Float64Array(N);for(let S=0;S<N-1;S++)this.img[S]=Number(U[S]);this.hdr.datatypeCode=64;break}case 32:{const U=new Float32Array(M),N=Math.floor(U.length/2);this.imaginary=new Float32Array(N),this.img=new Float32Array(N);let S=0;for(let I=0;I<N-1;I++)this.img[I]=U[S],this.imaginary[I]=U[S+1],S+=2;this.hdr.datatypeCode=16;break}default:throw new Error("datatype "+this.hdr.datatypeCode+" not supported")}this.calculateRAS(),isNaN(c)||(this.hdr.cal_min=c),isNaN(h)||(this.hdr.cal_max=h),this.calMinMax()}static async new(e=null,n="",s="gray",a=1,o=null,c=NaN,h=NaN,u=!0,f=.02,m=!1,g=!1,A="",v=0,x=Ct.UNKNOWN,y=NaN,w=NaN,C=!0,T=null,D=0){const M=new Yl,E=/(?:\.([^.]+))?$/;let R=E.exec(n)[1]||"";R=R.toUpperCase(),R==="GZ"&&(R=E.exec(n.slice(0,-3))[1],R=R.toUpperCase());let B=null;if(x===Ct.UNKNOWN&&(x=Ct.parse(R)),e instanceof ArrayBuffer&&e.byteLength>=2&&x===Ct.DCM){const U=new Uint8Array(e);(U[0]===92&&U[1]===1||U[1]===92&&U[0]===1)&&(x=Ct.NII)}switch(M.imageType=x,x){case Ct.DCM_FOLDER:case Ct.DCM_MANIFEST:case Ct.DCM:return;case Ct.FIB:[B,M.v1]=await M.readFIB(e);break;case Ct.MIH:case Ct.MIF:B=await M.readMIF(e,o);break;case Ct.NHDR:case Ct.NRRD:if(B=await zg.readNrrd(M,e),B===null)throw new Error(`Failed to parse NHDR/NRRD file ${n}`);break;case Ct.MHD:case Ct.MHA:B=await M.readMHA(e,o);break;case Ct.MGH:case Ct.MGZ:if(B=await Og.readMgh(M,e),B===null)throw new Error(`Failed to parse MGH/MGZ file ${n}`);break;case Ct.SRC:B=await M.readSRC(e);break;case Ct.V:B=M.readECAT(e);break;case Ct.V16:B=M.readV16(e);break;case Ct.VMR:B=M.readVMR(e);break;case Ct.HEAD:B=await M.readHEAD(e,o);break;case Ct.BMP:B=await M.readBMP(e);break;case Ct.NPY:B=await M.readNPY(e);break;case Ct.NPZ:B=await M.readNPZ(e);break;case Ct.ZARR:throw new Error("Image type ZARR not (yet) supported");case Ct.NII:if(B=await Lg.readNifti(M,e),B===null)throw new Error(`Failed to parse NIfTI file ${n}.`);break;default:throw new Error("Image type not supported")}return M.init(e,n,s,a,o,c,h,u,f,m,g,A,v,x,y,w,C,T,D,B),M}computeObliqueAngle(e){const n=Ae(e);di(n,e);const s=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]),a=Math.max(Math.max(Math.abs(n[0]),Math.abs(n[1])),Math.abs(n[2]))/s,o=Math.sqrt(n[4]*n[4]+n[5]*n[5]+n[6]*n[6]),c=Math.max(Math.max(Math.abs(n[4]),Math.abs(n[5])),Math.abs(n[6]))/o,h=Math.sqrt(n[8]*n[8]+n[9]*n[9]+n[10]*n[10]),u=Math.max(Math.max(Math.abs(n[8]),Math.abs(n[9])),Math.abs(n[10]))/h,f=Math.min(Math.min(a,c),u);let m=Math.abs(Math.acos(f)*180/3.141592653);return m>.01?Y.warn("Warning voxels not aligned with world space: "+m+` degrees from plumb.
`):m=0,m}float32V1asRGBA(e){e.length!==this.nVox3D*3&&Y.warn("float32V1asRGBA() expects "+this.nVox3D*3+"voxels, got ",+e.length);const n=e.slice();this.hdr.datatypeCode=2304,this.nFrame4D=1;for(let u=4;u<7;u++)this.hdr.dims[u]=1;this.hdr.dims[0]=3;const s=new Uint8Array(this.nVox3D*4);let a=1;for(let u=0;u<this.nVox3D*3;u++)isNaN(n[u])||(a=Math.max(a,Math.abs(n[u])));const o=255/a,c=this.nVox3D*2;let h=0;for(let u=0;u<this.nVox3D;u++){const f=n[u],m=n[u+this.nVox3D],g=n[u+c];s[h]=Math.abs(f*o),s[h+1]=Math.abs(m*o),s[h+2]=Math.abs(g*o);const A=+(f>0)*1,v=+(m>0)*2,x=+(g>0)*4;let y=248+A+v+x;Math.abs(f)+Math.abs(m)+Math.abs(g)<.1&&(y=0),s[h+3]=y,h+=4}return s}loadImgV1(e=!1,n=!1,s=!1){let a=this.v1;if(!a&&this.nFrame4D===3&&this.img.constructor===Float32Array&&(a=this.img.slice()),!a)return Y.warn("Image does not have V1 data"),!1;if(e)for(let o=0;o<this.nVox3D;o++)a[o]=-a[o];if(n)for(let o=this.nVox3D;o<2*this.nVox3D;o++)a[o]=-a[o];if(s)for(let o=2*this.nVox3D;o<3*this.nVox3D;o++)a[o]=-a[o];return this.img=this.float32V1asRGBA(a),!0}calculateOblique(){if(!this.matRAS)throw new Error("matRAS not defined");if(this.pixDimsRAS===void 0)throw new Error("pixDimsRAS not defined");if(!this.dimsRAS)throw new Error("dimsRAS not defined");this.oblique_angle=this.computeObliqueAngle(this.matRAS);const e=this.vox2mm([0,0,0],this.matRAS),n=this.vox2mm([1/this.pixDimsRAS[1],0,0],this.matRAS),s=this.vox2mm([0,1/this.pixDimsRAS[2],0],this.matRAS),a=this.vox2mm([0,0,1/this.pixDimsRAS[3]],this.matRAS);le(n,n,e),le(s,s,e),le(a,a,e);const o=mi(n[0],n[1],n[2],0,s[0],s[1],s[2],0,a[0],a[1],a[2],0,0,0,0,1);this.obliqueRAS=Ae(o);const c=Math.abs(90-Ih(n,s)*(180/Math.PI)),h=Math.abs(90-Ih(n,a)*(180/Math.PI)),u=Math.abs(90-Ih(s,a)*(180/Math.PI));this.maxShearDeg=Math.max(Math.max(c,h),u),this.maxShearDeg>.1&&Y.warn("Warning: voxels are rhomboidal, maximum shear is %f degrees.",this.maxShearDeg);const f=ie(this.dimsRAS[1],this.dimsRAS[2],this.dimsRAS[3],1),m=Ae(this.matRAS);di(m,m);const g=ie(-.5,-.5,-.5,0);br(m,m,ut(g[0],g[1],g[2])),m[0]*=f[0],m[1]*=f[0],m[2]*=f[0],m[4]*=f[1],m[5]*=f[1],m[6]*=f[1],m[8]*=f[2],m[9]*=f[2],m[10]*=f[2],this.frac2mm=Ae(m);const A=this.pixDimsRAS[1],v=this.pixDimsRAS[2],x=this.pixDimsRAS[3],y=Ae(m);y[0]=A*f[0],y[1]=0,y[2]=0,y[4]=0,y[5]=v*f[1],y[6]=0,y[8]=0,y[9]=0,y[10]=x*f[2];const w=this.mm2vox([0,0,0],!0);y[12]=(-w[0]-.5)*A,y[13]=(-w[1]-.5)*v,y[14]=(-w[2]-.5)*x,this.frac2mmOrtho=Ae(y),this.extentsMinOrtho=[y[12],y[13],y[14]],this.extentsMaxOrtho=[y[0]+y[12],y[5]+y[13],y[10]+y[14]],this.mm2ortho=Vt(),ii(this.mm2ortho,o)}THD_daxes_to_NIFTI(e,n,s){const a=this.hdr;if(a===null)throw new Error("HDR is not set");a.sform_code=2;const o="xxyyzzg";let c=-1,h=-1,u=-1;const f=["x","y","z"];f[0]=o[s[0]],f[1]=o[s[1]],f[2]=o[s[2]];const m=e.slice(0,3),g=n.slice(0,3);for(let A=0;A<3;A++)f[A]==="x"?c=A:f[A]==="y"?h=A:u=A;c<0||h<0||u<0||c===h||c===u||h===u||(a.pixDims[1]=Math.abs(m[0]),a.pixDims[2]=Math.abs(m[1]),a.pixDims[3]=Math.abs(m[2]),a.affine=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],a.affine[0][c]=-m[c],a.affine[1][h]=-m[h],a.affine[2][u]=m[u],a.affine[0][3]=-g[c],a.affine[1][3]=-g[h],a.affine[2][3]=g[u])}SetPixDimFromSForm(){if(!this.hdr)throw new Error("hdr not defined");const e=this.hdr.affine,n=mi(e[0][0],e[0][1],e[0][2],e[0][3],e[1][0],e[1][1],e[1][2],e[1][3],e[2][0],e[2][1],e[2][2],e[2][3],e[3][0],e[3][1],e[3][2],e[3][3]),s=this.vox2mm([0,0,0],n),a=this.vox2mm([1,0,0],n);le(a,a,s);const o=this.vox2mm([0,1,0],n);le(o,o,s);const c=this.vox2mm([0,0,1],n);le(c,c,s),this.hdr.pixDims[1]=jn(a),this.hdr.pixDims[2]=jn(o),this.hdr.pixDims[3]=jn(c)}readECAT(e){this.hdr=new St;const n=this.hdr;n.dims=[3,1,1,1,0,0,0,0],n.pixDims=[1,1,1,1,1,0,0,0];const s=new DataView(e),a=s.getInt32(0,!1),o=s.getInt16(50,!1);if(a!==1296127058||o<1||o>14)throw new Error("Not a valid ECAT file");let c=512,h=0;const u=[];let f=new Float32Array;for(;;){const m=s.getInt32(c,!1),g=s.getInt32(c+12,!1);if(m+g!==31)break;let A=c+20,v=0,x=0;for(;v<31&&(x=s.getInt32(A,!1),A+=16,x!==0);){v++;let y=x*512;const w=y-512,C=s.getUint16(w,!1);n.dims[1]=s.getUint16(w+4,!1),n.dims[2]=s.getUint16(w+6,!1),n.dims[3]=s.getUint16(w+8,!1);const T=s.getFloat32(w+26,!1);n.pixDims[1]=s.getFloat32(w+34,!1)*10,n.pixDims[2]=s.getFloat32(w+38,!1)*10,n.pixDims[3]=s.getFloat32(w+42,!1)*10,n.pixDims[4]=s.getUint32(w+46,!1)/1e3,u.push(n.pixDims[4]);const D=n.dims[1]*n.dims[2]*n.dims[3],M=new Float32Array(D);if(C===1)for(let R=0;R<D;R++)M[R]=s.getUint8(y)*T,y++;else if(C===6)for(let R=0;R<D;R++)M[R]=s.getUint16(y,!1)*T,y+=2;else if(C===7)for(let R=0;R<D;R++)M[R]=s.getUint32(y,!1)*T,y+=4;else Y.warn("Unknown ECAT data type "+C);const E=f.slice(0);f=new Float32Array(E.length+M.length),f.set(E),f.set(M,E.length),h++}if(x===0)break;c+=512}if(n.dims[4]=h,n.pixDims[4]=u[0],h>1){n.dims[0]=4;let m=!1;for(let g=0;g<h;g++)u[g]!==u[0]&&(m=!0);m&&Y.warn("Frame durations vary")}return n.sform_code=1,n.affine=[[-n.pixDims[1],0,0,(n.dims[1]-2)*.5*n.pixDims[1]],[0,-n.pixDims[2],0,(n.dims[2]-2)*.5*n.pixDims[2]],[0,0,-n.pixDims[3],(n.dims[3]-2)*.5*n.pixDims[3]],[0,0,0,1]],n.numBitsPerVoxel=32,n.datatypeCode=16,f.buffer}readV16(e){this.hdr=new St;const n=this.hdr;n.dims=[3,1,1,1,0,0,0,0],n.pixDims=[1,1,1,1,1,0,0,0];const s=new DataView(e);return n.dims[1]=s.getUint16(0,!0),n.dims[2]=s.getUint16(2,!0),n.dims[3]=s.getUint16(4,!0),2*n.dims[1]*n.dims[2]*n.dims[3]+6!==e.byteLength&&Y.warn("This does not look like a valid BrainVoyager V16 file"),n.numBitsPerVoxel=16,n.datatypeCode=512,Y.warn("Warning: V16 files have no spatial transforms"),n.affine=[[0,0,-n.pixDims[1],(n.dims[1]-2)*.5*n.pixDims[1]],[-n.pixDims[2],0,0,(n.dims[2]-2)*.5*n.pixDims[2]],[0,-n.pixDims[3],0,(n.dims[3]-2)*.5*n.pixDims[3]],[0,0,0,1]],n.littleEndian=!0,e.slice(6)}async readNPY(e){function n(M){return{"|b1":1,"<i1":1,"<u1":1,"<i2":2,"<u2":2,"<i4":4,"<u4":4,"<f4":4,"<f8":8}[M]??1}function s(M){return{"|b1":2,"<i1":256,"<u1":2,"<i2":4,"<u2":512,"<i4":8,"<u4":768,"<f4":16,"<f8":64}[M]??16}const a=new DataView(e),o=[a.getUint8(0),a.getUint8(1),a.getUint8(2),a.getUint8(3),a.getUint8(4),a.getUint8(5)],c=[147,78,85,77,80,89];if(!o.every((M,E)=>M===c[E]))throw new Error("Not a valid NPY file: Magic number mismatch");const h=a.getUint16(8,!0),u=new TextDecoder("utf-8").decode(e.slice(10,10+h)),f=u.match(/'shape': \((.*?)\)/);if(!f)throw new Error("Invalid NPY header: Shape not found");const m=f[1].split(",").map(M=>M.trim()).filter(M=>M!=="").map(Number),g=u.match(/'descr': '([^']+)'/);if(!g)throw new Error("Invalid NPY header: Data type not found");const A=g[1],v=m.reduce((M,E)=>M*E,1),x=10+h,y=e.slice(x,x+v*n(A)),w=m.length>0?m[m.length-1]:1,C=m.length>1?m[m.length-2]:1,T=m.length>2?m[m.length-3]:1;this.hdr=new St;const D=this.hdr;return D.dims=[3,w,C,T,0,0,0,0],D.pixDims=[1,1,1,1,1,0,0,0],D.affine=[[D.pixDims[1],0,0,-(D.dims[1]-2)*.5*D.pixDims[1]],[0,-D.pixDims[2],0,(D.dims[2]-2)*.5*D.pixDims[2]],[0,0,-D.pixDims[3],(D.dims[3]-2)*.5*D.pixDims[3]],[0,0,0,1]],D.numBitsPerVoxel=n(A)*8,D.datatypeCode=s(A),y}async readNPZ(e){const n=new Ug(e);for(let s=0;s<n.entries.length;s++){const a=n.entries[s];if(a.fileName.toLowerCase().endsWith(".npy")){const o=await a.extract();return await this.readNPY(o.buffer)}}}async imageDataFromArrayBuffer(e){return new Promise((n,s)=>{const a=new Blob([e]),o=URL.createObjectURL(a),c=new Image;c.crossOrigin="Anonymous",c.src=o,c.onload=()=>{URL.revokeObjectURL(o);const h=document.createElement("canvas");h.width=c.width,h.height=c.height;const u=h.getContext("2d");if(!u){s(new Error("Failed to get 2D context"));return}u.drawImage(c,0,0),n(u.getImageData(0,0,c.width,c.height))},c.onerror=h=>{URL.revokeObjectURL(o),s(h)}})}async readBMP(e){const n=await this.imageDataFromArrayBuffer(e),{width:s,height:a,data:o}=n;this.hdr=new St;const c=this.hdr;c.dims=[3,s,a,1,0,0,0,0],c.pixDims=[1,1,1,1,1,0,0,0],c.affine=[[c.pixDims[1],0,0,-(c.dims[1]-2)*.5*c.pixDims[1]],[0,-c.pixDims[2],0,(c.dims[2]-2)*.5*c.pixDims[2]],[0,0,-c.pixDims[3],(c.dims[3]-2)*.5*c.pixDims[3]],[0,0,0,1]],c.numBitsPerVoxel=8,c.datatypeCode=2304;let h=!0;for(let u=0;u<o.length;u+=4)if(o[u]!==o[u+1]||o[u]!==o[u+2]){h=!1;break}if(h){c.datatypeCode=2;const u=new Uint8Array(s*a);for(let f=0,m=0;f<o.length;f+=4,m++)u[m]=o[f];return u.buffer}return o.buffer}readVMR(e){this.hdr=new St;const n=this.hdr;n.dims=[3,1,1,1,0,0,0,0],n.pixDims=[1,1,1,1,1,0,0,0];const s=new DataView(e),a=s.getUint16(0,!0);a!==4&&Y.warn("Not a valid version 4 VMR image"),n.dims[1]=s.getUint16(2,!0),n.dims[2]=s.getUint16(4,!0),n.dims[3]=s.getUint16(6,!0);const o=n.dims[1]*n.dims[2]*n.dims[3];if(a>=4){let c=8+o;const h=s.getUint32(c+88,!0);if(c=c+92,h>0){const u=e.byteLength;for(let f=0;f<h;f++){for(;c<u&&s.getUint8(c)!==0;)c++;for(c++,c+=4;c<u&&s.getUint8(c)!==0;)c++;c++;const m=s.getUint32(c,!0);c+=4;for(let g=0;g<m;g++)c+=4}}n.pixDims[1]=s.getFloat32(c+2,!0),n.pixDims[2]=s.getFloat32(c+6,!0),n.pixDims[3]=s.getFloat32(c+10,!0)}return Y.warn("Warning: VMR spatial transform not implemented"),n.affine=[[0,0,-n.pixDims[1],(n.dims[1]-2)*.5*n.pixDims[1]],[-n.pixDims[2],0,0,(n.dims[2]-2)*.5*n.pixDims[2]],[0,-n.pixDims[3],0,(n.dims[3]-2)*.5*n.pixDims[3]],[0,0,0,1]],Y.debug(n),n.numBitsPerVoxel=8,n.datatypeCode=2,e.slice(8,8+o)}async readFIB(e){this.hdr=new St;const n=this.hdr;n.littleEndian=!1,n.dims=[3,1,1,1,0,0,0,0],n.pixDims=[1,1,1,1,1,0,0,0];const s=await At.readMatV4(e,!0);if(!("dimension"in s)||!("dti_fa"in s))throw new Error("Not a valid DSIstudio FIB file");const a="index0"in s&&"index1"in s&&"index2"in s&&"odf_vertices"in s;n.numBitsPerVoxel=32,n.datatypeCode=16,n.dims[1]=s.dimension[0],n.dims[2]=s.dimension[1],n.dims[3]=s.dimension[2],n.dims[4]=1,n.pixDims[1]=s.voxel_size[0],n.pixDims[2]=s.voxel_size[1],n.pixDims[3]=s.voxel_size[2],n.sform_code=1;const o=(n.dims[1]-1)*.5*n.pixDims[1],c=(n.dims[2]-1)*.5*n.pixDims[2],h=(n.dims[3]-1)*.5*n.pixDims[3];n.affine=[[n.pixDims[1],0,0,-o],[0,-n.pixDims[2],0,c],[0,0,n.pixDims[2],-h],[0,0,0,1]],n.littleEndian=!0;const u=n.dims[1]*n.dims[2]*n.dims[3],f=u*Math.ceil(n.numBitsPerVoxel/8),m=f*n.dims[4],g=new Uint8Array(new ArrayBuffer(u*4*3));if(a){const y=n.dims[1]*n.dims[2]*n.dims[3],w=new Float32Array(y),C=new Float32Array(y),T=new Float32Array(y),D=s.index0,M=s.odf_vertices;for(let E=0;E<y;E++){const R=D[E]*3;w[E]=M[R+0],C[E]=M[R+1],T[E]=-M[R+2]}g.set(new Uint8Array(w.buffer,w.byteOffset,w.byteLength),0*f),g.set(new Uint8Array(C.buffer,C.byteOffset,C.byteLength),1*f),g.set(new Uint8Array(T.buffer,T.byteOffset,T.byteLength),2*f)}"report"in s&&(n.description=new TextDecoder().decode(s.report.subarray(0,Math.min(79,s.report.byteLength))));const A=new Uint8Array(new ArrayBuffer(m)),v=Float32Array.from(s.dti_fa);if("mask"in s){console.log(s);let y=1;"dti_fa_slope"in s&&(y=s.dti_fa_slope[0]);let w=1;"dti_fa_inter"in s&&(w=s.dti_fa_inter[0]);const C=n.dims[1]*n.dims[2]*n.dims[3],T=s.mask,D=new Float32Array(C);let M=0;for(let E=0;E<C;E++)T[E]!==0&&(D[E]=v[M]*y+w,M++);return[D.buffer,new Float32Array(g.buffer)]}const x=new Uint8Array(v.buffer,v.byteOffset,v.byteLength);return A.set(x,0),[A.buffer,new Float32Array(g.buffer)]}async readSRC(e){this.hdr=new St;const n=this.hdr;n.littleEndian=!1,n.dims=[3,1,1,1,0,0,0,0],n.pixDims=[1,1,1,1,1,0,0,0];const s=await At.readMatV4(e);if(!("dimension"in s)||!("image0"in s))throw new Error("Not a valid DSIstudio SRC file");let a=0,o=0;for(const[v,x]of Object.entries(s))if(v.startsWith("image")){if(a===0?o=x.length:o!==x.length&&(o=-1),x.constructor!==Uint16Array)throw new Error("DSIstudio SRC files always use Uint16 datatype");a++}if(o<1||a<1)throw new Error("SRC file not valid DSI Studio data. The image(s) should have the same length");n.numBitsPerVoxel=16,n.datatypeCode=512,n.dims[1]=s.dimension[0],n.dims[2]=s.dimension[1],n.dims[3]=s.dimension[2],n.dims[4]=a,n.dims[4]>1&&(n.dims[0]=4),n.pixDims[1]=s.voxel_size[0],n.pixDims[2]=s.voxel_size[1],n.pixDims[3]=s.voxel_size[2],n.sform_code=1;const c=(n.dims[1]-1)*.5*n.pixDims[1],h=(n.dims[2]-1)*.5*n.pixDims[2],u=(n.dims[3]-1)*.5*n.pixDims[3];n.affine=[[n.pixDims[1],0,0,-c],[0,-n.pixDims[2],0,h],[0,0,n.pixDims[2],-u],[0,0,0,1]],n.littleEndian=!0;const f=n.dims[1]*n.dims[2]*n.dims[3]*(n.numBitsPerVoxel/8),m=f*n.dims[4],g=new Uint8Array(new ArrayBuffer(m));let A=0;for(let v=0;v<a;v++){const x=s[`image${v}`],y=new Uint8Array(x.buffer,x.byteOffset,x.byteLength);g.set(y,A),A+=f}return"report"in s&&(n.description=new TextDecoder().decode(s.report.subarray(0,Math.min(79,s.report.byteLength)))),g.buffer}async readHEAD(e,n){this.hdr=new St;const s=this.hdr;s.dims[0]=3,s.pixDims=[1,1,1,1,1,0,0,0];let a=[0,0,0],o=[0,0,0],c=[1,1,1];const u=new TextDecoder().decode(e).split(/\r?\n/),f=(e.byteLength+8)%16,m=e.byteLength+(16-f);Y.debug(e.byteLength,"len",m);const g=new ArrayBuffer(m);new Uint8Array(g).set(new Uint8Array(e));const A=new bg(m+8,42,g,!0);s.addExtension(A),s.extensionCode=42,s.extensionFlag[0]=1,s.extensionSize=m+8;const v=u.length;let x=0,y=!1;for(;x<v;){let C=u[x];if(x++,!C.startsWith("type"))continue;const T=C.includes("integer-attribute"),D=C.includes("float-attribute");if(C=u[x],x++,!C.startsWith("name"))continue;let M=C.split("= ");const E=M[1];C=u[x],x++,M=C.split("= ");let R=parseInt(M[1]);if(!(R<1)){if(C=u[x],x++,M=C.trim().split(/\s+/),D||T){for(;M.length<R;){C=u[x],x++;const B=C.trim().split(/\s+/);M.push(...B)}for(let B=0;B<R;B++)M[B]=parseFloat(M[B])}switch(E){case"BYTEORDER_STRING":M[0].includes("LSB_FIRST")?s.littleEndian=!0:M[0].includes("MSB_FIRST")&&(s.littleEndian=!1);break;case"BRICK_TYPES":{s.dims[4]=R;const B=parseInt(M[0]);B===0?(s.numBitsPerVoxel=8,s.datatypeCode=2):B===1?(s.numBitsPerVoxel=16,s.datatypeCode=4):B===3?(s.numBitsPerVoxel=32,s.datatypeCode=16):Y.warn("Unknown BRICK_TYPES ",B)}break;case"IJK_TO_DICOM_REAL":if(R<12)break;y=!0,s.sform_code=2,s.affine=[[-M[0],-M[1],-M[2],-M[3]],[-M[4],-M[5],-M[6],-M[7]],[M[8],M[9],M[10],M[11]],[0,0,0,1]];break;case"DATASET_DIMENSIONS":R=Math.max(R,3);for(let B=0;B<R;B++)s.dims[B+1]=M[B];break;case"ORIENT_SPECIFIC":a=M;break;case"ORIGIN":o=M;break;case"DELTA":c=M;break;case"TAXIS_FLOATS":s.pixDims[4]=M[0];break;default:Y.warn("Unknown:",E)}}}y?this.SetPixDimFromSForm():this.THD_daxes_to_NIFTI(c,o,a);const w=s.numBitsPerVoxel/8*s.dims[1]*s.dims[2]*s.dims[3]*s.dims[4];if(!n)throw new Error("pairedImgData not set");return n.byteLength<w?await At.decompressToBuffer(new Uint8Array(n)):n.slice(0)}async readMHA(e,n){const s=e.byteLength;if(s<20)throw new Error("File too small to be VTK: bytes = "+e.byteLength);const a=new Uint8Array(e);let o=0;function c(y){return y===10||y===13}function h(){for(;o<s&&c(a[o]);)o++;const y=o;for(;o<s&&!c(a[o]);)o++;return o-y<2?"":new TextDecoder().decode(e.slice(y,o))}let u=h();this.hdr=new St;const f=this.hdr;f.pixDims=[1,1,1,1,1,0,0,0],f.dims=[1,1,1,1,1,1,1,1],f.littleEndian=!0;let m=!1,g=!1;const A=ps(NaN,0,0,0,1,0,0,0,1),v=ut(0,0,0);for(;u!=="";){let y=u.split(" ");if(y.length>2&&(y=y.slice(2)),u.startsWith("BinaryDataByteOrderMSB")&&y[0].includes("False")&&(f.littleEndian=!0),u.startsWith("BinaryDataByteOrderMSB")&&y[0].includes("True")&&(f.littleEndian=!1),u.startsWith("CompressedData")&&y[0].includes("True")&&(m=!0),u.startsWith("TransformMatrix"))for(let w=0;w<9;w++)A[w]=parseFloat(y[w]);if(u.startsWith("Offset"))for(let w=0;w<Math.min(y.length,3);w++)v[w]=parseFloat(y[w]);if(u.startsWith("ElementSpacing"))for(let w=0;w<y.length;w++)f.pixDims[w+1]=parseFloat(y[w]);if(u.startsWith("DimSize")){f.dims[0]=y.length;for(let w=0;w<y.length;w++)f.dims[w+1]=parseInt(y[w])}if(u.startsWith("ElementType"))switch(y[0]){case"MET_UCHAR":f.numBitsPerVoxel=8,f.datatypeCode=2;break;case"MET_CHAR":f.numBitsPerVoxel=8,f.datatypeCode=256;break;case"MET_SHORT":f.numBitsPerVoxel=16,f.datatypeCode=4;break;case"MET_USHORT":f.numBitsPerVoxel=16,f.datatypeCode=512;break;case"MET_INT":f.numBitsPerVoxel=32,f.datatypeCode=8;break;case"MET_UINT":f.numBitsPerVoxel=32,f.datatypeCode=768;break;case"MET_FLOAT":f.numBitsPerVoxel=32,f.datatypeCode=16;break;case"MET_DOUBLE":f.numBitsPerVoxel=64,f.datatypeCode=64;break;default:throw new Error("Unsupported MHA data type: "+y[0])}if(u.startsWith("ObjectType")&&!y[0].includes("Image")&&Y.warn("Only able to read ObjectType = Image, not "+u),u.startsWith("ElementDataFile")){y[0]!=="LOCAL"&&(g=!0);break}u=h()}const x=ps(f.pixDims[1],0,0,0,f.pixDims[2],0,0,0,f.pixDims[3]);for(og(A,A,x),f.affine=[[-A[0],-A[3],-A[6],-v[0]],[-A[1],-A[4],-A[7],-v[1]],[A[2],A[5],A[8],v[2]],[0,0,0,1]];a[o]===10;)o++;return f.vox_offset=o,g&&n?m?await At.decompressToBuffer(new Uint8Array(n.slice(0))):n.slice(0):m?await At.decompressToBuffer(new Uint8Array(e.slice(f.vox_offset))):e.slice(f.vox_offset)}async readMIF(e,n){this.hdr=new St;const s=this.hdr;s.pixDims=[1,1,1,1,1,0,0,0],s.dims=[1,1,1,1,1,1,1,1];let a=e.byteLength;if(a<20)throw new Error("File too small to be MIF: bytes = "+a);const o=new Uint8Array(e);o[0]===31&&o[1]===139&&(Y.debug("MIF with GZ decompression"),e=await At.decompressToBuffer(new Uint8Array(e)),a=e.byteLength);let c=0;function h(){for(;c<a&&o[c]===10;)c++;const F=c;for(;c<a&&o[c]!==10;)c++;return c++,c-F<1?"":new TextDecoder().decode(e.slice(F,c-1))}let u=h();if(!u.startsWith("mrtrix image"))throw new Error("Not a valid MIF file");const f=[];let m=!1,g=0,A=0,v=!1;for(u=h();c<a&&!u.startsWith("END");){let F=u.split(":");if(u=h(),F.length<2)break;const L=F[0];F=F[1].split(",");for(let k=0;k<F.length;k++)F[k]=F[k].trim();switch(L){case"dim":s.dims[0]=F.length;for(let k=0;k<F.length;k++)s.dims[k+1]=parseInt(F[k]);break;case"vox":for(let k=0;k<F.length;k++)s.pixDims[k+1]=parseFloat(F[k]),isNaN(s.pixDims[k+1])&&(s.pixDims[k+1]=0);break;case"layout":for(let k=0;k<F.length;k++)f.push(parseInt(F[k]));break;case"datatype":{const k=F[0];k.startsWith("Bit")?(m=!0,s.datatypeCode=2):k.startsWith("Int8")?s.datatypeCode=256:k.startsWith("UInt8")?s.datatypeCode=2:k.startsWith("Int16")?s.datatypeCode=4:k.startsWith("UInt16")?s.datatypeCode=512:k.startsWith("Int32")?s.datatypeCode=8:k.startsWith("UInt32")?s.datatypeCode=768:k.startsWith("Float32")?s.datatypeCode=16:k.startsWith("Float64")?s.datatypeCode=64:Y.warn("Unsupported datatype "+k),k.includes("8")?s.numBitsPerVoxel=8:k.includes("16")?s.numBitsPerVoxel=16:k.includes("32")?s.numBitsPerVoxel=32:k.includes("64")&&(s.numBitsPerVoxel=64),s.littleEndian=!0,k.endsWith("LE")&&(s.littleEndian=!0),k.endsWith("BE")&&(s.littleEndian=!1)}break;case"transform":if(g>2||F.length!==4)break;s.affine[g][0]=parseFloat(F[0]),s.affine[g][1]=parseFloat(F[1]),s.affine[g][2]=parseFloat(F[2]),s.affine[g][3]=parseFloat(F[3]),g++;break;case"comments":s.description=F[0].substring(0,Math.min(79,F[0].length));break;case"RepetitionTime":A=parseFloat(F[0]);break;case"file":v=!F[0].startsWith(". "),v||(F=F[0].split(" "),s.vox_offset=parseInt(F[1]));break}}const x=s.dims[0];x>5&&Y.warn("reader only designed for a maximum of 5 dimensions (XYZTD)");let y=1;for(let F=0;F<x;F++)y*=Math.max(s.dims[F+1],1);for(let F=0;F<3;F++)for(let L=0;L<3;L++)s.affine[F][L]*=s.pixDims[L+1];Y.debug("mif affine:"+s.affine[0]),A>0&&(s.pixDims[4]=A),v&&!n&&Y.warn("MIH header provided without paired image data");let w;if(n&&v)w=n.slice(0);else if(m){s.numBitsPerVoxel=8;const F=new Uint8Array(y),L=e.slice(s.vox_offset,s.vox_offset+Math.ceil(y/8)),k=new Uint8Array(L);let q=0;for(let P=0;P<y;P++){const K=P%8;F[P]=k[q]>>7-K&1,K===7&&q++}w=F.buffer}else w=e.slice(s.vox_offset,s.vox_offset+y*(s.numBitsPerVoxel/8));f.length!==s.dims[0]&&Y.warn("dims does not match layout");let C=1;const T=[1,1,1,1,1],D=[!1,!1,!1,!1,!1];for(let F=0;F<f.length;F++)for(let L=0;L<f.length;L++)Math.abs(f[L])===F&&(T[L]=C,(f[L]<0||Object.is(f[L],-0))&&(D[L]=!0),C*=s.dims[L+1]);let M=At.range(0,s.dims[1]-1,1);D[0]&&(M=At.range(s.dims[1]-1,0,-1));for(let F=0;F<s.dims[1];F++)M[F]*=T[0];let E=At.range(0,s.dims[2]-1,1);D[1]&&(E=At.range(s.dims[2]-1,0,-1));for(let F=0;F<s.dims[2];F++)E[F]*=T[1];let R=At.range(0,s.dims[3]-1,1);D[2]&&(R=At.range(s.dims[3]-1,0,-1));for(let F=0;F<s.dims[3];F++)R[F]*=T[2];let B=At.range(0,s.dims[4]-1,1);D[3]&&(B=At.range(s.dims[4]-1,0,-1));for(let F=0;F<s.dims[4];F++)B[F]*=T[3];let U=At.range(0,s.dims[5]-1,1);D[4]&&(U=At.range(s.dims[5]-1,0,-1));for(let F=0;F<s.dims[5];F++)U[F]*=T[4];let N=0,S,I;switch(s.datatypeCode){case 256:S=new Int8Array(w),I=new Int8Array(y);break;case 2:S=new Uint8Array(w),I=new Uint8Array(y);break;case 4:S=new Int16Array(w),I=new Int16Array(y);break;case 512:S=new Uint16Array(w),I=new Uint16Array(y);break;case 8:S=new Int32Array(w),I=new Int32Array(y);break;case 768:S=new Uint32Array(w),I=new Uint32Array(y);break;case 16:S=new Float32Array(w),I=new Float32Array(y);break;case 64:S=new Float64Array(w),I=new Float64Array(y);break;default:throw new Error("unknown datatypeCode")}for(let F=0;F<s.dims[5];F++)for(let L=0;L<s.dims[4];L++)for(let k=0;k<s.dims[3];k++)for(let q=0;q<s.dims[2];q++)for(let P=0;P<s.dims[1];P++)I[N]=S[M[P]+E[q]+R[k]+B[L]+U[F]],N++;return I.buffer}calculateRAS(){if(!this.hdr)throw new Error("hdr not set");const e=this.hdr.affine,n=this.hdr,s=ps(Math.abs(e[0][0]),Math.abs(e[0][1]),Math.abs(e[0][2]),Math.abs(e[1][0]),Math.abs(e[1][1]),Math.abs(e[1][2]),Math.abs(e[2][0]),Math.abs(e[2][1]),Math.abs(e[2][2])),a=[1,1,1];s[3]>s[0]&&(a[0]=2),s[6]>s[0]&&s[6]>s[3]&&(a[0]=3),a[1]=1,a[0]===1?s[4]>s[7]?a[1]=2:a[1]=3:a[0]===2?s[1]>s[7]?a[1]=1:a[1]=3:s[1]>s[4]?a[1]=1:a[1]=2,a[2]=6-a[1]-a[0];let o=[1,2,3];o[a[0]-1]=1,o[a[1]-1]=2,o[a[2]-1]=3;let c=mi(e[0][0],e[0][1],e[0][2],e[0][3],e[1][0],e[1][1],e[1][2],e[1][3],e[2][0],e[2][1],e[2][2],e[2][3],0,0,0,1);this.mm000=this.vox2mm([-.5,-.5,-.5],c),this.mm100=this.vox2mm([n.dims[1]-.5,-.5,-.5],c),this.mm010=this.vox2mm([-.5,n.dims[2]-.5,-.5],c),this.mm001=this.vox2mm([-.5,-.5,n.dims[3]-.5],c);const h=Vt();_5(h,c);for(let w=0;w<3;w++)for(let C=0;C<3;C++)h[w*4+C]=c[w*4+o[C]-1];const u=[0,0,0];h[0]<0&&(u[0]=1),h[5]<0&&(u[1]=1),h[10]<0&&(u[2]=1),this.dimsRAS=[n.dims[0],n.dims[o[0]],n.dims[o[1]],n.dims[o[2]]],this.pixDimsRAS=[n.pixDims[0],n.pixDims[o[0]],n.pixDims[o[1]],n.pixDims[o[2]]],this.permRAS=o.slice();for(let w=0;w<3;w++)u[w]===1&&(this.permRAS[w]=-this.permRAS[w]);if(this.arrayEquals(o,[1,2,3])&&this.arrayEquals(u,[0,0,0])){this.toRAS=Vt(),this.matRAS=Ae(c),this.calculateOblique(),this.img2RASstep=[1,this.dimsRAS[1],this.dimsRAS[1]*this.dimsRAS[2]],this.img2RASstart=[0,0,0];return}lg(c),c[0+0*4]=1-u[0]*2,c[1+1*4]=1-u[1]*2,c[2+2*4]=1-u[2]*2,c[3+0*4]=(n.dims[o[0]]-1)*u[0],c[3+1*4]=(n.dims[o[1]]-1)*u[1],c[3+2*4]=(n.dims[o[2]]-1)*u[2];const f=Vt();ii(f,c),Qn(f,f,h),this.matRAS=Ae(f),c=mi(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),c[o[0]-1+0*4]=-u[0]*2+1,c[o[1]-1+1*4]=-u[1]*2+1,c[o[2]-1+2*4]=-u[2]*2+1,c[3+0*4]=u[0],c[3+1*4]=u[1],c[3+2*4]=u[2],this.toRAS=Ae(c),c[3]=0,c[7]=0,c[11]=0,c[12]=0,(this.permRAS[0]===-1||this.permRAS[1]===-1||this.permRAS[2]===-1)&&(c[12]=n.dims[1]-1),c[13]=0,(this.permRAS[0]===-2||this.permRAS[1]===-2||this.permRAS[2]===-2)&&(c[13]=n.dims[2]-1),c[14]=0,(this.permRAS[0]===-3||this.permRAS[1]===-3||this.permRAS[2]===-3)&&(c[14]=n.dims[3]-1),this.toRASvox=Ae(c),Y.debug(this.hdr.dims),Y.debug(this.dimsRAS);const m=this.hdr;o=this.permRAS;const g=[Math.abs(o[0]),Math.abs(o[1]),Math.abs(o[2])],A=[m.dims[g[0]],m.dims[g[1]],m.dims[g[2]]],v=[1,m.dims[1],m.dims[1]*m.dims[2]],x=[v[g[0]-1],v[g[1]-1],v[g[2]-1]],y=[0,0,0];for(let w=0;w<3;w++)o[w]<0&&(y[w]=x[w]*(A[w]-1),x[w]=-x[w]);this.img2RASstep=x,this.img2RASstart=y,this.calculateOblique()}async hdr2RAS(e=1){if(!this.permRAS)throw new Error("permRAS undefined");if(!this.hdr)throw new Error("hdr undefined");const n=Zl({...this.hdr},!1),s=await ka(n.buffer,!0);e===1?(s.dims[0]=3,s.dims[4]=1):e>1&&(s.dims[0]=4,s.dims[4]=e);const a=this.permRAS.slice();if(a[0]===1&&a[1]===2&&a[2]===3)return s;s.qform_code=0;for(let c=1;c<4;c++)s.dims[c]=this.dimsRAS[c];for(let c=0;c<this.pixDimsRAS.length;c++)s.pixDims[c]=this.pixDimsRAS[c];let o=0;for(let c=0;c<4;c++)for(let h=0;h<4;h++)s.affine[c][h]=this.matRAS[o],o++;return s}img2RAS(e=0){if(!this.permRAS)throw new Error("permRAS undefined");if(!this.img)throw new Error("img undefined");if(!this.hdr)throw new Error("hdr undefined");const n=this.permRAS.slice();if(n[0]===1&&n[1]===2&&n[2]===3)return this.img;const s=this.hdr,a=s.dims[1]*s.dims[2]*s.dims[3];let o=e*a;(o+a>this.img.length||o<0)&&(o=0,Y.warn(`img2RAS nVolume (${e}) out of bounds (${e}+1)×${a} > ${this.img.length}`));const c=this.img.slice(0,a),h=[Math.abs(n[0]),Math.abs(n[1]),Math.abs(n[2])],u=[s.dims[h[0]],s.dims[h[1]],s.dims[h[2]]],f=[1,s.dims[1],s.dims[1]*s.dims[2]],m=[f[h[0]-1],f[h[1]-1],f[h[2]-1]],g=[0,0,0];for(let v=0;v<3;v++)n[v]<0&&(g[v]=m[v]*(u[v]-1),m[v]=-m[v]);let A=0;for(let v=0;v<u[2];v++){const x=g[2]+v*m[2];for(let y=0;y<u[1];y++){const w=g[1]+y*m[1];for(let C=0;C<u[0];C++){const T=g[0]+C*m[0];c[A]=this.img[T+w+x+o],A++}}}return c}vox2mm(e,n){const s=Ae(n);di(s,s);const a=ie(e[0],e[1],e[2],1);return ze(a,a,s),ut(a[0],a[1],a[2])}mm2vox(e,n=!1){if(!this.matRAS)throw new Error("matRAS undefined");const s=Ae(this.matRAS),a=Ae(s);di(a,s),ii(a,a);const o=ie(e[0],e[1],e[2],1);ze(o,o,a);const c=ut(o[0],o[1],o[2]);return n?c:[Math.round(c[0]),Math.round(c[1]),Math.round(c[2])]}arrayEquals(e,n){return Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((s,a)=>s===n[a])}setColormap(e){this._colormap=e,this.calMinMax(),this.onColormapChange&&this.onColormapChange(this)}setColormapLabel(e){this.colormapLabel=$t.makeLabelLut(e)}async setColormapLabelFromUrl(e){this.colormapLabel=await $t.makeLabelLutFromUrl(e)}get colormap(){return this._colormap}get colorMap(){return this._colormap}set colormap(e){this.setColormap(e)}set colorMap(e){this.setColormap(e)}get opacity(){return this._opacity}set opacity(e){this._opacity=e,this.onOpacityChange&&this.onOpacityChange(this)}calMinMax(e=Number.POSITIVE_INFINITY,n=!0){if(!this.hdr)throw new Error("hdr undefined");if(!this.img)throw new Error("img undefined");let s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=0,c=0,h=this.hdr.dims[1]*this.hdr.dims[2]*this.hdr.dims[3];const u=Math.floor(this.img.length/h);e>=u&&(e=this.frame4D),e=Math.min(e,u-1);const f=e*h;let m=[];if(n){const L=[Math.floor(.25*this.hdr.dims[1]),Math.floor(.25*this.hdr.dims[2]),Math.floor(.25*this.hdr.dims[3])],k=[this.hdr.dims[1]-2*L[0],this.hdr.dims[2]-2*L[1],this.hdr.dims[3]-2*L[2]],q=[k[0]+L[0],k[1]+L[1],k[2]+L[2]];h=k[0]*k[1]*k[2],m=new this.img.constructor(h);let P=-1,K=0;for(let J=0;J<this.hdr.dims[3];J++)for(let rt=0;rt<this.hdr.dims[2];rt++)for(let G=0;G<this.hdr.dims[1];G++)P++,!(G<L[0]||rt<L[1]||J<L[2])&&(G>=q[0]||rt>=q[1]||J>=q[2]||(m[K]=this.img[P+f],K++))}else{m=new this.img.constructor(h);for(let F=0;F<h;F++)m[F]=this.img[F+f]}const g=m.constructor!==Float64Array&&m.constructor!==Float32Array&&this.ignoreZeroVoxels;if(g)for(let F=0;F<h;F++)s=Math.min(m[F],s),a=Math.max(m[F],a),m[F]===0&&o++;else for(let F=0;F<h;F++){if(isNaN(m[F])){c++;continue}m[F]===0&&(o++,this.ignoreZeroVoxels)||(s=Math.min(m[F],s),a=Math.max(m[F],a))}this.ignoreZeroVoxels&&s===a&&o>0&&(s=0);const A=this.intensityRaw2Scaled(s),v=this.intensityRaw2Scaled(a),x=$t.colormapFromKey(this._colormap);let y=0,w=0;if(x.min!==void 0&&(y=x.min),x.max!==void 0&&(w=x.max),y===w&&this.trustCalMinMax&&isFinite(this.hdr.cal_min)&&isFinite(this.hdr.cal_max)&&this.hdr.cal_max>this.hdr.cal_min)return this.cal_min=this.hdr.cal_min,this.cal_max=this.hdr.cal_max,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=A,this.global_max=v,[this.hdr.cal_min,this.hdr.cal_max,this.hdr.cal_min,this.hdr.cal_max];if(y!==w)return this.cal_min=y,this.cal_max=w,this.robust_min=this.cal_min,this.robust_max=this.cal_max,[y,w,y,w];const C=100*o/(h-0);let T=!1;C>60&&!this.ignoreZeroVoxels&&(Y.warn(`${Math.round(C)}% of voxels are zero: ignoring zeros for cal_max`),T=!0,this.ignoreZeroVoxels=!0),this.ignoreZeroVoxels||(o=0),o+=c;const D=Math.round((h-0-o)*this.percentileFrac);if(D<1||s===a)return Y.debug("no variability in image intensity?"),this.cal_min=A,this.cal_max=v,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=A,this.global_max=v,[A,v,A,v];const M=1001,E=(M-1)/(a-s),R=new Array(M);for(let F=0;F<M;F++)R[F]=0;if(g)for(let F=0;F<h;F++)R[Math.round((m[F]-s)*E)]++;else if(this.ignoreZeroVoxels)for(let F=0;F<h;F++)m[F]!==0&&(isNaN(m[F])||R[Math.round((m[F]-s)*E)]++);else for(let F=0;F<h;F++)isNaN(m[F])||R[Math.round((m[F]-s)*E)]++;let B=0,U=0;for(;B<D;)B+=R[U],U++;U--,B=0;let N=M;for(;B<D;)N--,B+=R[N];if(U===N){let F=-1;for(;F!==0;)U>0&&(U--,R[U]>0&&(F=0)),F!==0&&N<M-1&&(N++,R[N]>0&&(F=0)),U===0&&N===M-1&&(F=0)}let S=this.intensityRaw2Scaled(U/E+s),I=this.intensityRaw2Scaled(N/E+s);return this.hdr.cal_min<this.hdr.cal_max&&this.hdr.cal_min>=A&&this.hdr.cal_max<=v&&(S=this.hdr.cal_min,I=this.hdr.cal_max),T&&(S=Math.min(S,0)),this.cal_min=S,this.cal_max=I,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=A,this.global_max=v,[S,I,A,v]}intensityRaw2Scaled(e){if(!this.hdr)throw new Error("hdr undefined");return this.hdr.scl_slope===0&&(this.hdr.scl_slope=1),e*this.hdr.scl_slope+this.hdr.scl_inter}intensityScaled2Raw(e){if(!this.hdr)throw new Error("hdr undefined");return this.hdr.scl_slope===0&&(this.hdr.scl_slope=1),(e-this.hdr.scl_inter)/this.hdr.scl_slope}async saveToUint8Array(e,n=null){return Ng(this,e,n)}async saveToDisk(e="",n=null){return ux(this,e,n)}static async fetchDicomData(e,n={}){if(e==="")throw Error("url must not be empty");let a=/^(?:[a-z+]+:)?\/\//i.test(e)?e:new URL(e,window.location.href);/(?:.([^.]+))?$/.exec(a.pathname)||(a=new URL("niivue-manifest.txt",e));let h=await fetch(a,{headers:n});if(!h.ok)throw Error(h.statusText);const f=(await h.text()).split(`
`),g=/(.*\/).*/.exec(a)[0],A=[];for(const v of f){const x=new URL(v,g);if(h=await fetch(x,{headers:n}),!h.ok)throw Error(h.statusText);const y=await h.arrayBuffer();A.push({name:v,data:y})}return A}static async readFirstDecompressedBytes(e,n){const s=e.getReader(),a=new V4,o=[];let c=0,h=!1,u,f;const m=new Promise((A,v)=>{u=A,f=v});function g(){const A=new Uint8Array(c);let v=0;for(const x of o)A.set(x,v),v+=x.length;u(A)}return a.ondata=A=>{o.push(A),c+=A.length,c>=n&&(h=!0,s.cancel().catch(()=>{}),g())},(async()=>{try{for(;!h;){const{done:A,value:v}=await s.read();if(A){h=!0,a.push(new Uint8Array,!0);return}a.push(v,!1)}}catch(A){f(A)}})().catch(()=>{}),m}static extractFilenameFromUrl(e){const s=new URL(e).searchParams.get("response-content-disposition");if(s){const a=s.match(/filename\*?=(?:UTF-8'')?"?([^";]+)"?/);if(a)return decodeURIComponent(a[1])}return e.split("/").pop().split("?")[0]}static async loadInitialVolumesGz(e="",n={},s=NaN){if(isNaN(s))return null;const a=await fetch(e,{headers:n,cache:"force-cache"});let o=352,c=await this.readFirstDecompressedBytes(a.body,o);const h=new DataView(c.buffer,c.byteOffset,c.byteLength),u=h.getUint16(0,!0),f=u===348;if(!f&&!(u===23553)||(c.length>111&&(o=h.getFloat32(108,f)),o>c.length&&(c=await this.readFirstDecompressedBytes(a.body,o)),!(c[0]===92&&c[1]===1||c[1]===92&&c[0]===1)))return null;const A=await ka(c.buffer);if(!A)throw new Error("Could not read NIfTI header");const v=A.numBitsPerVoxel/8,x=[1,2,3].reduce((M,E)=>M*(A.dims[E]>1?A.dims[E]:1),1),y=[4,5,6].reduce((M,E)=>M*(A.dims[E]>1?A.dims[E]:1),1),w=Math.max(Math.min(s,y),1),C=A.vox_offset+w*x*v;if(w===y)return null;const T=await fetch(e,{headers:n,cache:"force-cache"});return(await this.readFirstDecompressedBytes(T.body,C)).buffer.slice(0,C)}static async loadInitialVolumes(e="",n={},s=NaN){if(isNaN(s))return null;const o=(await fetch(e,{headers:n,cache:"force-cache"})).body.getReader(),{value:c,done:h}=await o.read();let u=c;if(h||!u||u.length<2)throw new Error("Not enough data to determine compression");const f=new DataView(u.buffer,u.byteOffset,u.byteLength),m=f.getUint16(0,!0);if(m===35615)return await o.cancel(),this.loadInitialVolumesGz(e,n,s);const A=m===348;if(!A&&!(m===23553))return await o.cancel(),null;let x=352;for(u.length>111&&(x=f.getFloat32(108,A));u.length<x;){let U=function(I,F){const L=new Uint8Array(I.length+F.length);return L.set(I,0),L.set(F,I.length),L};const{value:N,done:S}=await o.read();if(S||!N)break;u=U(u,N)}const y=await ka(u.buffer);if(!y)throw new Error("Could not read NIfTI header");const w=y.numBitsPerVoxel/8,C=[1,2,3].reduce((U,N)=>U*(y.dims[N]>1?y.dims[N]:1),1),T=[4,5,6].reduce((U,N)=>U*(y.dims[N]>1?y.dims[N]:1),1),D=Math.max(Math.min(s,T),1),M=y.vox_offset+D*C*w,E=new Uint8Array(M),R=Math.min(u.length,M);E.set(u.subarray(0,R),0);let B=R;for(;B<M;){const{value:U,done:N}=await o.read();if(N||!U)return await o.cancel(),null;const S=Math.min(U.length,M-B);E.set(U.subarray(0,S),B),B+=S}return await o.cancel(),E.buffer}static async loadFromUrl({url:e="",urlImgData:n="",headers:s={},name:a="",colormap:o="gray",opacity:c=1,cal_min:h=NaN,cal_max:u=NaN,trustCalMinMax:f=!0,percentileFrac:m=.02,ignoreZeroVoxels:g=!1,useQFormNotSForm:A=!1,colormapNegative:v="",frame4D:x=0,isManifest:y=!1,limitFrames4D:w=NaN,imageType:C=Ct.UNKNOWN,colorbarVisible:T=!0,buffer:D=new ArrayBuffer(0)}={}){if(e==="")throw Error("url must not be empty");let M=null,E=null;if(e instanceof Uint8Array&&(e=e.buffer),D.byteLength>0&&(e=D),e instanceof ArrayBuffer)if(E=e,a!=="")e=a;else{const S=new Uint8Array(E);e=S[0]===31&&S[1]===139?"array.nii.gz":"array.nii"}function R(S){const I=S.match(/\.([^.]+)(?:\.gz|\.bz2|\.xz)?$/);return I?I[1]:""}let B="";if(a===""?B=R(e):B=R(a),C===Ct.UNKNOWN&&(C=Ct.parse(B)),C===Ct.UNKNOWN&&typeof e=="string"){const S=await fetch(e,{});if(S.redirected){const I=this.extractFilenameFromUrl(S.url);I&&I.length>0&&a===""&&(a=I,B=R(a),C=Ct.parse(B))}}const U=C===Ct.DCM||Ct.NII;if(!E&&U&&(E=await this.loadInitialVolumes(e,s,w)),!E)if(y)E=await Yl.fetchDicomData(e,s),C=Ct.DCM_MANIFEST;else{const S=await fetch(e,{headers:s});if(!S.ok)throw Error(S.statusText);if(!S.body)throw new Error("No readable stream available");const I=await Hh(S.body),F=[],L=I.getReader();for(;;){const{done:K,value:J}=await L.read();if(K)break;F.push(J)}const k=F.reduce((K,J)=>K+J.length,0);E=new ArrayBuffer(k);const q=new Uint8Array(E);let P=0;for(const K of F)q.set(K,P),P+=K.length}B.toUpperCase()==="HEAD"&&n===""&&(n=e.substring(0,e.lastIndexOf("HEAD"))+"BRIK");let N=null;if(n)try{let S=await fetch(n,{headers:s});if(S.status===404&&n.includes("BRIK")&&(S=await fetch(`${n}.gz`,{headers:s})),S.ok&&S.body){const I=await Hh(S.body),F=[],L=I.getReader();for(;;){const{done:K,value:J}=await L.read();if(K)break;F.push(J)}const k=F.reduce((K,J)=>K+J.length,0);N=new ArrayBuffer(k);const q=new Uint8Array(N);let P=0;for(const K of F)q.set(K,P),P+=K.length}}catch(S){console.error("Error loading paired image data:",S)}if(!E)throw new Error("Unable to load buffer properly from volume");if(!a){let S;try{S=new URL(e).pathname.split("/")}catch{S=e.split("/")}a=S.slice(-1)[0],a.indexOf("?")>-1&&(a=a.slice(0,a.indexOf("?")))}return M=await this.new(E,a,o,c,N,h,u,f,m,g,A,v,x,C),M.url=e,M.colorbarVisible=T,M}static async readFileAsync(e,n=NaN){let s=e.stream();if(!isNaN(n)){let g=0;const A=new TransformStream({transform(v,x){if(g>=n){x.terminate();return}const y=n-g;v.length>y?(x.enqueue(v.slice(0,y)),x.terminate()):x.enqueue(v),g+=v.length}});s=s.pipeThrough(A)}const a=await Hh(s),o=[],c=a.getReader();for(;;){const{done:g,value:A}=await c.read();if(g)break;o.push(A)}const h=o.reduce((g,A)=>g+A.length,0),u=new ArrayBuffer(h),f=new Uint8Array(u);let m=0;for(const g of o)f.set(g,m),m+=g.length;return u}static async loadFromFile({file:e,name:n="",colormap:s="gray",opacity:a=1,urlImgData:o=null,cal_min:c=NaN,cal_max:h=NaN,trustCalMinMax:u=!0,percentileFrac:f=.02,ignoreZeroVoxels:m=!1,useQFormNotSForm:g=!1,colormapNegative:A="",frame4D:v=0,limitFrames4D:x=NaN,imageType:y=Ct.UNKNOWN}){let w=null,C=[];try{if(Array.isArray(e))C=await Promise.all(e.map(D=>this.readFileAsync(D)));else{if(isNaN(x))C=await this.readFileAsync(e);else{const D=await this.readFileAsync(e,512),M=new Uint8Array(D);if(!(M[0]===92&&M[1]===1||M[1]===92&&M[0]===1))C=await this.readFileAsync(e);else{const R=await ka(D);if(!R)throw new Error("could not read nifti header");const B=R.numBitsPerVoxel/8,U=[1,2,3].reduce((F,L)=>F*(R.dims[L]>1?R.dims[L]:1),1),N=[4,5,6].reduce((F,L)=>F*(R.dims[L]>1?R.dims[L]:1),1),S=Math.max(Math.min(x,N),1),I=R.vox_offset+S*U*B;C=await this.readFileAsync(e,I)}}n=e.name}let T=null;o&&(T=await this.readFileAsync(o)),w=await this.new(C,n,s,a,T,c,h,u,f,m,g,A,v,y),w.fileObject=e}catch(T){throw Y.error(T),new Error("could not build NVImage")}if(w===null)throw new Error("could not build NVImage");return w}static createNiftiArray(e=[256,256,256],n=[1,1,1],s=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],a=2,o=new Uint8Array){return cx(e,n,s,a,o)}static createNiftiHeader(e=[256,256,256],n=[1,1,1],s=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],a=2){return Vg(e,n,s,a)}getVolumeData(e=[-1,0,0],n=[0,0,0],s="same"){return fx(this,e,n,s)}setVolumeData(e=[-1,0,0],n=[0,0,0],s=new Uint8Array){dx(this,e,n,s)}static async loadFromBase64({base64:e,name:n="",colormap:s="gray",opacity:a=1,cal_min:o=NaN,cal_max:c=NaN,trustCalMinMax:h=!0,percentileFrac:u=.02,ignoreZeroVoxels:f=!1,useQFormNotSForm:m=!1,colormapNegative:g="",frame4D:A=0,imageType:v=Ct.UNKNOWN,cal_minNeg:x=NaN,cal_maxNeg:y=NaN,colorbarVisible:w=!0,colormapLabel:C=null}){function T(M){const E=window.atob(M),R=E.length,B=new Uint8Array(R);for(let U=0;U<R;U++)B[U]=E.charCodeAt(U);return B.buffer}let D=null;try{const M=T(e);D=await this.new(M,n,s,a,null,o,c,h,u,f,m,g,A,v,x,y,w,C)}catch(M){Y.debug(M)}if(D===null)throw new Error("could not load NVImage");return D}clone(){const e=new Yl;return e.id=nf(),e.hdr=Object.assign({},this.hdr),e.img=this.img.slice(),e.calculateRAS(),e.calMinMax(),e}zeroImage(){this.img.fill(0)}getImageMetadata(){if(!this.hdr)throw new Error("hdr undefined");const e=this.id,n=this.hdr.datatypeCode,s=this.hdr.dims,a=s[1],o=s[2],c=s[3],h=Math.max(1,s[4]),u=this.hdr.pixDims,f=u[1],m=u[2],g=u[3],A=u[4],v=Math.floor(this.hdr.numBitsPerVoxel/8);return{id:e,datatypeCode:n,nx:a,ny:o,nz:c,nt:h,dx:f,dy:m,dz:g,dt:A,bpv:v}}static zerosLike(e,n="same"){const s=e.clone();return s.zeroImage(),n==="uint8"&&(s.img=Uint8Array.from(s.img),s.hdr.datatypeCode=2,s.hdr.numBitsPerVoxel=8),n==="float32"&&(s.img=Float32Array.from(s.img),s.hdr.datatypeCode=16,s.hdr.numBitsPerVoxel=32),s}getValue(e,n,s,a=0,o=!1){return hx(this,e,n,s,a,o)}applyOptionsUpdate(e){this.hdr.cal_min=e.cal_min,this.hdr.cal_max=e.cal_max,Object.assign(this,e)}getImageOptions(){return Pl("","",this.name,this._colormap,this.opacity,this.hdr.cal_min,this.hdr.cal_max,this.trustCalMinMax,this.percentileFrac,this.ignoreZeroVoxels,this.useQFormNotSForm,this.colormapNegative,this.frame4D,this.imageType,this.colormapType)}toUint8Array(e=null){return Ig(this,e)}convertVox2Frac(e){return ut((e[0]+.5)/this.dimsRAS[1],(e[1]+.5)/this.dimsRAS[2],(e[2]+.5)/this.dimsRAS[3])}convertFrac2Vox(e){return ut(Math.round(e[0]*this.dims[1]-.5),Math.round(e[1]*this.dims[2]-.5),Math.round(e[2]*this.dims[3]-.5))}convertFrac2MM(e,n=!1){const s=ie(e[0],e[1],e[2],1);return n?ze(s,s,this.frac2mm):ze(s,s,this.frac2mmOrtho),s}convertMM2Frac(e,n=!1){const s=ie(e[0],e[1],e[2],1),a=this.dimsRAS,o=ut(0,0,0);if(typeof a>"u")return o;if(!n){const h=Ae(this.frac2mmOrtho);return ii(h,h),ze(s,s,h),o[0]=s[0],o[1]=s[1],o[2]=s[2],o}if(a[1]<1||a[2]<1||a[3]<1)return o;const c=Ae(this.matRAS);return ii(c,c),di(c,c),ze(s,s,c),o[0]=(s[0]+.5)/a[1],o[1]=(s[1]+.5)/a[2],o[2]=(s[2]+.5)/a[3],o}},kg=(t=>(t[t.none=0]="none",t[t.contrast=1]="contrast",t[t.measurement=2]="measurement",t[t.pan=3]="pan",t[t.slicer3D=4]="slicer3D",t[t.callbackOnly=5]="callbackOnly",t[t.roiSelection=6]="roiSelection",t))(kg||{}),Kn={textHeight:.06,colorbarHeight:.05,colorbarWidth:-1,showColorbarBorder:!0,crosshairWidth:1,crosshairWidthUnit:"voxels",crosshairGap:0,rulerWidth:4,show3Dcrosshair:!1,backColor:[0,0,0,1],crosshairColor:[1,0,0,1],fontColor:[.5,.5,.5,1],selectionBoxColor:[1,1,1,.5],clipPlaneColor:[.7,0,.7,.5],clipThick:2,clipVolumeLow:[0,0,0],clipVolumeHigh:[1,1,1],rulerColor:[1,0,0,.8],colorbarMargin:.05,trustCalMinMax:!0,clipPlaneHotKey:"KeyC",viewModeHotKey:"KeyV",doubleTouchTimeout:500,longTouchTimeout:1e3,keyDebounceTime:50,isNearestInterpolation:!1,isResizeCanvas:!0,atlasOutline:0,isRuler:!1,isColorbar:!1,isOrientCube:!1,tileMargin:0,multiplanarPadPixels:0,multiplanarForceRender:!1,multiplanarEqualSize:!1,multiplanarShowRender:2,isRadiologicalConvention:!1,meshThicknessOn2D:1/0,dragMode:1,dragModePrimary:0,yoke3Dto2DZoom:!1,isDepthPickMesh:!1,isCornerOrientationText:!1,heroImageFraction:0,heroSliceType:4,sagittalNoseLeft:!1,isSliceMM:!1,isV1SliceShader:!1,forceDevicePixelRatio:0,logLevel:"info",loadingText:"loading ...",isForceMouseClickToVoxelCenters:!1,dragAndDropEnabled:!0,drawingEnabled:!1,penValue:1,floodFillNeighbors:6,isFilledPen:!1,thumbnail:"",maxDrawUndoBitmaps:8,sliceType:3,meshXRay:0,isAntiAlias:null,limitFrames4D:NaN,isAdditiveBlend:!1,showLegend:!0,legendBackgroundColor:[.3,.3,.3,.5],legendTextColor:[1,1,1,1],multiplanarLayout:0,renderOverlayBlend:1,sliceMosaicString:"",centerMosaic:!1,penSize:1,interactive:!0,clickToSegment:!1,clickToSegmentRadius:3,clickToSegmentBright:!0,clickToSegmentAutoIntensity:!1,clickToSegmentIntensityMax:NaN,clickToSegmentIntensityMin:NaN,clickToSegmentPercent:0,clickToSegmentMaxDistanceMM:Number.POSITIVE_INFINITY,clickToSegmentIs2D:!1,selectionBoxLineThickness:4,selectionBoxIsOutline:!1,scrollRequiresFocus:!1,showMeasureUnits:!0,measureTextJustify:"center",measureTextColor:[1,0,0,1],measureLineColor:[1,0,0,1],measureTextHeight:.03,isAlphaClipDark:!1,gradientOrder:1,gradientOpacity:0,gradientAmount:0,invertScrollDirection:!1},Gl={gamma:1,azimuth:110,elevation:10,crosshairPos:ut(.5,.5,.5),clipPlane:[0,0,0,0],clipPlaneDepthAziElev:[2,0,0],volScaleMultiplier:1,pan2Dxyzmm:ie(0,0,0,1),clipThick:2,clipVolumeLow:[0,0,0],clipVolumeHigh:[1,1,1]},qh=class Cr{constructor(){z(this,"data",{title:"Untitled document",imageOptionsArray:[],meshOptionsArray:[],opts:{...Kn},previewImageDataURL:"",labels:[],encodedImageBlobs:[],encodedDrawingBlob:""}),z(this,"scene"),z(this,"volumes",[]),z(this,"meshDataObjects"),z(this,"meshes",[]),z(this,"drawBitmap",null),z(this,"imageOptionsMap",new Map),z(this,"meshOptionsMap",new Map),this.scene={onAzimuthElevationChange:()=>{},onZoom3DChange:()=>{},sceneData:{...Gl,pan2Dxyzmm:ie(0,0,0,1),crosshairPos:ut(.5,.5,.5)},get renderAzimuth(){return this.sceneData.azimuth},set renderAzimuth(e){this.sceneData.azimuth=e,this.onAzimuthElevationChange&&this.onAzimuthElevationChange(this.sceneData.azimuth,this.sceneData.elevation)},get renderElevation(){return this.sceneData.elevation},set renderElevation(e){this.sceneData.elevation=e,this.onAzimuthElevationChange&&this.onAzimuthElevationChange(this.sceneData.azimuth,this.sceneData.elevation)},get volScaleMultiplier(){return this.sceneData.volScaleMultiplier},set volScaleMultiplier(e){this.sceneData.volScaleMultiplier=e,this.onZoom3DChange(e)},get crosshairPos(){return this.sceneData.crosshairPos},set crosshairPos(e){this.sceneData.crosshairPos=e},get clipPlane(){return this.sceneData.clipPlane},set clipPlane(e){this.sceneData.clipPlane=e},get clipPlaneDepthAziElev(){return this.sceneData.clipPlaneDepthAziElev},set clipPlaneDepthAziElev(e){this.sceneData.clipPlaneDepthAziElev=e},get pan2Dxyzmm(){return this.sceneData.pan2Dxyzmm},set pan2Dxyzmm(e){this.sceneData.pan2Dxyzmm=e},get gamma(){return this.sceneData.gamma},set gamma(e){this.sceneData.gamma=e}}}get title(){return this.data.title}get previewImageDataURL(){return this.data.previewImageDataURL}set previewImageDataURL(e){this.data.previewImageDataURL=e}set title(e){this.data.title=e}get imageOptionsArray(){return this.data.imageOptionsArray}get encodedImageBlobs(){return this.data.encodedImageBlobs}get encodedDrawingBlob(){return this.data.encodedDrawingBlob}get opts(){return this.data.opts}set opts(e){this.data.opts={...e}}get labels(){return this.data.labels}set labels(e){this.data.labels=e}get customData(){return this.data.customData}set customData(e){this.data.customData=e}hasImage(e){return this.volumes.find(n=>n.id===e.id)!==void 0}hasImageFromUrl(e){return this.data.imageOptionsArray.find(n=>n.url===e)!==void 0}addImageOptions(e,n){if(!this.hasImage(e)&&!n.name)if(n.url){const a=/^(?:[a-z+]+:)?\/\//i.test(n.url)?new URL(n.url):new URL(n.url,window.location.href);n.name=a.pathname.split("/").pop(),n.name.toLowerCase().endsWith(".gz")&&(n.name=n.name.slice(0,-3)),n.name.toLowerCase().endsWith(".nii")||(n.name+=".nii")}else n.name="untitled.nii";n.imageType=Ct.NII,this.data.imageOptionsArray.push(n),this.imageOptionsMap.set(e.id,this.data.imageOptionsArray.length-1)}removeImage(e){if(this.imageOptionsMap.has(e.id)){const n=this.imageOptionsMap.get(e.id);this.data.imageOptionsArray.length>n&&this.data.imageOptionsArray.splice(n,1),this.imageOptionsMap.delete(e.id)}this.volumes=this.volumes.filter(n=>n.id!==e.id)}getImageOptions(e){return this.imageOptionsMap.has(e.id)?this.data.imageOptionsArray[this.imageOptionsMap.get(e.id)]:null}json(){const e={encodedImageBlobs:[],previewImageDataURL:this.data.previewImageDataURL,imageOptionsMap:new Map},n=[];e.sceneData={...this.scene.sceneData},e.opts={...this.opts},this.opts.meshThicknessOn2D===1/0&&(e.opts.meshThicknessOn2D="infinity"),e.labels=[...this.data.labels];for(const a of e.labels)delete a.onClick;if(e.customData=this.customData,this.volumes.length)for(let a=0;a<this.volumes.length;a++){const o=this.volumes[a];let c=this.getImageOptions(o);c===null?(Y.warn("no options found for image, using default"),c={name:"",colormap:"gray",opacity:1,pairedImgData:null,cal_min:NaN,cal_max:NaN,trustCalMinMax:!0,percentileFrac:.02,ignoreZeroVoxels:!1,useQFormNotSForm:!1,colormapNegative:"",colormapLabel:null,imageType:Ct.NII,frame4D:0,limitFrames4D:NaN,url:"",urlImageData:"",alphaThreshold:!1,cal_minNeg:NaN,cal_maxNeg:NaN,colorbarVisible:!0}):"imageType"in c||(c.imageType=Ct.NII),c.colormap=o.colormap,c.colormapLabel=o.colormapLabel,c.opacity=o.opacity,c.cal_max=o.cal_max||NaN,c.cal_min=o.cal_min||NaN,n.push(c);const h=At.uint8tob64(o.toUint8Array());e.encodedImageBlobs.push(h),e.imageOptionsMap.set(o.id,a)}e.imageOptionsArray=[...n];const s=[];e.connectomes=[];for(const a of this.meshes){if(a.type==="connectome"){e.connectomes.push(JSON.stringify(a.json()));continue}const o={pts:a.pts,tris:a.tris,name:a.name,rgba255:Uint8Array.from(a.rgba255),opacity:a.opacity,connectome:a.connectome,dpg:a.dpg,dps:a.dps,dpv:a.dpv,meshShaderIndex:a.meshShaderIndex,layers:a.layers.map(c=>({values:c.values,nFrame4D:c.nFrame4D,frame4D:0,outlineBorder:c.outlineBorder,global_min:c.global_min,global_max:c.global_max,cal_min:c.cal_min,cal_max:c.cal_max,opacity:c.opacity,colormap:c.colormap,colormapNegative:c.colormapNegative,colormapLabel:c.colormapLabel,useNegativeCmap:c.useNegativeCmap})),hasConnectome:a.hasConnectome,edgeColormap:a.edgeColormap,edgeColormapNegative:a.edgeColormapNegative,edgeMax:a.edgeMax,edgeMin:a.edgeMin,edges:a.edges&&Array.isArray(a.edges)?[...a.edges]:[],extentsMax:a.extentsMax,extentsMin:a.extentsMin,furthestVertexFromOrigin:a.furthestVertexFromOrigin,nodeColormap:a.nodeColormap,nodeColormapNegative:a.nodeColormapNegative,nodeMaxColor:a.nodeMaxColor,nodeMinColor:a.nodeMinColor,nodeScale:a.nodeScale,legendLineThickness:a.legendLineThickness,offsetPt0:a.offsetPt0,nodes:a.nodes};a.offsetPt0&&a.offsetPt0.length>0&&(o.offsetPt0=a.offsetPt0,o.fiberGroupColormap=a.fiberGroupColormap,o.fiberColor=a.fiberColor,o.fiberDither=a.fiberDither,o.fiberRadius=a.fiberRadius,o.colormap=a.colormap),s.push(o)}return e.meshesString=JSON.stringify(y4(s)),this.drawBitmap&&(e.encodedDrawingBlob=At.uint8tob64(this.drawBitmap)),e}async download(e,n){const s=this.json(),a=JSON.stringify(s),o=n?"application/gzip":"application/json";let c;n?c=await At.compressStringToArrayBuffer(a):c=a,At.download(c,e,o)}static deserializeMeshDataObjects(e){if(e.data.meshesString){e.meshDataObjects=A4(JSON.parse(e.data.meshesString));for(const n of e.meshDataObjects)for(const s of n.layers)"colorMap"in s&&(s.colormap=s.colorMap,delete s.colorMap),"colorMapNegative"in s&&(s.colormapNegative=s.colorMapNegative,delete s.colorMapNegative)}}static async loadFromUrl(e){const s=await(await fetch(e)).arrayBuffer();let a;if(At.isArrayBufferCompressed(s)){const o=await At.decompressArrayBuffer(s);a=JSON.parse(o)}else{const o=new TextDecoder;a=JSON.parse(o.decode(s))}return Cr.loadFromJSON(a)}static async loadFromFile(e){const n=await At.readFileAsync(e);let s;const a=new Cr;return At.isArrayBufferCompressed(n)?s=await At.decompressArrayBuffer(n):s=new TextDecoder().decode(n),a.data=JSON.parse(s),a.data.opts.meshThicknessOn2D==="infinity"&&(a.data.opts.meshThicknessOn2D=1/0),a.scene.sceneData={...Gl,...a.data.sceneData},Cr.deserializeMeshDataObjects(a),a}static loadFromJSON(e){const n=new Cr;return n.data=e,n.data.opts.meshThicknessOn2D==="infinity"&&(n.data.opts.meshThicknessOn2D=1/0),n.scene.sceneData={...Gl,...e.sceneData},Cr.deserializeMeshDataObjects(n),n}},px={colormap:"gray",opacity:0,nFrame4D:0,frame4D:0,outlineBorder:0,cal_min:0,cal_max:0,cal_minNeg:0,cal_maxNeg:0,colormapType:0,values:new Array},Sr=class Ki{constructor(e,n,s="",a=new Uint8Array([255,255,255,255]),o=1,c=!0,h,u=null,f=null,m=null,g=null,A=!0,v=""){z(this,"id"),z(this,"name"),z(this,"anatomicalStructurePrimary"),z(this,"colorbarVisible"),z(this,"furthestVertexFromOrigin"),z(this,"extentsMin"),z(this,"extentsMax"),z(this,"opacity"),z(this,"visible"),z(this,"meshShaderIndex",0),z(this,"offsetPt0",null),z(this,"colormapInvert",!1),z(this,"fiberGroupColormap",null),z(this,"indexBuffer"),z(this,"vertexBuffer"),z(this,"vao"),z(this,"vaoFiber"),z(this,"pts"),z(this,"tris"),z(this,"layers"),z(this,"type","mesh"),z(this,"data_type"),z(this,"rgba255"),z(this,"fiberLength"),z(this,"fiberLengths"),z(this,"fiberDensity"),z(this,"fiberDither",.1),z(this,"fiberColor","Global"),z(this,"fiberDecimationStride",1),z(this,"fiberSides",5),z(this,"fiberRadius",0),z(this,"fiberOcclusion",0),z(this,"f32PerVertex",5),z(this,"fiberMask"),z(this,"colormap"),z(this,"dpg"),z(this,"dps"),z(this,"dpv"),z(this,"hasConnectome",!1),z(this,"connectome"),z(this,"indexCount"),z(this,"vertexCount",1),z(this,"nodeScale",4),z(this,"edgeScale",1),z(this,"legendLineThickness",0),z(this,"nodeColormap","warm"),z(this,"edgeColormap","warm"),z(this,"nodeColormapNegative"),z(this,"edgeColormapNegative"),z(this,"nodeMinColor"),z(this,"nodeMaxColor"),z(this,"edgeMin"),z(this,"edgeMax"),z(this,"nodes"),z(this,"edges"),z(this,"points"),this.anatomicalStructurePrimary=v,this.name=s,this.colorbarVisible=A,this.id=nf();const x=As.getExtents(e);if(this.furthestVertexFromOrigin=x.mxDx,this.extentsMin=x.extentsMin,this.extentsMax=x.extentsMax,this.opacity=o>1?1:o,this.visible=c,this.meshShaderIndex=0,this.indexBuffer=h.createBuffer(),this.vertexBuffer=h.createBuffer(),this.vao=h.createVertexArray(),h.bindVertexArray(this.vao),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,this.indexBuffer),h.bindBuffer(h.ARRAY_BUFFER,this.vertexBuffer),h.enableVertexAttribArray(0),h.enableVertexAttribArray(1),this.f32PerVertex!==7?(h.vertexAttribPointer(0,3,h.FLOAT,!1,20,0),h.vertexAttribPointer(1,4,h.BYTE,!0,20,12),h.enableVertexAttribArray(2),h.vertexAttribPointer(2,4,h.UNSIGNED_BYTE,!0,20,16)):(h.vertexAttribPointer(0,3,h.FLOAT,!1,28,0),h.vertexAttribPointer(1,3,h.FLOAT,!1,28,12),h.enableVertexAttribArray(2),h.vertexAttribPointer(2,4,h.UNSIGNED_BYTE,!0,28,24)),h.bindVertexArray(null),this.vaoFiber=h.createVertexArray(),this.offsetPt0=null,this.hasConnectome=!1,this.colormapInvert=!1,this.fiberGroupColormap=null,this.pts=e,this.layers=[],this.type="mesh",this.tris=n,a[3]<1){this.rgba255=a,this.fiberLength=2,this.fiberDither=.1,this.fiberColor="Global",this.fiberDecimationStride=1,this.fiberMask=[],this.colormap=u,this.dpg=f,this.dps=m,this.dpv=g,f&&this.initValuesArray(f),m&&this.initValuesArray(m),g&&this.initValuesArray(g),this.offsetPt0=new Uint32Array(n),this.tris=new Uint32Array(0),this.updateFibers(h),h.bindVertexArray(this.vaoFiber),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,this.indexBuffer),h.bindBuffer(h.ARRAY_BUFFER,this.vertexBuffer),h.enableVertexAttribArray(0),h.vertexAttribPointer(0,3,h.FLOAT,!1,16,0),h.enableVertexAttribArray(1),h.vertexAttribPointer(1,4,h.UNSIGNED_BYTE,!0,16,12),h.bindVertexArray(null);return}if(u){this.connectome=u,this.hasConnectome=!0;const w=Object.keys(u);for(let C=0,T=w.length;C<T;C++)this[w[C]]=u[w[C]]}this.rgba255=a,this.updateMesh(h)}initValuesArray(e){for(let n=0;n<e.length;n++){const s=e[n].vals.reduce((o,c)=>Math.min(o,c)),a=e[n].vals.reduce((o,c)=>Math.max(o,c));e[n].global_min=s,e[n].global_max=a,e[n].cal_min=s,e[n].cal_max=a}return e}linesToCylinders(e,n,s){function a(N){return ut(N[0],N[1],N[2])}const o=Math.pow(2,32)-1,c=s.length;let h=0,u=0;for(let N=0;N<c;N++){if(s[N]===o){u++;continue}h++}const f=this.fiberSides,m=f*h,g=this.f32PerVertex;if(g!==5)throw Error("fiberSides > 1 requires f32PerVertex == 5");const A=new Float32Array(m*g),v=new Uint8Array(A.buffer);let x=0,y=Wi(),w=Wi(),C=Wi();const T=ee();let D=ee(),M=0;const E=this.fiberRadius;for(let N=0;N<c;N++){const S=s[N]===o;if(S&&M<1)continue;let I=s[N]*4;if(M++,M<=1){y=ie(n[I+0],n[I+1],n[I+2],n[I+3]),w=An(y),N+1<c&&s[N+1]!==o&&(I=s[N+1]*4,C=ie(n[I+0],n[I+1],n[I+2],n[I+3]),le(T,a(y),a(C)),Bi(T,T),D=bs.getFirstPerpVector(T));continue}S?C=An(w):C=ie(n[I+0],n[I+1],n[I+2],n[I+3]),le(T,a(y),a(C)),Bi(T,T);const F=ee();Nl(F,D,T);const L=ee();Nl(L,T,F),D=qa(D);const k=ee();Nl(k,T,L),Bi(k,k);const q=ee();for(let P=0;P<f;P++){const K=Math.cos(P/f*2*Math.PI),J=Math.sin(P/f*2*Math.PI);q[0]=E*(K*L[0]+J*k[0]),q[1]=E*(K*L[1]+J*k[1]),q[2]=E*(K*L[2]+J*k[2]),ys(q,a(w),q);const rt=x*g;A[rt+0]=q[0],A[rt+1]=q[1],A[rt+2]=q[2];const G=ee();le(G,q,a(w)),Bi(G,G);const tt=(rt+3)*4;v[tt+0]=G[0]*127,v[tt+1]=G[1]*127,v[tt+2]=G[2]*127,A[rt+4]=w[3],x++}y=An(w),w=An(C),S&&(M=0)}const R=(h-u)*f*2*3,B=new Uint32Array(R);let U=0;x=0;for(let N=1;N<c;N++){if(s[N]===o){x+=f;continue}if(s[N-1]===o)continue;let S=x,I=x+f;const F=I,L=I+f;for(let k=0;k<f;k++)B[U++]=S,B[U++]=I++,I===L&&(I=L-f),B[U++]=I,B[U++]=S++,S===F&&(S=F-f),B[U++]=I,B[U++]=S;x+=f}e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,Uint32Array.from(B),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW),this.indexCount=R}createFiberDensityMap(){if(this.fiberDensity)return;const e=this.pts,n=e.length/3;let s=0;for(let T=0;T<3;T++){const D=this.extentsMax[T]-this.extentsMin[T];s=Math.max(s,D)}if(this.fiberDensity=new Float32Array(n),s===0)return;const a=64,c=s/(a-1)/2,h=(a-1)/s;let u=new Float32Array(a*a*a);const f=[this.extentsMin[0]-c,this.extentsMin[1]-c,this.extentsMin[2]-c],m=[0,0,0],g=-1,A=a*a;let v=0;for(let T=0;T<n;T++){m[0]=Math.round((e[v++]-f[0])*h),m[1]=Math.round((e[v++]-f[1])*h),m[2]=Math.round((e[v++]-f[2])*h);const D=m[0]+m[1]*a+m[2]*A;D!==g&&u[D]++}function x(T,D){let M=T.slice(),E=-1;const R=D-1;for(let U=0;U<D;U++)for(let N=0;N<D;N++)for(let S=0;S<D;S++)E++,!(S<1||S>=R)&&(T[E]=M[E-1]+M[E]+M[E]+M[E+1]);E=-1,M=T.slice();for(let U=0;U<D;U++)for(let N=0;N<D;N++)for(let S=0;S<D;S++)E++,!(N<1||N>=R)&&(T[E]=M[E-D]+M[E]+M[E]+M[E+D]);const B=D*D;E=-1,M=T.slice();for(let U=0;U<D;U++)for(let N=0;N<D;N++)for(let S=0;S<D;S++)E++,!(U<1||U>=R)&&(T[E]=M[E-B]+M[E]+M[E]+M[B]);return T}u=x(u,a),u=x(u,a);let y=0,w=1/0;const C=a*a*a;for(let T=0;T<C;T++)u[T]<=0||(y=Math.max(y,u[T]),w=Math.min(w,u[T]));if(!(y<=1||y<=w)){v=0;for(let T=0;T<C;T++)u[T]=Math.max(0,u[T]-w);y-=w;for(let T=0;T<n;T++){m[0]=Math.round((e[v++]-f[0])*h),m[1]=Math.round((e[v++]-f[1])*h),m[2]=Math.round((e[v++]-f[2])*h);const D=m[0]+m[1]*a+m[2]*A;this.fiberDensity[T]=u[D]/y}}}updateFibers(e){if(!this.offsetPt0||!this.fiberLength)return;const n=this.pts,s=this.offsetPt0,a=s.length-1,o=n.length/3;if(!this.fiberLengths){this.fiberLengths=new Uint32Array(a);for(let R=0;R<a;R++){const B=s[R]*3,U=(s[R+1]-1)*3;let N=0;for(let S=B;S<U;S+=3){const I=ut(n[S+0]-n[S+3],n[S+1]-n[S+4],n[S+2]-n[S+5]);N+=Xa(I)}this.fiberLengths[R]=N}}const c=new Float32Array(o*4),h=new Uint32Array(c.buffer);let u=0,f=0;for(let R=0;R<o;R++)c[f+0]=n[u+0],c[f+1]=n[u+1],c[f+2]=n[u+2],u+=3,f+=4;const m=this.fiberDither,g=m*.5;function A(R,B,U){const S=255*(m*Math.random()-g);return R=Math.max(Math.min(R+S,255),0),B=Math.max(Math.min(B+S,255),0),U=Math.max(Math.min(U+S,255),0),R+(B<<8)+(U<<16)}function v(R,B,U,N,S,I,F){const L=ut(Math.abs(R-N),Math.abs(B-S),Math.abs(U-I));Bi(L,L);const k=F-g;for(let q=0;q<3;q++)L[q]=255*Math.max(Math.min(Math.abs(L[q])+k,1),0);return L[0]+(L[1]<<8)+(L[2]<<16)}const x=this.fiberColor.toLowerCase();let y=null,w=null;if(x.startsWith("dps")&&this.dps&&this.dps.length>0){const R=parseInt(x.substring(3));R<this.dps.length&&this.dps[R].vals.length===a&&(y=this.dps[R].vals)}if(x.startsWith("dpv")&&this.dpv&&this.dpv.length>0){const R=parseInt(x.substring(3));R<this.dpv.length&&this.dpv[R].vals.length===o&&(w=this.dpv[R])}const C=new Int16Array(a);if(this.dpg&&this.fiberGroupColormap!==null){const R=new Uint8ClampedArray(this.dpg.length*4),B=new Array(this.dpg.length).fill(!1),U=this.fiberGroupColormap;U.A===void 0&&(U.A=Array.from(new Uint8ClampedArray(U.I.length).fill(255)));for(let N=0;N<U.I.length;N++){let S=U.I[N];S<0||S>=this.dpg.length||U.A[N]<1||(B[S]=!0,S*=4,R[S]=U.R[N],R[S+1]=U.G[N],R[S+2]=U.B[N],R[S+3]=255)}C.fill(-1);for(let N=0;N<this.dpg.length;N++)if(B[N])for(let S=0;S<this.dpg[N].vals.length;S++)C[this.dpg[N].vals[S]]=N;for(let N=0;N<a;N++){if(C[N]<0)continue;const S=C[N]%256*4,I=A(R[S],R[S+1],R[S+2]),F=s[N],L=s[N+1]-1,k=F*4+3,q=L*4+3;for(let P=k;P<=q;P+=4)h[P]=I}}else if(w){const R=$t.colormap(this.colormap,this.colormapInvert),B=w.cal_min,U=w.cal_max;let N=3;for(let S=0;S<o;S++){let I=Math.min(Math.max((w.vals[S]-B)/(U-B),0),1);I=Math.round(Math.max(Math.min(255,I*255)))*4;const F=R[I]+(R[I+1]<<8)+(R[I+2]<<16);h[N]=F,N+=4}}else if(y){const R=$t.colormap(this.colormap,this.colormapInvert);let B=y[0],U=y[0];for(let N=0;N<a;N++)B=Math.min(B,y[N]),U=Math.max(U,y[N]);U===B&&(B-=1);for(let N=0;N<a;N++){let S=(y[N]-B)/(U-B);S=Math.round(Math.max(Math.min(255,S*255)))*4;const I=R[S]+(R[S+1]<<8)+(R[S+2]<<16),F=s[N],L=s[N+1]-1,k=F*4+3,q=L*4+3;for(let P=k;P<=q;P+=4)h[P]=I}}else if(x.includes("fixed"))if(m===0){const R=this.rgba255[0]+(this.rgba255[1]<<8)+(this.rgba255[2]<<16);let B=3;for(let U=0;U<o;U++)h[B]=R,B+=4}else for(let R=0;R<a;R++){const B=A(this.rgba255[0],this.rgba255[1],this.rgba255[2]),U=s[R],N=s[R+1]-1,S=U*4+3,I=N*4+3;for(let F=S;F<=I;F+=4)h[F]=B}else if(x.includes("local"))for(let R=0;R<a;R++){const B=s[R],U=s[R+1]-1;let N=B*3;const S=U*3,I=m*Math.random();let F=v(n[N],n[N+1],n[N+2],n[N+4],n[N+5],n[N+6],I),L=B*4+3;for(;N<S;)h[L]=F,L+=4,N+=3,F=v(n[N-3],n[N-2],n[N-1],n[N+3],n[N+4],n[N+5],I);h[L]=h[L-4]}else for(let R=0;R<a;R++){const B=s[R],U=s[R+1]-1,N=B*3,S=U*3,I=v(n[N],n[N+1],n[N+2],n[S],n[S+1],n[S+2],m*Math.random()),F=B*4+3,L=U*4+3;for(let k=F;k<=L;k+=4)h[k]=I}if(this.fiberOcclusion>0){let R=function(B,U){const N=U*(B&255),S=U*(B>>8&255),I=U*(B>>16&255);return N+(S<<8)+(I<<16)};this.createFiberDensityMap();for(let B=0;B<a;B++){const U=s[B],N=s[B+1]-1,S=U*4+3,I=N*4+3;let F=U;const L=Math.min(this.fiberOcclusion,.99);for(let k=S;k<=I;k+=4){let q=this.fiberDensity[F++];if(q<=0)continue;q=q/((1/L-2)*(1-q)+1);const P=1-Math.min(q,.9);let K=h[k];K=R(K,P),h[k]=K}}}const T=this.fiberLength,D=Math.pow(2,32)-1,M=[];let E=-1;for(let R=0;R<a;R++)if(!(C[R]<0)&&!(this.fiberLengths[R]<T)&&(E++,E%this.fiberDecimationStride===0)){for(let B=s[R];B<s[R+1];B++)M.push(B);M.push(D)}this.fiberSides>2&&this.fiberRadius>0?this.linesToCylinders(e,c,M):(this.indexCount=M.length,e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,Uint32Array.from(h),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,Uint32Array.from(M),e.STATIC_DRAW))}indexNearestXYZmm(e,n,s){const a=this.pts,o=this.pts.length/3;let c=0,h=1/0,u=0;for(let f=0;f<o;f++){const m=Math.pow(a[c]-e,2)+Math.pow(a[c+1]-n,2)+Math.pow(a[c+2]-s,2);m<h&&(h=m,u=f),c+=3}return h=Math.sqrt(h),[u,h]}unloadMesh(e){if(e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindVertexArray(null),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteVertexArray(this.vao),e.deleteVertexArray(this.vaoFiber),this.offsetPt0=null,this.tris=null,this.pts=null,this.layers&&this.layers.length>0)for(let n=0;n<this.layers.length;n++)this.layers[n].values=null;if(this.dpg&&this.dpg.length>0)for(let n=0;n<this.dpg.length;n++)this.dpg[n].vals=null;if(this.dps&&this.dps.length>0)for(let n=0;n<this.dps.length;n++)this.dps[n].vals=null}blendColormap(e,n,s,a,o,c,h=!1){const u=this.pts.length/3,f=Math.min(s.opacity,1);function m(D,M,E){return D*(1-E)+M*E}function g(D,M){return Math.min(D+M,255)}const A=h?-1:1,v=Math.min(Math.max(s.frame4D,0),s.nFrame4D-1),x=u*v;let y=a;s.isTransparentBelowCalMin||(y=Number.NEGATIVE_INFINITY),s.colormapType!==0&&(a=Math.min(a,0));const w=255/(o-a);let C=new Array(u).fill(!1);if(s.outlineBorder!==0){const D=new Uint8Array(u).fill(0);for(let M=0;M<u;M++)A*s.values[M+x]>=y&&(D[M]=1);C=As.getClusterBoundaryU8(D,this.tris);for(let M=0;M<u;M++)A*s.values[M+x]<y&&(C[M]=!1)}const T=new Float32Array(256).fill(f);if(y>a&&s.colormapType===2){let D=Math.round((y-a)*w);D=Math.max(D,1);for(let M=1;M<D;M++)T[M]=f*Math.pow(M/D,2);T[0]=0,y=a+Number.EPSILON}for(let D=0;D<u;D++){const M=A*s.values[D+x];if(M<y)continue;let E=Math.round((M-a)*w);if(E<0&&s.isTransparentBelowCalMin)continue;E=Math.max(0,E),E=Math.min(255,E);let R=T[E];E*=4;let B=D*28+24;if(this.f32PerVertex!==7&&(B=D*20+16),s.isAdditiveBlend){const U=D*4;n[U+0]=g(n[U+0],c[E+0]),n[U+1]=g(n[U+1],c[E+1]),n[U+2]=g(n[U+2],c[E+2]),n[U+3]=g(n[U+3],255)}else{if(C[D]&&(R=s.outlineBorder,s.outlineBorder<0)){e[B+0]=0,e[B+1]=0,e[B+2]=0;continue}e[B+0]=m(e[B+0],c[E+0],R),e[B+1]=m(e[B+1],c[E+1],R),e[B+2]=m(e[B+2],c[E+2],R)}}}updateMesh(e){if(this.offsetPt0){this.updateFibers(e);return}if(this.hasConnectome)return;if(!this.pts||!this.tris||!this.rgba255){Y.warn("underspecified mesh");return}function n(h,u,f){return h*(1-f)+u*f}const s=this.generatePosNormClr(this.pts,this.tris,this.rgba255),a=this.pts.length/3,o=new Uint8Array(s.buffer),c=new Uint8Array(a*4);if(this.layers&&this.layers.length>0)for(let h=0;h<this.layers.length;h++){const u=this.layers[h],f=u.opacity;if(f<=0||u.cal_min>u.cal_max)continue;if(u.outlineBorder===void 0&&(u.outlineBorder=0),u.isAdditiveBlend===void 0&&(u.isAdditiveBlend=!1),u.colormapLabel&&u.colormapLabel.R&&!u.colormapLabel.lut&&(u.colormapLabel=$t.makeLabelLut(u.colormapLabel)),u.colormapLabel&&u.colormapLabel.lut){const A=u.colormapLabel.lut,v=Math.floor(A.length/4),x=Math.min(Math.max(u.frame4D,0),u.nFrame4D-1),y=a*x,w=new Uint8Array(a*4);let C=0;for(let D=0;D<u.values.length;D++){let M=4*Math.min(Math.max(u.values[D+y],0),v-1);w[C+0]=A[M+0],w[C+1]=A[M+1],w[C+2]=A[M+2],C+=4}let T=new Array(a).fill(!1);u.outlineBorder!==0&&(T=As.getClusterBoundary(w,this.tris)),C=0;for(let D=0;D<u.values.length;D++){let M=D*28+24;this.f32PerVertex!==7&&(M=D*20+16);let E=f;if(T[D]&&(E=u.outlineBorder,u.outlineBorder<0)){o[M+0]=0,o[M+1]=0,o[M+2]=0,C+=4;continue}o[M+0]=n(o[M+0],w[C+0],E),o[M+1]=n(o[M+1],w[C+1],E),o[M+2]=n(o[M+2],w[C+2],E),C+=4}continue}if(u.values instanceof Uint8Array){const g=new Uint8Array(u.values.buffer);let A=new Array(a).fill(!0);u.outlineBorder!==0&&(A=As.getClusterBoundary(g,this.tris));let v=0;for(let x=0;x<u.values.length;x++){let y=x*28+24;this.f32PerVertex!==7&&(y=x*20+16);let w=f;if(A[x]&&(w=u.outlineBorder,u.outlineBorder<0)){o[y+0]=0,o[y+1]=0,o[y+2]=0,v+=4;continue}o[y+0]=n(o[y+0],g[v+0],w),o[y+1]=n(o[y+1],g[v+1],w),o[y+2]=n(o[y+2],g[v+2],w),v+=4}continue}u.useNegativeCmap&&(u.cal_min=Math.max(Number.EPSILON,u.cal_min),u.cal_max=Math.max(u.cal_min+1e-6,u.cal_max)),u.isTransparentBelowCalMin===void 0&&(u.isTransparentBelowCalMin=!0);const m=$t.colormap(u.colormap,u.colormapInvert);if(this.blendColormap(o,c,u,u.cal_min,u.cal_max,m),u.useNegativeCmap){const g=$t.colormap(u.colormapNegative,u.colormapInvert);let A=u.cal_min,v=u.cal_max;isFinite(u.cal_minNeg)&&isFinite(u.cal_minNeg)&&(A=-u.cal_minNeg,v=-u.cal_maxNeg),this.blendColormap(o,c,u,A,v,g,!0)}}e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,Uint32Array.from(this.tris),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW),this.indexCount=this.tris.length,this.vertexCount=this.pts.length}reverseFaces(e){if(this.offsetPt0||this.hasConnectome)return;const n=this.tris||[];for(let s=0;s<n.length;s+=3){const a=n[s];n[s]=n[s+1],n[s+1]=a}this.updateMesh(e)}hierarchicalOrder(){const s=this.tris.length/3,a=Math.log(s/20)/Math.log(4);if(s!==Math.pow(4,a)*20)return NaN;if(this.pts.length/3!==Math.pow(4,a)*10+2)return NaN;for(let c=0;c<15;c+=3)if(this.tris[c]!==0)return NaN;for(let c=15;c<24;c+=3)if(this.tris[c]!==3)return NaN;for(let c=24;c<30;c+=3)if(this.tris[c]!==4)return NaN;return a}decimateFaces(e,n){let s=this.tris;const a=12,o=20;for(let c=e-1;c>=n;c--){const h=Math.pow(4,c+1)*(a-2)+2,u=Math.pow(4,c)*(a-2)+2,f=s.length/3,m=Math.pow(4,c)*o;console.log(`order ${c+1} -> ${c} vertices ${h} -> ${u} faces ${f} -> ${m}`);const g=Array.from({length:h},(v,x)=>x+1);for(let v=0;v<f;v++){const x=s[3*v],y=s[3*v+1],w=s[3*v+2];g[x-1]=Math.min(g[x-1],y,w)}const A=new Uint32Array(m*3);for(let v=0;v<m;v++)A[3*v]=g[s[3*v]-1],A[3*v+1]=g[s[3*v+1]-1],A[3*v+2]=g[s[3*v+2]-1];s=A}this.tris=new Uint32Array(s)}decimateHierarchicalMesh(e,n=4){const s=this.hierarchicalOrder();if(isNaN(s))return Y.warn("Unable to decimate mesh: it does not have a hierarchical structure"),!1;if(n>=s)return Y.warn(`Unable to decimate mesh: input order (${s}) must be larger than downsampled order (${n})`),!1;const a=this.pts.length/3,c=Math.pow(4,n)*(12-2)+2;if(this.pts=new Float32Array(this.pts.slice(0,c*3)),this.decimateFaces(s,n),this.layers&&this.layers.length>0)for(let h=0;h<this.layers.length;h++){const u=this.layers[h];u.values instanceof Float32Array||u.values.length!==a?u.values=new Float32Array(u.values.slice(0,c)):Y.warn("decimation logic needs to be updated")}return this.updateMesh(e),!0}async setLayerProperty(e,n,s,a){const o=this.layers[e];if(!o||!(n in o)){Y.warn("mesh does not have property ",n," for layer ",o);return}if(n==="colormapLabel")if(typeof s=="object")o[n]=$t.makeLabelLut(s);else if(typeof s=="string"){const c=await $t.makeLabelLutFromUrl(s);o[n]=c,this.updateMesh(a);return}else Y.error("colormapLabel requires a string or object");else o[n]=s;this.updateMesh(a)}setProperty(e,n,s){if(!(e in this)){console.warn("Mesh does not have property:",e,this);return}if(typeof n!="number"&&typeof n!="string"&&typeof n!="boolean"){console.warn("Invalid value type. Expected number, string, or boolean but received:",typeof n);return}this[e]=n,this.updateMesh(s)}generatePosNormClr(e,n,s){(e.length<3||s.length<4)&&(Y.error("Catastrophic failure generatePosNormClr()"),Y.debug("this",this),Y.debug("pts",e),Y.debug("rgba",s));const a=As.generateNormals(e,n),o=e.length/3,c=o===s.length/4,h=this.f32PerVertex,u=new Float32Array(o*h),f=new Uint8Array(u.buffer);let m=0,g=0,A=0,v=(h-1)*4;for(let x=0;x<o;x++)u[A+0]=e[m+0],u[A+1]=e[m+1],u[A+2]=e[m+2],h!==7?(f[v-4]=a[m+0]*127,f[v-3]=a[m+1]*127,f[v-2]=a[m+2]*127):(u[A+3]=a[m+0],u[A+4]=a[m+1],u[A+5]=a[m+2]),f[v]=s[g+0],f[v+1]=s[g+1],f[v+2]=s[g+2],f[v+3]=s[g+3],c&&(g+=4),m+=3,A+=h,v+=h*4;return u}static async readMesh(e,n,s,a=1,o=new Uint8Array([255,255,255,255]),c=!0){let h=new Uint32Array([]),u=new Float32Array([]),f="",m;const g=/(?:\.([^.]+))?$/;let A=g.exec(n)[1];if(A=A.toUpperCase(),A==="GZ"&&(A=g.exec(n.slice(0,-3))[1],A=A.toUpperCase()),A==="JCON"&&Y.error("you should never see this message: load using nvconnectome not nvmesh"),A==="JSON"&&Y.error("you should never see this message: load using nvconnectome not nvmesh"),o[3]=Math.max(1,o[3]),A==="TCK"||A==="TRK"||A==="TT"||A==="TRX"||A==="TRACT"){if(A==="TCK"?m=ae.readTCK(e):A==="TRACT"?m=ae.readTRACT(e):A==="TT"?m=await ae.readTT(e):A==="TRX"?m=await ae.readTRX(e):m=await ae.readTRK(e),typeof m>"u"){const w=new Float32Array([0,0,0,0,0,0]),C=new Uint32Array([0]);m={pts:w,offsetPt0:C},Y.error("Creating empty tracts")}return o[3]=0,new Ki(m.pts,m.offsetPt0,n,o,a,c,s,"inferno",m.dpg||null,m.dps||null,m.dpv||null)}if(A==="GII")m=await ae.readGII(e);else if(A==="MZ3")m=await ae.readMZ3(e),"positions"in m||Y.warn("MZ3 does not have positions (statistical overlay?)");else if(A==="ASC")m=ae.readASC(e);else if(A==="DFS")m=ae.readDFS(e);else if(A==="BYU"||A==="G")m=ae.readGEO(e);else if(A==="GEO")m=ae.readGEO(e,!0);else if(A==="ICO"||A==="TRI")m=ae.readICO(e);else if(A==="OFF")m=ae.readOFF(e);else if(A==="NV")m=ae.readNV(e);else if(A==="OBJ")m=await ae.readOBJ(e);else if(A==="PLY")m=ae.readPLY(e);else if(A==="WRL")m=ae.readWRL(e);else if(A==="X3D")m=ae.readX3D(e);else if(A==="FIB"||A==="VTK"){if(m=ae.readVTK(e),"offsetPt0"in m)return o[3]=0,new Ki(m.pts,m.offsetPt0,n,o,a,c,s,"inferno")}else A==="SRF"?m=await ae.readSRF(e):A==="STL"?m=ae.readSTL(e):m=ae.readFreeSurfer(e);if(m.anatomicalStructurePrimary&&(f=m.anatomicalStructurePrimary),m instanceof Float32Array)throw new Error("fatal: unknown mesh type loaded");if(!("positions"in m))throw new Error("positions not loaded");if(!m.indices)throw new Error("indices not loaded");if(u=m.positions,h=m.indices,"rgba255"in m&&m.rgba255.length>0&&(o=m.rgba255),"colors"in m&&m.colors&&m.colors.length===u.length){const w=u.length/3;o=new Uint8Array(w*4);let C=0,T=0;for(let D=0;D<w;D++)o[T++]=m.colors[C]*255,o[T++]=m.colors[C+1]*255,o[T++]=m.colors[C+2]*255,o[T++]=255,C+=3}const v=u.length/3;if(h.length/3<1||v<3)throw new Error("Mesh should have at least one triangle and three vertices");o[3]=Math.max(1,o[3]);const y=new Ki(u,h,n,o,a,c,s,null,null,null,null,!0,f);if("scalars"in m&&m.scalars.length>0){const w=await ae.readLayer(n,e,y,a,"gray");typeof w>"u"?Y.warn("readLayer() failed to convert scalars"):(y.layers.push(w),y.updateMesh(s))}return y}static async loadLayer(e,n){let s=new Uint8Array().buffer;function a(x){const y=window.atob(x),w=y.length,C=new Uint8Array(w);for(let T=0;T<w;T++)C[T]=y.charCodeAt(T);return C.buffer}if(e.base64!==void 0)s=a(e.base64);else{if(!e.url)throw new Error("layer: missing url");const x=await fetch(e.url,{headers:e.headers});if(!x.ok)throw Error(x.statusText);s=await x.arrayBuffer()}let o,c=[];if(e.name&&e.name!=="")o=e.name;else{if(!e.url)throw new Error("layer: missing url");try{c=new URL(e.url).pathname.split("/")}catch{c=e.url.split("/")}finally{o=c.slice(-1)[0]}}o.indexOf("?")>-1&&(o=o.slice(0,o.indexOf("?")));let h=.5;"opacity"in e&&(h=e.opacity);let u="warm";"colormap"in e&&(u=e.colormap);let f="winter";"colormapNegative"in e&&(f=e.colormapNegative);let m=!1;"useNegativeCmap"in e&&(m=e.useNegativeCmap);let g=null;"cal_min"in e&&(g=e.cal_min);let A=null;"cal_max"in e&&(A=e.cal_max);const v=await ae.readLayer(o,s,n,h,u,f,m,g,A);v&&n.layers.push(v)}static async loadFromUrl({url:e="",headers:n={},gl:s,name:a="",opacity:o=1,rgba255:c=[255,255,255,255],visible:h=!0,layers:u=[],buffer:f=new ArrayBuffer(0)}={}){let m=e.split("/");if(a===""){try{m=new URL(e).pathname.split("/")}catch{m=e.split("/")}a=m.slice(-1)[0],a.indexOf("?")>-1&&(a=a.slice(0,a.indexOf("?")))}if(e==="")throw Error("url must not be empty");if(!s)throw Error("gl context is null");let g;if(f.byteLength>0)g=f;else{const v=await fetch(e,{headers:n});if(!v.ok)throw Error(v.statusText);g=await v.arrayBuffer()}const A=await this.readMesh(g,a,s,o,new Uint8Array(c),h);if(!u||u.length<1)return A;for(let v=0;v<u.length;v++)await Ki.loadLayer(u[v],A);return A.updateMesh(s),A}static async readFileAsync(e){return new Promise((n,s)=>{const a=new FileReader;a.onload=()=>{n(a.result)},a.onerror=s,a.readAsArrayBuffer(e)})}static async loadFromFile({file:e,gl:n,name:s="",opacity:a=1,rgba255:o=[255,255,255,255],visible:c=!0,layers:h=[]}={}){if(!e)throw new Error("file must be set");if(!n)throw new Error("rendering context must be set");const u=await Ki.readFileAsync(e),f=await Ki.readMesh(u,s,n,a,new Uint8Array(o),c);if(!h||h.length<1)return f;for(let m=0;m<h.length;m++)await Ki.loadLayer(h[m],f);return f.updateMesh(n),f}async loadFromBase64({base64:e,gl:n,name:s="",opacity:a=1,rgba255:o=[255,255,255,255],visible:c=!0,layers:h=[]}={}){if(!e)throw new Error("base64 must bet set");if(!n)throw new Error("rendering context must be set");function u(g){const A=window.atob(g),v=A.length,x=new Uint8Array(v);for(let y=0;y<v;y++)x[y]=A.charCodeAt(y);return x.buffer}const f=u(e),m=await Ki.readMesh(f,s,n,a,new Uint8Array(o),c);if(!h||h.length<1)return m;for(let g=0;g<h.length;g++)await Ki.loadLayer(h[g],m);return m.updateMesh(n),m}},vx="data:image/jpeg;base64,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ZwAAAAAAAAALY3JvcFJlY3RUb3Bsb25nAAAAAAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQABOEJJTQQmAAAAAAAOAAAAAAAAAAAAAD+AAAA4QklNBA0AAAAAAAQAAAAeOEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNJxAAAAAAAAoAAQAAAAAAAAABOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgAAOEJJTQQCAAAAAAACAAA4QklNBDAAAAAAAAEBADhCSU0ELQAAAAAABgABAAAAMjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAAM9AAAABgAAAAAAAAAAAAACAAAAAgAAAAAEAG0AYwA2ADEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAABudWxsAAAAAgAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAAIAAAAAAFJnaHRsb25nAAACAAAAAAZzbGljZXNWbExzAAAAAU9iamMAAAABAAAAAAAFc2xpY2UAAAASAAAAB3NsaWNlSURsb25nAAAAAAAAAAdncm91cElEbG9uZwAAAAAAAAAGb3JpZ2luZW51bQAAAAxFU2xpY2VPcmlnaW4AAAANYXV0b0dlbmVyYXRlZAAAAABUeXBlZW51bQAAAApFU2xpY2VUeXBlAAAAAEltZyAAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAA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bnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMDctMTJUMjA6MDc6NDcrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTA3LTEzVDE3OjU0OjI3KzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTA3LTEzVDE3OjU0OjI3KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL2pwZWciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MmVhYjVmZS02NDZkLWVhNDMtODQyNC0xNWQzZTgwOWExNDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0OGNjMGI3YS1iYTJkLWZmNDAtYmNkNC1jNGQzMzIyZjBiNzQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYzFjM2NhNS1hYTg4LWI5NGMtOGE4MS05YmU4MjA3ZGZiODciPiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6YThjMGNhZTYtODNjYy1hYzQ4LWI2YzAtN2FiODNlOWJkMGM3PC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWMxYzNjYTUtYWE4OC1iOTRjLThhODEtOWJlODIwN2RmYjg3IiBzdEV2dDp3aGVuPSIyMDE4LTA3LTEyVDIwOjA3OjQ3KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjYmI3MzZlZC0zOTRhLTM2NDgtYThiOC02Mzk1MmY0NDcxMjIiIHN0RXZ0OndoZW49IjIwMTgtMDctMTNUMTY6MTM6NTgrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2YjNkYTI3LWI4YjEtYmU0Yi1hYTQ4LTExZGM5NmZkNTIyZiIgc3RFdnQ6d2hlbj0iMjAxOC0wNy0xM1QxNzo1NDoyNyswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvanBlZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9qcGVnIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MmVhYjVmZS02NDZkLWVhNDMtODQyNC0xNWQzZTgwOWExNDQiIHN0RXZ0OndoZW49IjIwMTgtMDctMTNUMTc6NTQ6MjcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2YjNkYTI3LWI4YjEtYmU0Yi1hYTQ4LTExZGM5NmZkNTIyZiIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg3NjM1NDk5LWZiMTItYWU0MC04NWEzLThkMWFiN2NkZGVhOSIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmFjMWMzY2E1LWFhODgtYjk0Yy04YTgxLTliZTgyMDdkZmI4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSJ3Ij8+/+IMWElDQ19QUk9GSUxFAAEBAAAMSExpbm8CEAAAbW50clJHQiBYWVogB84AAgAJAAYAMQAAYWNzcE1TRlQAAAAASUVDIHNSR0IAAAAAAAAAAAAAAAEAAPbWAAEAAAAA0y1IUCAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARY3BydAAAAVAAAAAzZGVzYwAAAYQAAABsd3RwdAAAAfAAAAAUYmtwdAAAAgQAAAAUclhZWgAAAhgAAAAUZ1hZWgAAAiwAAAAUYlhZWgAAAkAAAAAUZG1uZAAAAlQAAABwZG1kZAAAAsQAAACIdnVlZAAAA0wAAACGdmlldwAAA9QAAAAkbHVtaQAAA/gAAAAUbWVhcwAABAwAAAAkdGVjaAAABDAAAAAMclRSQwAABDwAAAgMZ1RSQwAABDwAAAgMYlRSQwAABDwAAAgMdGV4dAAAAABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1Q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",fm="data:image/png;base64,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",dm={atlas:{type:"msdf",distanceRange:2,size:59.65625,width:512,height:256,yOrigin:"bottom"},metrics:{emSize:1,lineHeight:1.171875,ascender:.927734375,descender:-.244140625,underlineY:-.09765625,underlineThickness:.048828125},glyphs:[{unicode:32,advance:.24755859375},{unicode:33,advance:.25732421875,planeBounds:{left:.056159633438645884,bottom:-.02437761405677056,right:.20702396031135412,top:.7299440203067705},atlasBounds:{left:488.5,bottom:145.5,right:497.5,top:190.5}},{unicode:34,advance:.31982421875,planeBounds:{left:.049409125974004715,bottom:.48691155587022,right:.2840869677759953,top:.77187750662978},atlasBounds:{left:486.5,bottom:213.5,right:500.5,top:230.5}},{unicode:35,advance:.61572265625,planeBounds:{left:.037219103997511785,bottom:-.02169206718177056,right:.6239137085024882,top:.7326295671817705},atlasBounds:{left:66.5,bottom:51.5,right:101.5,top:96.5}},{unicode:36,advance:.5615234375,planeBounds:{left:.02956531458715296,bottom:-.12381369908983761,right:.5324464041628472,top:.8484230740898377},atlasBounds:{left:109.5,bottom:197.5,right:139.5,top:255.5}},{unicode:37,advance:.732421875,planeBounds:{left:.026481776289942378,bottom:-.030073418674698794,right:.7137525987100576,top:.7410109186746989},atlasBounds:{left:88.5,bottom:144.5,right:129.5,top:190.5}},{unicode:38,advance:.62158203125,planeBounds:{left:.03225572125458355,bottom:-.030073418674698794,right:.6357130287454166,top:.7410109186746989},atlasBounds:{left:130.5,bottom:144.5,right:166.5,top:190.5}},{unicode:39,advance:.17431640625,planeBounds:{left:.028244602049502358,bottom:.49895501673814824,right:.14558352295049765,top:.7671582645118518},atlasBounds:{left:498.5,bottom:62.5,right:505.5,top:78.5}},{unicode:40,advance:.341796875,planeBounds:{left:.042983329377291775,bottom:-.250029542422407,right:.34471198312270823,top:.8227834486724072},atlasBounds:{left:.5,bottom:191.5,right:18.5,top:255.5}},{unicode:41,advance:.34765625,planeBounds:{left:-.003159248747708225,bottom:-.250029542422407,right:.29856940499770823,top:.8227834486724072},atlasBounds:{left:19.5,bottom:191.5,right:37.5,top:255.5}},{unicode:42,advance:.4306640625,planeBounds:{left:-.011208599684062338,bottom:.27785390031593765,right:.44138438093406235,top:.7304468809340623},atlasBounds:{left:449.5,bottom:23.5,right:476.5,top:50.5}},{unicode:43,advance:.56689453125,planeBounds:{left:.01353503347629649,bottom:.053493525733368255,right:.5499415290237036,top:.6066627242666317},atlasBounds:{left:361.5,bottom:17.5,right:393.5,top:50.5}},{unicode:44,advance:.1962890625,planeBounds:{left:-.009919475797210583,bottom:-.15981695975478,right:.1744702570472106,top:.12514899100478},atlasBounds:{left:498.5,bottom:79.5,right:509.5,top:96.5}},{unicode:45,advance:.27587890625,planeBounds:{left:-.00527594412977999,bottom:.24333249267450235,right:.27969000662978,top:.36067141357549765},atlasBounds:{left:52.5,bottom:7.5,right:69.5,top:14.5}},{unicode:46,advance:.26318359375,planeBounds:{left:.051032680313645884,bottom:-.027092319686354116,right:.20189700718635412,top:.12377200718635412},atlasBounds:{left:501.5,bottom:221.5,right:510.5,top:230.5}},{unicode:47,advance:.412109375,planeBounds:{left:-.013733006073205867,bottom:-.08573505127848349,right:.4053345685732059,top:.7356373950284835},atlasBounds:{left:252.5,bottom:206.5,right:277.5,top:255.5}},{unicode:48,advance:.5615234375,planeBounds:{left:.037458384830081196,bottom:-.030073418674698794,right:.5235767714199189,top:.7410109186746989},atlasBounds:{left:167.5,bottom:144.5,right:196.5,top:190.5}},{unicode:49,advance:.5615234375,planeBounds:{left:.06023674350936354,bottom:-.01998308280677056,right:.37872810024063647,top:.7343385515567705},atlasBounds:{left:488.5,bottom:97.5,right:507.5,top:142.5}},{unicode:50,advance:.5615234375,planeBounds:{left:.025334353719224725,bottom:-.01680925468177056,right:.5449781462807752,top:.7375123796817705},atlasBounds:{left:278.5,bottom:51.5,right:309.5,top:96.5}},{unicode:51,advance:.5615234375,planeBounds:{left:.028181041080081196,bottom:-.030073418674698794,right:.5142994276699189,top:.7410109186746989},atlasBounds:{left:197.5,bottom:144.5,right:226.5,top:190.5}},{unicode:52,advance:.5615234375,planeBounds:{left:.005886103858368255,bottom:-.02169206718177056,right:.5590553023916317,top:.7326295671817705},atlasBounds:{left:310.5,bottom:51.5,right:343.5,top:96.5}},{unicode:53,advance:.5615234375,planeBounds:{left:.055524791080081196,bottom:-.02657487968177056,right:.5416431776699189,top:.7277467546817705},atlasBounds:{left:344.5,bottom:51.5,right:373.5,top:96.5}},{unicode:54,advance:.5615234375,planeBounds:{left:.046003306705081196,bottom:-.034712090549698794,right:.5321216932949189,top:.7363722467996989},atlasBounds:{left:227.5,bottom:144.5,right:256.5,top:190.5}},{unicode:55,advance:.5615234375,planeBounds:{left:.018010134969224725,bottom:-.02169206718177056,right:.5376539275307752,top:.7326295671817705},atlasBounds:{left:374.5,bottom:51.5,right:405.5,top:96.5}},{unicode:56,advance:.5615234375,planeBounds:{left:.037702525455081196,bottom:-.030073418674698794,right:.5238209120449189,top:.7410109186746989},atlasBounds:{left:257.5,bottom:144.5,right:286.5,top:190.5}},{unicode:57,advance:.5615234375,planeBounds:{left:.029401744205081196,bottom:-.025434746799698794,right:.5155201307949189,top:.7456495905496989},atlasBounds:{left:287.5,bottom:144.5,right:316.5,top:190.5}},{unicode:58,advance:.2421875,planeBounds:{left:.046394008438645884,bottom:-.029431286627488215,right:.19725833531135412,top:.5572633178774882},atlasBounds:{left:439.5,bottom:61.5,right:448.5,top:96.5}},{unicode:59,advance:.21142578125,planeBounds:{left:.001066852327789419,bottom:-.16459733294591408,right:.1854565851722106,top:.556198895445914},atlasBounds:{left:406.5,bottom:53.5,right:417.5,top:96.5}},{unicode:60,advance:.50830078125,planeBounds:{left:.016948142433865897,bottom:.0726146348300812,right:.4527784200661341,top:.5587330214199189},atlasBounds:{left:394.5,bottom:21.5,right:420.5,top:50.5}},{unicode:61,advance:.548828125,planeBounds:{left:.051535540940937666,bottom:.17620354038436353,right:.5041285215590624,top:.49469489711563647},atlasBounds:{left:477.5,bottom:31.5,right:504.5,top:50.5}},{unicode:62,advance:.5224609375,planeBounds:{left:.047629290940937666,bottom:.0731029160800812,right:.5002222715590624,top:.5592213026699189},atlasBounds:{left:421.5,bottom:21.5,right:448.5,top:50.5}},{unicode:63,advance:.47216796875,planeBounds:{left:.016704001808865897,bottom:-.027876153049698794,right:.4525342794411341,top:.7432081842996989},atlasBounds:{left:317.5,bottom:144.5,right:343.5,top:190.5}},{unicode:64,advance:.89794921875,planeBounds:{left:.034064457306783605,bottom:-.23896750384690937,right:.8721996065996072,top:.7165065663469093},atlasBounds:{left:155.5,bottom:198.5,right:205.5,top:255.5}},{unicode:65,advance:.65234375,planeBounds:{left:-.008838044092129387,bottom:-.02169206718177056,right:.6616700753421295,top:.7326295671817705},atlasBounds:{left:237.5,bottom:51.5,right:277.5,top:96.5}},{unicode:66,advance:.62255859375,planeBounds:{left:.06464099434422473,bottom:-.02169206718177056,right:.5842847869057752,top:.7326295671817705},atlasBounds:{left:205.5,bottom:51.5,right:236.5,top:96.5}},{unicode:67,advance:.65087890625,planeBounds:{left:.038439807122511785,bottom:-.030073418674698794,right:.6251344116274882,top:.7410109186746989},atlasBounds:{left:344.5,bottom:144.5,right:379.5,top:190.5}},{unicode:68,advance:.65576171875,planeBounds:{left:.06301501010836826,bottom:-.02169206718177056,right:.6161842086416317,top:.7326295671817705},atlasBounds:{left:162.5,bottom:51.5,right:195.5,top:96.5}},{unicode:69,advance:.568359375,planeBounds:{left:.0652904160800812,bottom:-.02169206718177056,right:.5514088026699189,top:.7326295671817705},atlasBounds:{left:132.5,bottom:51.5,right:161.5,top:96.5}},{unicode:70,advance:.552734375,planeBounds:{left:.059675181705081196,bottom:-.02169206718177056,right:.5457935682949189,top:.7326295671817705},atlasBounds:{left:102.5,bottom:51.5,right:131.5,top:96.5}},{unicode:71,advance:.68115234375,planeBounds:{left:.040148791497511785,bottom:-.030073418674698794,right:.6268433960024882,top:.7410109186746989},atlasBounds:{left:380.5,bottom:144.5,right:415.5,top:190.5}},{unicode:72,advance:.712890625,planeBounds:{left:.062365588372511785,bottom:-.02169206718177056,right:.6490601928774882,top:.7326295671817705},atlasBounds:{left:30.5,bottom:51.5,right:65.5,top:96.5}},{unicode:73,advance:.27197265625,planeBounds:{left:.06917965680657412,bottom:-.02169206718177056,right:.20328128069342588,top:.7326295671817705},atlasBounds:{left:196.5,bottom:51.5,right:204.5,top:96.5}},{unicode:74,advance:.5517578125,planeBounds:{left:.007184947330081194,bottom:-.02657487968177056,right:.4933033339199188,top:.7277467546817705},atlasBounds:{left:.5,bottom:51.5,right:29.5,top:96.5}},{unicode:75,advance:.626953125,planeBounds:{left:.061633166497511785,bottom:-.02169206718177056,right:.6483277710024882,top:.7326295671817705},atlasBounds:{left:452.5,bottom:97.5,right:487.5,top:142.5}},{unicode:76,advance:.5380859375,planeBounds:{left:.06341786132300943,bottom:-.02169206718177056,right:.5327735449269906,top:.7326295671817705},atlasBounds:{left:423.5,bottom:97.5,right:451.5,top:142.5}},{unicode:77,advance:.873046875,planeBounds:{left:.05911847969322944,bottom:-.02169206718177056,right:.8134401140567705,top:.7326295671817705},atlasBounds:{left:377.5,bottom:97.5,right:422.5,top:142.5}},{unicode:78,advance:.712890625,planeBounds:{left:.062365588372511785,bottom:-.02169206718177056,right:.6490601928774882,top:.7326295671817705},atlasBounds:{left:341.5,bottom:97.5,right:376.5,top:142.5}},{unicode:79,advance:.6875,planeBounds:{left:.033395854136655315,bottom:-.030073418674698794,right:.6536158646133446,top:.7410109186746989},atlasBounds:{left:416.5,bottom:144.5,right:453.5,top:190.5}},{unicode:80,advance:.630859375,planeBounds:{left:.061550166358368255,bottom:-.02169206718177056,right:.6147193648916317,top:.7326295671817705},atlasBounds:{left:273.5,bottom:97.5,right:306.5,top:142.5}},{unicode:81,advance:.6875,planeBounds:{left:.030466166636655315,bottom:-.14391866037519643,right:.6506861771133446,top:.7445045978751964},atlasBounds:{left:214.5,bottom:202.5,right:251.5,top:255.5}},{unicode:82,advance:.61572265625,planeBounds:{left:.06350329135836826,bottom:-.02169206718177056,right:.6166724898916317,top:.7326295671817705},atlasBounds:{left:186.5,bottom:97.5,right:219.5,top:142.5}},{unicode:83,advance:.59326171875,planeBounds:{left:.020778681983368255,bottom:-.030073418674698794,right:.5739478805166317,top:.7410109186746989},atlasBounds:{left:454.5,bottom:144.5,right:487.5,top:190.5}},{unicode:84,advance:.5966796875,planeBounds:{left:.005480822747511787,bottom:-.02169206718177056,right:.5921754272524882,top:.7326295671817705},atlasBounds:{left:112.5,bottom:97.5,right:147.5,top:142.5}},{unicode:85,advance:.6484375,planeBounds:{left:.049098994483368255,bottom:-.02657487968177056,right:.6022681930166317,top:.7277467546817705},atlasBounds:{left:78.5,bottom:97.5,right:111.5,top:142.5}},{unicode:86,advance:.63623046875,planeBounds:{left:-.008269192599201152,bottom:-.02169206718177056,right:.6454762238492011,top:.7326295671817705},atlasBounds:{left:38.5,bottom:97.5,right:77.5,top:142.5}},{unicode:87,advance:.88720703125,planeBounds:{left:.011923628617731797,bottom:-.02169206718177056,right:.8835841838822683,top:.7326295671817705},atlasBounds:{left:220.5,bottom:97.5,right:272.5,top:142.5}},{unicode:88,advance:.626953125,planeBounds:{left:.004098979136655316,bottom:-.02169206718177056,right:.6243189896133446,top:.7326295671817705},atlasBounds:{left:.5,bottom:97.5,right:37.5,top:142.5}},{unicode:89,advance:.6005859375,planeBounds:{left:-.010793598988344685,bottom:-.02169206718177056,right:.6094264114883446,top:.7326295671817705},atlasBounds:{left:148.5,bottom:97.5,right:185.5,top:142.5}},{unicode:90,advance:.5986328125,planeBounds:{left:.024196650733368255,bottom:-.02169206718177056,right:.5773658492666317,top:.7326295671817705},atlasBounds:{left:307.5,bottom:97.5,right:340.5,top:142.5}},{unicode:91,advance:.26513671875,planeBounds:{left:.05437250871693295,bottom:-.17280296457569408,right:.27228764753306706,top:.8329592145756942},atlasBounds:{left:59.5,bottom:195.5,right:72.5,top:255.5}},{unicode:92,advance:.41015625,planeBounds:{left:.0014037126767941326,bottom:-.08573505127848349,right:.4204712873232059,top:.7356373950284835},atlasBounds:{left:278.5,bottom:206.5,right:303.5,top:255.5}},{unicode:93,advance:.26513671875,planeBounds:{left:-.020659233400995285,bottom:-.17280296457569408,right:.2140186084009953,top:.8329592145756942},atlasBounds:{left:94.5,bottom:195.5,right:108.5,top:255.5}},{unicode:94,advance:.41796875,planeBounds:{left:.006855376669722368,bottom:.33229482979472236,right:.40916024833027764,top:.7345997014552776},atlasBounds:{left:486.5,bottom:231.5,right:510.5,top:255.5}},{unicode:95,advance:.451171875,planeBounds:{left:-.017473255794918804,bottom:-.09553469482549765,right:.4686451307949188,top:.021804226075497646},atlasBounds:{left:70.5,bottom:7.5,right:99.5,top:14.5}},{unicode:96,advance:.30908203125,planeBounds:{left:.00391839948107648,bottom:.5860277898277895,right:.2553589442689235,top:.7704175226722105},atlasBounds:{left:36.5,bottom:3.5,right:51.5,top:14.5}},{unicode:97,advance:.5439453125,planeBounds:{left:.028181041080081196,bottom:-.029187146002488215,right:.5142994276699189,top:.5575074585024882},atlasBounds:{left:30.5,bottom:15.5,right:59.5,top:50.5}},{unicode:98,advance:.56103515625,planeBounds:{left:.048932994205081196,bottom:-.032187684160555265,right:.5350513807949189,top:.7724220591605554},atlasBounds:{left:304.5,bottom:207.5,right:333.5,top:255.5}},{unicode:99,advance:.5234375,planeBounds:{left:.024518931705081196,bottom:-.029187146002488215,right:.5106373182949189,top:.5575074585024882},atlasBounds:{left:.5,bottom:15.5,right:29.5,top:50.5}},{unicode:100,advance:.56396484375,planeBounds:{left:.026227916080081196,bottom:-.032187684160555265,right:.5123463026699189,top:.7724220591605554},atlasBounds:{left:334.5,bottom:207.5,right:363.5,top:255.5}},{unicode:101,advance:.52978515625,planeBounds:{left:.026472056705081196,bottom:-.029187146002488215,right:.5125904432949189,top:.5575074585024882},atlasBounds:{left:468.5,bottom:61.5,right:497.5,top:96.5}},{unicode:102,advance:.34716796875,planeBounds:{left:.004575110905578838,bottom:-.022177918535555265,right:.3733545765944212,top:.7824318247855554},atlasBounds:{left:364.5,bottom:207.5,right:386.5,top:255.5}},{unicode:103,advance:.56103515625,planeBounds:{left:.026960337955081196,bottom:-.22888445766762702,right:.5130787245449189,top:.558962582667627},atlasBounds:{left:28.5,bottom:143.5,right:57.5,top:190.5}},{unicode:104,advance:.55078125,planeBounds:{left:.049826556565937666,bottom:-.01892352016762703,right:.5024195371840624,top:.768923520167627},atlasBounds:{left:.5,bottom:143.5,right:27.5,top:190.5}},{unicode:105,advance:.24267578125,planeBounds:{left:.046882289688645884,bottom:-.01680925468177056,right:.19774661656135412,top:.7375123796817705},atlasBounds:{left:498.5,bottom:145.5,right:507.5,top:190.5}},{unicode:106,advance:.23876953125,planeBounds:{left:-.048979545900995285,bottom:-.2324562772148376,right:.1856982959009953,top:.7397804959648377},atlasBounds:{left:140.5,bottom:197.5,right:154.5,top:255.5}},{unicode:107,advance:.5068359375,planeBounds:{left:.044294322330081196,bottom:-.01892352016762703,right:.5304127089199189,top:.768923520167627},atlasBounds:{left:58.5,bottom:143.5,right:87.5,top:190.5}},{unicode:108,advance:.24267578125,planeBounds:{left:.05428707868157412,bottom:-.01892352016762703,right:.18838870256842588,top:.768923520167627},atlasBounds:{left:477.5,bottom:208.5,right:485.5,top:255.5}},{unicode:109,advance:.87646484375,planeBounds:{left:.04430890170737297,bottom:-.024304333502488215,right:.832155942042627,top:.5623902710024882},atlasBounds:{left:116.5,bottom:15.5,right:163.5,top:50.5}},{unicode:110,advance:.5517578125,planeBounds:{left:.049826556565937666,bottom:-.024304333502488215,right:.5024195371840624,top:.5623902710024882},atlasBounds:{left:60.5,bottom:15.5,right:87.5,top:50.5}},{unicode:111,advance:.5703125,planeBounds:{left:.025090213094224725,bottom:-.029187146002488215,right:.5447340056557752,top:.5575074585024882},atlasBounds:{left:193.5,bottom:15.5,right:224.5,top:50.5}},{unicode:112,advance:.56103515625,planeBounds:{left:.048444712955081196,bottom:-.22644305141762702,right:.5345630995449189,top:.561403988917627},atlasBounds:{left:447.5,bottom:208.5,right:476.5,top:255.5}},{unicode:113,advance:.568359375,planeBounds:{left:.025983775455081196,bottom:-.22644305141762702,right:.5121021620449189,top:.561403988917627},atlasBounds:{left:417.5,bottom:208.5,right:446.5,top:255.5}},{unicode:114,advance:.33837890625,planeBounds:{left:.045180595002291775,bottom:-.024304333502488215,right:.34690924874770823,top:.5623902710024882},atlasBounds:{left:449.5,bottom:61.5,right:467.5,top:96.5}},{unicode:115,advance:.515625,planeBounds:{left:.021669814448009427,bottom:-.029187146002488215,right:.4910254980519906,top:.5575074585024882},atlasBounds:{left:164.5,bottom:15.5,right:192.5,top:50.5}},{unicode:116,advance:.32666015625,planeBounds:{left:-.019433670483564695,bottom:-.02877457520298586,right:.3158203892335647,top:.675258950202986},atlasBounds:{left:418.5,bottom:54.5,right:438.5,top:96.5}},{unicode:117,advance:.55126953125,planeBounds:{left:.048117572190937666,bottom:-.034069958502488215,right:.5007105528090624,top:.5526246460024882},atlasBounds:{left:88.5,bottom:15.5,right:115.5,top:50.5}},{unicode:118,advance:.484375,planeBounds:{left:-.002092396419918806,bottom:-.02080579450955998,right:.4840259901699188,top:.5491261070095601},atlasBounds:{left:331.5,bottom:16.5,right:360.5,top:50.5}},{unicode:119,advance:.75146484375,planeBounds:{left:-.002649098431770561,bottom:-.02080579450955998,right:.7516725359317705,top:.5491261070095601},atlasBounds:{left:225.5,bottom:16.5,right:270.5,top:50.5}},{unicode:120,advance:.49560546875,planeBounds:{left:-.0046143729128470395,bottom:-.02080579450955998,right:.4982667166628471,top:.5491261070095601},atlasBounds:{left:300.5,bottom:16.5,right:330.5,top:50.5}},{unicode:121,advance:.47314453125,planeBounds:{left:-.007219349544918806,bottom:-.23645281704262702,right:.4788990370449188,top:.551394223292627},atlasBounds:{left:387.5,bottom:208.5,right:416.5,top:255.5}},{unicode:122,advance:.49560546875,planeBounds:{left:.018007705073009427,bottom:-.02080579450955998,right:.4873633886769906,top:.5491261070095601},atlasBounds:{left:271.5,bottom:16.5,right:299.5,top:50.5}},{unicode:123,advance:.33837890625,planeBounds:{left:.011572188891435306,bottom:-.20234398020069408,right:.3468262486085647,top:.8034181989506942},atlasBounds:{left:73.5,bottom:195.5,right:93.5,top:255.5}},{unicode:124,advance:.24365234375,planeBounds:{left:.06315671142450235,bottom:-.15466084787519643,right:.18049563232549765,top:.7337624103751964},atlasBounds:{left:206.5,bottom:202.5,right:213.5,top:255.5}},{unicode:125,advance:.33837890625,planeBounds:{left:-.010156326733564695,bottom:-.20234398020069408,right:.3250977329835647,top:.8034181989506942},atlasBounds:{left:38.5,bottom:195.5,right:58.5,top:255.5}},{unicode:126,advance:.68017578125,planeBounds:{left:.046984728997511785,bottom:.1766063915990047,right:.6336793335024882,top:.4112842334009953},atlasBounds:{left:.5,bottom:.5,right:35.5,top:14.5}}],kerning:[]},Pg=class{constructor(t,e,n,s,a){z(this,"text"),z(this,"style"),z(this,"points"),z(this,"anchor"),z(this,"onClick"),this.text=t,this.style=e,this.points=n,this.anchor=s||0,this.onClick=a}},Tl={name:"untitled connectome",nodeColormap:"warm",nodeColormapNegative:"winter",nodeMinColor:0,nodeMaxColor:4,nodeScale:3,edgeColormap:"warm",edgeColormapNegative:"winter",edgeMin:2,edgeMax:6,edgeScale:1,legendLineThickness:0},Bl=class Yg extends Sr{constructor(e,n){super(new Float32Array([]),new Uint32Array([]),n.name,new Uint8Array([]),1,!0,e,n),z(this,"gl"),z(this,"nodesChanged"),this.gl=e,this.type="connectome",this.nodes&&this.updateLabels(),this.nodesChanged=new EventTarget}static convertLegacyConnectome(e){const n={nodes:[],edges:[],...Tl};for(const a in e)if(a in Tl){const o=a;n[o]=e[o]}const s=e.nodes;for(let a=0;a<s.names.length;a++)n.nodes.push({name:s.names[a],x:s.X[a],y:s.Y[a],z:s.Z[a],colorValue:s.Color[a],sizeValue:s.Size[a]});for(let a=0;a<s.names.length-1;a++)for(let o=a+1;o<s.names.length;o++){const c=e.edges[a*s.names.length+o];n.edges.push({first:a,second:o,colorValue:c})}return n}static convertFreeSurferConnectome(e,n="warm"){let s=!0;if("data_type"in e?e.data_type!=="fs_pointset"&&(s=!1):s=!1,"points"in e||(s=!1),!s)throw Error("not a valid FreeSurfer json pointset");const a=e.points.map(c=>({name:Array.isArray(c.comments)&&c.comments.length>0&&"text"in c.comments[0]?c.comments[0].text:"",x:c.coordinates.x,y:c.coordinates.y,z:c.coordinates.z,colorValue:1,sizeValue:1,metadata:c.comments}));return{...Tl,nodeColormap:n,edgeColormap:n,nodes:a,edges:[]}}updateLabels(){const e=this.nodes;if(e&&e.length>0){const n=e.reduce((f,m)=>f.sizeValue>m.sizeValue?f:m).sizeValue;let s,a;if(typeof this.nodeMinColor<"u"&&isFinite(this.nodeMinColor))s=this.nodeMinColor;else{s=e[0].colorValue;for(let f=1;f<e.length;f++)e[f].colorValue<s&&(s=e[f].colorValue)}if(typeof this.nodeMaxColor<"u"&&isFinite(this.nodeMaxColor))a=this.nodeMaxColor;else{a=e[0].colorValue;for(let f=1;f<e.length;f++)e[f].colorValue>a&&(a=e[f].colorValue)}const o=$t.colormap(this.nodeColormap,this.colormapInvert),c=$t.colormap(this.nodeColormapNegative,this.colormapInvert),h="nodeColormapNegative"in this,u=this.legendLineThickness?this.legendLineThickness:0;for(let f=0;f<e.length;f++){let m=e[f].colorValue,g=!1;if(h&&m<0&&(g=!0,m=-m),s<a){if(m<s){Y.warn("color value lower than min");continue}m=(m-s)/(a-s)}else m=1;m=Math.round(Math.max(Math.min(255,m*255)))*4;let A=[o[m],o[m+1],o[m+2],255];g&&(A=[c[m],c[m+1],c[m+2],255]),A=A.map(v=>v/255),Y.debug("adding label for ",e[f]),e[f].label=new Pg(e[f].name,{textColor:A,bulletScale:e[f].sizeValue/n,bulletColor:A,lineWidth:u,lineColor:A,textScale:1,textAlignment:"left",lineTerminator:"none"},[e[f].x,e[f].y,e[f].z]),Y.debug("label for node:",e[f].label)}}}addConnectomeNode(e){if(Y.debug("adding node",e),!this.nodes)throw new Error("nodes not defined");this.nodes.push(e),this.updateLabels(),this.nodesChanged.dispatchEvent(new CustomEvent("nodeAdded",{detail:{node:e}}))}deleteConnectomeNode(e){const n=this.nodes.indexOf(e),s=this.edges;s&&(this.edges=s.filter(a=>a.first!==n&&a.second!==n)),this.nodes=this.nodes.filter(a=>a!==e),this.updateLabels(),this.updateConnectome(this.gl),this.nodesChanged.dispatchEvent(new CustomEvent("nodeDeleted",{detail:{node:e}}))}updateConnectomeNodeByIndex(e,n){this.nodes[e]=n,this.updateLabels(),this.updateConnectome(this.gl),this.nodesChanged.dispatchEvent(new CustomEvent("nodeChanged",{detail:{node:n}}))}updateConnectomeNodeByPoint(e,n){const s=this.nodes;if(!s)throw new Error("Node to update does not exist");const a=s.find(c=>At.arraysAreEqual([c.x,c.y,c.z],e));if(!a)throw new Error(`Node with point ${e} to update does not exist`);const o=s.findIndex(c=>c===a);this.updateConnectomeNodeByIndex(o,n)}addConnectomeEdge(e,n,s){const a=this.edges;let o=a.find(c=>(c.first===e||c.second===e)&&c.first+c.second===e+n);return o||(o={first:e,second:n,colorValue:s},a.push(o),this.updateConnectome(this.gl),o)}deleteConnectomeEdge(e,n){const s=this.edges,a=s.find(o=>(o.first===e||o.first===n)&&o.first+o.second===e+n);if(a)this.edges=s.filter(o=>o!==a);else throw new Error(`edge between ${e} and ${n} not found`);return this.updateConnectome(this.gl),a}findClosestConnectomeNode(e,n){const s=this.nodes;if(!s||s.length===0)return null;const a=s.map((o,c)=>({node:o,distance:Math.sqrt(Math.pow(o.x-e[0],2)+Math.pow(o.y-e[1],2)+Math.pow(o.z-e[2],2)),index:c})).filter(o=>o.distance<n).sort((o,c)=>o.distance-c.distance);return a.length>0?a[0].node:null}updateConnectome(e){const n=[],s=[],a=[];let o=$t.colormap(this.nodeColormap,this.colormapInvert),c=$t.colormap(this.nodeColormapNegative,this.colormapInvert),h="nodeColormapNegative"in this;this.nodeMinColor===void 0&&(this.nodeMinColor=NaN),this.nodeMaxColor===void 0&&(this.nodeMaxColor=NaN),this.edgeMin===void 0&&(this.edgeMin=NaN),this.edgeMax===void 0&&(this.edgeMax=NaN);let u=this.nodeMinColor,f=this.nodeMaxColor;if(!isFinite(u)||!isFinite(u)){const C=this.nodes;u=C[0].colorValue,f=C[0].colorValue;for(let T=0;T<C.length;T++)u=Math.min(u,C[T].colorValue),f=Math.max(f,C[T].colorValue)}const m=this.nodes,g=m.length;for(let C=0;C<g;C++){const T=m[C].sizeValue*this.nodeScale;if(T<=0)continue;let D=m[C].colorValue,M=!1;if(h&&D<0&&(M=!0,D=-D),u<f){if(D<u)continue;D=(D-u)/(f-u)}else D=1;D=Math.round(Math.max(Math.min(255,D*255)))*4;let E=[o[D],o[D+1],o[D+2],255];M&&(E=[c[D],c[D+1],c[D+2],255]);const R=ut(m[C].x,m[C].y,m[C].z);bs.makeColoredSphere(s,n,a,T,R,E)}o=$t.colormap(this.edgeColormap,this.colormapInvert),c=$t.colormap(this.edgeColormapNegative,this.colormapInvert),h="edgeColormapNegative"in this;const A=this.edges;if(A!==void 0&&A.length>0){if(u=this.edgeMin,f=this.edgeMax,!isFinite(u)||!isFinite(u)){u=A[0].colorValue,f=A[0].colorValue;for(let C=0;C<A.length;C++)u=Math.min(u,A[C].colorValue),f=Math.max(f,A[C].colorValue)}for(const C of A){let T=C.colorValue;const D=h&&T<0;D&&(T=-T);const M=T*this.edgeScale;if(M<=0)continue;if(u<f){if(T<u)continue;T=(T-u)/(f-u)}else T=1;T=Math.round(Math.max(Math.min(255,T*255)))*4;let E=[o[T],o[T+1],o[T+2],255];D&&(E=[c[T],c[T+1],c[T+2],255]);const R=ut(m[C.first].x,m[C.first].y,m[C.first].z),B=ut(m[C.second].x,m[C.second].y,m[C.second].z);bs.makeColoredCylinder(s,n,a,R,B,M,E)}}const v=new Float32Array(s),x=new Uint32Array(n),y=As.getExtents(v);this.furthestVertexFromOrigin=y.mxDx,this.extentsMin=y.extentsMin,this.extentsMax=y.extentsMax;const w=this.generatePosNormClr(v,x,new Uint8Array(a));e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,Uint32Array.from(x),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,Float32Array.from(w),e.STATIC_DRAW),this.indexCount=n.length}updateMesh(e){this.updateConnectome(e),this.updateLabels()}json(){const e={};for(const n in this)(n in Tl||n==="nodes"||n==="edges")&&(e[n]=this[n]);return e}static async loadConnectomeFromUrl(e,n){const a=await(await fetch(n)).json();return new Yg(e,a)}};function xx(t,e,n){if(!t.dimsRAS||!t.matRAS||!t.pixDimsRAS||!t.vox2mm)throw new Error("Cannot create NiivueObject3D: Missing required RAS properties or vox2mm access on NVImage.");const s=t.dimsRAS,a=t.matRAS,o=t.pixDimsRAS,c=-.5,h=-.5,u=-.5,f=s[1]-1+.5,m=s[2]-1+.5,g=s[3]-1+.5,A=t.vox2mm,v=A.call(t,[c,h,u],a),x=A.call(t,[c,m,u],a),y=A.call(t,[c,h,g],a),w=A.call(t,[c,m,g],a),C=A.call(t,[f,h,u],a),T=A.call(t,[f,m,u],a),D=A.call(t,[f,h,g],a),M=A.call(t,[f,m,g],a),E=[...y,0,0,1,...D,1,0,1,...M,1,1,1,...w,0,1,1,...v,0,0,0,...x,0,1,0,...T,1,1,0,...C,1,0,0],R=n.createBuffer();if(!R)throw new Error("Failed to create GL index buffer");n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,R);const B=[0,3,2,2,1,0,4,7,6,6,5,4,5,6,2,2,3,5,4,0,1,1,7,4,7,1,2,2,6,7,4,5,3,3,0,4];n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(B),n.STATIC_DRAW);const U=n.createBuffer();if(!U)throw new Error("Failed to create GL vertex buffer");n.bindBuffer(n.ARRAY_BUFFER,U),n.bufferData(n.ARRAY_BUFFER,new Float32Array(E),n.STATIC_DRAW);const N=n.createVertexArray();if(!N)throw new Error("Failed to create GL VAO");n.bindVertexArray(N),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,R),n.bindBuffer(n.ARRAY_BUFFER,U);const S=24;n.enableVertexAttribArray(0),n.vertexAttribPointer(0,3,n.FLOAT,!1,S,0),n.enableVertexAttribArray(1),n.vertexAttribPointer(1,3,n.FLOAT,!1,S,12),n.bindVertexArray(null);const I=new bs(e,U,n.TRIANGLES,B.length,R,N),F=[...y,...D,...M,...w,...v,...x,...T,...C],L=lx(F);return I.extentsMin=L.min.slice(),I.extentsMax=L.max.slice(),I.furthestVertexFromOrigin=L.furthestVertexFromOrigin,I.originNegate=qa(L.origin),n4(I.originNegate,I.originNegate),I.fieldOfViewDeObliqueMM=[s[1]*o[1],s[2]*o[2],s[3]*o[3]],I}function yx(t){return new Promise((e,n)=>{let s;t instanceof File?s=Promise.resolve(t):s=new Promise((a,o)=>{t.file(a,o)}),s.then(a=>{const o=new FileReader;o.onload=()=>{typeof o.result=="string"?e(o.result):n(new Error("Expected a string from FileReader.result"))},o.onerror=()=>{n(o.error??new Error("Unknown FileReader error"))},o.readAsDataURL(a)}).catch(a=>n(a))})}function bx(t){const e=t.hdr.dims,n=t.permRAS,s=e[1]*e[2]*e[3],a=new Int16Array(s),o=[0,0,0];for(let v=0;v<3;v++)for(let x=0;x<3;x++)Math.abs(n[v])-1===x&&(o[x]=v*Math.sign(n[v]));let c=1;const h=[1,1,1],u=[!1,!1,!1];for(let v=0;v<o.length;v++)for(let x=0;x<o.length;x++)Math.abs(o[x])===v&&(h[x]=c,(o[x]<0||Object.is(o[x],-0))&&(u[x]=!0),c*=e[x+1]);let f=At.range(0,e[1]-1,1);u[0]&&(f=At.range(e[1]-1,0,-1));for(let v=0;v<e[1];v++)f[v]*=h[0];let m=At.range(0,e[2]-1,1);u[1]&&(m=At.range(e[2]-1,0,-1));for(let v=0;v<e[2];v++)m[v]*=h[1];let g=At.range(0,e[3]-1,1);u[2]&&(g=At.range(e[3]-1,0,-1));for(let v=0;v<e[3];v++)g[v]*=h[2];let A=0;for(let v=0;v<e[3];v++)for(let x=0;x<e[2];x++)for(let y=0;y<e[1];y++)a[f[y]+m[x]+g[v]]=t.img[A],A++;return a}function mm(t,e){const n=Math.floor(Math.log(t)/Math.log(10)),s=t/Math.pow(10,n);let a;return e?s<1.5?a=1:s<3?a=2:s<7?a=5:a=10:s<=1?a=1:s<=2?a=2:s<=5?a=5:a=10,a*Math.pow(10,n)}function Oa(t,e,n=4){const s=mm(e-t,!1),a=mm(s/(n-1),!0),o=Math.floor(t/a)*a,c=Math.ceil(e/a)*a;return[a,o,c,o===t&&c===e]}function gm(t,e){let n=Oa(t,e,3);return n[3]||(n=Oa(t,e,5)),n[3]||(n=Oa(t,e,4)),n[3]||(n=Oa(t,e,3)),n[3]||(n=Oa(t,e,5)),[n[0],n[1],n[2]]}function qn(t){return t*(Math.PI/180)}function Kh(t,e,n,s){let a=-t,o=-e;return isFinite(n)&&isFinite(s)&&(a=n,o=s),a>o&&([a,o]=[o,a]),[a,o]}function Ge(t,e=[0,1,2]){const n=ee();return n[0]=t[e[0]],n[1]=t[e[1]],n[2]=t[e[2]],n}function Am(t){const e=ie(1,0,0,0),n=Wi();return ze(n,e,t),n[0]}function wx(t,e,n,s){const a=ie(t,e,n,1),o=Ae(s);ii(o,o),a[0]=a[0]*2-1,a[1]=a[1]*2-1,a[2]=a[2]*2-1;const c=Wi();return ze(c,a,o),c[3]===0||(c[0]/=c[3],c[1]/=c[3],c[2]/=c[3]),c}function Cx(t){const e=[5960464477539063e-23,152587890625e-16,.00390625,1];return(t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3])/255}function Qh(t,e,n){return Math.min(Math.max(t,e),n)}function Sx(t){const e=t.length;let n=0;const s=new Uint8Array(e+Math.ceil(.01*e)),a=new Int8Array(s.buffer);let o=0;for(;n<e;){let c=t[n];n++;let h=1;for(;h<129&&n<e&&t[n]===c;)n++,h++;if(h>1){a[o]=-h+1,o++,s[o]=c,o++;continue}for(;n<e&&!(h>127||n+2<e&&c!==t[n]&&t[n+2]===t[n]&&t[n+1]===t[n]);)c=t[n],n++,h++;s[o]=h-1,o++;for(let u=0;u<h;u++)s[o]=t[n-h+u],o++}return Y.info("PackBits "+e+" -> "+o+" bytes (x"+e/o+")"),s.slice(0,o)}function pm(t,e){const n=new Uint8Array(t.buffer),s=new Int8Array(n.buffer);let a=0;const o=new Uint8Array(e);let c=0;for(;a<n.length;){const h=s[a];if(a++,h<0){const u=s[a];a++;for(let f=0;f<1-h;f++)o[c]=u,c++}else for(let u=0;u<h+1;u++)o[c]=s[a],a++,c++}return o}function vm(t,e){return t.scl_slope===0&&(t.scl_slope=1),e*t.scl_slope+t.scl_inter}var gs=["ASC","BYU","DFS","FSM","PIAL","ORIG","INFLATED","SMOOTHWM","SPHERE","WHITE","G","GEO","GII","ICO","MZ3","NV","OBJ","OFF","PLY","SRF","STL","TCK","TRACT","TRI","TRK","TT","TRX","VTK","WRL","X3D","JCON","JSON"],xm=0,Mx=1,Ex=2,Rl=33984,Ul=33985,jh=33986,Dx=33987,Tx=33988,ym=33989,bm=33990,gr=33991,wm=33992,Bx=33993,Cm=33994,Rx=33995,Ux=33996,Fx=33997,Vx=33998,Ix=33999,Sm={filename:"",isSaveDrawing:!1,volumeByIndex:0},Nx=class{constructor(t=Kn){z(this,"loaders",{}),z(this,"dicomLoader",null),z(this,"canvas",null),z(this,"_gl",null),z(this,"isBusy",!1),z(this,"needsRefresh",!1),z(this,"colormapTexture",null),z(this,"colormapLists",[]),z(this,"volumeTexture",null),z(this,"gradientTexture",null),z(this,"gradientTextureAmount",0),z(this,"renderGradientValues",!1),z(this,"drawTexture",null),z(this,"drawUndoBitmaps",[]),z(this,"drawLut",$t.makeDrawLut("$itksnap")),z(this,"drawOpacity",.8),z(this,"clickToSegmentIsGrowing",!1),z(this,"clickToSegmentGrowingBitmap",null),z(this,"clickToSegmentXY",[0,0]),z(this,"renderDrawAmbientOcclusion",.4),z(this,"colorbarHeight",0),z(this,"drawPenLocation",[NaN,NaN,NaN]),z(this,"drawPenAxCorSag",-1),z(this,"drawFillOverwrites",!0),z(this,"drawPenFillPts",[]),z(this,"overlayTexture",null),z(this,"overlayTextureID",null),z(this,"sliceMMShader"),z(this,"sliceV1Shader"),z(this,"orientCubeShader"),z(this,"orientCubeShaderVAO",null),z(this,"rectShader"),z(this,"rectOutlineShader"),z(this,"renderShader"),z(this,"lineShader"),z(this,"line3DShader"),z(this,"passThroughShader"),z(this,"renderGradientShader"),z(this,"renderGradientValuesShader"),z(this,"renderSliceShader"),z(this,"renderVolumeShader"),z(this,"pickingMeshShader"),z(this,"pickingImageShader"),z(this,"colorbarShader"),z(this,"fontShader",null),z(this,"fiberShader"),z(this,"fontTexture",null),z(this,"circleShader"),z(this,"matCapTexture",null),z(this,"bmpShader",null),z(this,"bmpTexture",null),z(this,"thumbnailVisible",!1),z(this,"bmpTextureWH",1),z(this,"growCutShader"),z(this,"orientShaderAtlasU",null),z(this,"orientShaderAtlasI",null),z(this,"orientShaderU",null),z(this,"orientShaderI",null),z(this,"orientShaderF",null),z(this,"orientShaderRGBU",null),z(this,"surfaceShader",null),z(this,"blurShader",null),z(this,"sobelBlurShader",null),z(this,"sobelFirstOrderShader",null),z(this,"sobelSecondOrderShader",null),z(this,"genericVAO",null),z(this,"unusedVAO",null),z(this,"crosshairs3D",null),z(this,"DEFAULT_FONT_GLYPH_SHEET",fm),z(this,"DEFAULT_FONT_METRICS",dm),z(this,"fontMetrics"),z(this,"fontMets",null),z(this,"backgroundMasksOverlays",0),z(this,"overlayOutlineWidth",0),z(this,"overlayAlphaShader",1),z(this,"position"),z(this,"extentsMin"),z(this,"extentsMax"),z(this,"resizeObserver",null),z(this,"resizeEventListener",null),z(this,"canvasObserver",null),z(this,"syncOpts",{"3d":!1,"2d":!1,zoomPan:!1,cal_min:!1,cal_max:!1,clipPlane:!1,gamma:!1,sliceType:!1,crosshair:!1}),z(this,"readyForSync",!1),z(this,"uiData",{mousedown:!1,touchdown:!1,mouseButtonLeftDown:!1,mouseButtonCenterDown:!1,mouseButtonRightDown:!1,mouseDepthPicker:!1,clickedTile:-1,pan2DxyzmmAtMouseDown:[0,0,0,1],prevX:0,prevY:0,currX:0,currY:0,currentTouchTime:0,lastTouchTime:0,touchTimer:null,doubleTouch:!1,isDragging:!1,dragStart:[0,0],dragEnd:[0,0],dragClipPlaneStartDepthAziElev:[0,0,0],lastTwoTouchDistance:0,multiTouchGesture:!1,windowX:0,windowY:0}),z(this,"back",null),z(this,"overlays",[]),z(this,"deferredVolumes",[]),z(this,"deferredMeshes",[]),z(this,"furthestVertexFromOrigin",100),z(this,"volScale",[]),z(this,"vox",[]),z(this,"mousePos",[0,0]),z(this,"screenSlices",[]),z(this,"cuboidVertexBuffer"),z(this,"otherNV",null),z(this,"volumeObject3D",null),z(this,"pivot3D",[0,0,0]),z(this,"furthestFromPivot",10),z(this,"currentClipPlaneIndex",0),z(this,"lastCalled",new Date().getTime()),z(this,"selectedObjectId",-1),z(this,"CLIP_PLANE_ID",1),z(this,"VOLUME_ID",254),z(this,"DISTANCE_FROM_CAMERA",-.54),z(this,"graph",{LTWH:[0,0,640,480],opacity:0,vols:[0],autoSizeMultiplanar:!1,normalizeValues:!1,isRangeCalMinMax:!1}),z(this,"meshShaders",[{Name:"Phong",Frag:E3},{Name:"Matte",Frag:T3},{Name:"Harmonic",Frag:R3},{Name:"Hemispheric",Frag:B3},{Name:"Crevice",Frag:M3},{Name:"Edge",Frag:w3},{Name:"Diffuse",Frag:C3},{Name:"Outline",Frag:b3},{Name:"Specular",Frag:S3},{Name:"Toon",Frag:y3},{Name:"Flat",Frag:cm},{Name:"Matcap",Frag:D3}]),z(this,"dragModes",{contrast:1,measurement:2,none:0,pan:3,slicer3D:4,callbackOnly:5}),z(this,"sliceTypeAxial",0),z(this,"sliceTypeCoronal",1),z(this,"sliceTypeSagittal",2),z(this,"sliceTypeMultiplanar",3),z(this,"sliceTypeRender",4),z(this,"onDragRelease",()=>{}),z(this,"onMouseUp",()=>{}),z(this,"onLocationChange",()=>{}),z(this,"onIntensityChange",()=>{}),z(this,"onClickToSegment",()=>{}),z(this,"onImageLoaded",()=>{}),z(this,"onMeshLoaded",()=>{}),z(this,"onFrameChange",()=>{}),z(this,"onError",()=>{}),z(this,"onColormapChange",()=>{}),z(this,"onInfo",()=>{}),z(this,"onWarn",()=>{}),z(this,"onDebug",()=>{}),z(this,"onVolumeAddedFromUrl",()=>{}),z(this,"onVolumeWithUrlRemoved",()=>{}),z(this,"onVolumeUpdated",()=>{}),z(this,"onMeshAddedFromUrl",()=>{}),z(this,"onMeshAdded",()=>{}),z(this,"onMeshWithUrlRemoved",()=>{}),z(this,"onZoom3DChange",()=>{}),z(this,"onAzimuthElevationChange",()=>{}),z(this,"onClipPlaneChange",()=>{}),z(this,"onCustomMeshShaderAdded",()=>{}),z(this,"onMeshShaderChanged",()=>{}),z(this,"onMeshPropertyChanged",()=>{}),z(this,"onDicomLoaderFinishedWithImages",()=>{}),z(this,"onDocumentLoaded",()=>{}),z(this,"document",new qh),z(this,"mediaUrlMap",new Map),z(this,"initialized",!1),z(this,"currentDrawUndoBitmap");for(const e in t)typeof t[e]=="function"?this[e]=t[e]:this.opts[e]=Kn[e]===void 0?Kn[e]:t[e];this.opts.forceDevicePixelRatio===0?this.uiData.dpr=window.devicePixelRatio||1:this.opts.forceDevicePixelRatio<0?this.uiData.dpr=1:this.uiData.dpr=this.opts.forceDevicePixelRatio,this.currentDrawUndoBitmap=this.opts.maxDrawUndoBitmaps,this.opts.drawingEnabled&&this.createEmptyDrawing(),this.opts.thumbnail.length>0&&(this.thumbnailVisible=!0),Y.setLogLevel(this.opts.logLevel)}get scene(){return this.document.scene}get opts(){return this.document.opts}get sliceMosaicString(){return this.document.opts.sliceMosaicString||""}set sliceMosaicString(t){this.document.opts.sliceMosaicString=t}get isAlphaClipDark(){return this.document.opts.isAlphaClipDark}set isAlphaClipDark(t){this.document.opts.isAlphaClipDark=t}cleanup(){this.resizeEventListener&&(window.removeEventListener("resize",this.resizeEventListener),this.resizeEventListener=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.canvasObserver&&(this.canvasObserver.disconnect(),this.canvasObserver=null),this.canvas&&this.opts.interactive&&(this.canvas.removeEventListener("mousedown",this.mouseDownListener.bind(this)),this.canvas.removeEventListener("mouseup",this.mouseUpListener.bind(this)),this.canvas.removeEventListener("mousemove",this.mouseMoveListener.bind(this)),this.canvas.removeEventListener("touchstart",this.touchStartListener.bind(this)),this.canvas.removeEventListener("touchend",this.touchEndListener.bind(this)),this.canvas.removeEventListener("touchmove",this.touchMoveListener.bind(this)),this.canvas.removeEventListener("wheel",this.wheelListener.bind(this)),this.canvas.removeEventListener("contextmenu",this.mouseContextMenuListener.bind(this)),this.canvas.removeEventListener("dblclick",this.resetBriCon.bind(this)),this.canvas.removeEventListener("dragenter",this.dragEnterListener.bind(this)),this.canvas.removeEventListener("dragover",this.dragOverListener.bind(this)),this.canvas.removeEventListener("drop",this.dropListener.bind(this)),this.canvas.removeEventListener("keyup",this.keyUpListener.bind(this)),this.canvas.removeEventListener("keydown",this.keyDownListener.bind(this)))}get volumes(){return this.document.volumes}set volumes(t){this.document.volumes=t}get meshes(){return this.document.meshes}set meshes(t){this.document.meshes=t}get drawBitmap(){return this.document.drawBitmap}set drawBitmap(t){this.document.drawBitmap=t}get volScaleMultiplier(){return this.scene.volScaleMultiplier}set volScaleMultiplier(t){this.setScale(t)}async saveScene(t="niivue.png"){function e(s,a){const o=document.createElement("a");document.body.appendChild(o),o.style.display="none";const c=window.URL.createObjectURL(s);o.href=c,o.download=a,o.click(),o.remove()}const n=this.canvas;if(!n)throw new Error("canvas not defined");this.drawScene(),n.toBlob(s=>{s&&(t===""&&(t=`niivue-screenshot-${new Date().toString()}.png`,t=t.replace(/\s/g,"_")),e(s,t))})}async attachTo(t,e=null){return await this.attachToCanvas(document.getElementById(t),e),Y.debug("attached to element with id: ",t),this}async attachToCanvas(t,e=null){return this.canvas=t,e===null&&(e=navigator.hardwareConcurrency>6,Y.debug("AntiAlias ",e," Threads ",navigator.hardwareConcurrency)),this.gl=this.canvas.getContext("webgl2",{alpha:!0,antialias:e}),Y.info("NIIVUE VERSION ",sm),this.canvas.parentElement.style.backgroundColor="black",this.opts.isResizeCanvas&&(this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.display="block",this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,this.resizeEventListener=()=>{requestAnimationFrame(()=>{this.resizeListener()})},window.addEventListener("resize",this.resizeEventListener),this.resizeObserver=new ResizeObserver(()=>{requestAnimationFrame(()=>{this.resizeListener()})}),this.resizeObserver.observe(this.canvas.parentElement),this.canvasObserver=new MutationObserver(n=>{for(const s of n)if(s.type==="childList"&&s.removedNodes.length>0&&Array.from(s.removedNodes).includes(this.canvas)){this.cleanup();break}}),this.canvasObserver.observe(this.canvas.parentElement,{childList:!0})),this.opts.interactive&&this.registerInteractions(),await this.init(),this.drawScene(),this}syncWith(t,e={"2d":!0,"3d":!0}){t instanceof Array||(t=[t]),this.otherNV=t,this.syncOpts={...e}}broadcastTo(t,e={"2d":!0,"3d":!0}){t instanceof Array||(t=[t]),this.otherNV=t,this.syncOpts=e}doSync3d(t){t.scene.renderAzimuth=this.scene.renderAzimuth,t.scene.renderElevation=this.scene.renderElevation,t.scene.volScaleMultiplier=this.scene.volScaleMultiplier}doSync2d(t){const e=this.frac2mm(this.scene.crosshairPos);t.scene.crosshairPos=t.mm2frac(e),t.scene.pan2Dxyzmm=An(this.scene.pan2Dxyzmm)}doSyncGamma(t){const e=this.scene.gamma,n=t.scene.gamma;e!==n&&t.setGamma(e)}doSyncZoomPan(t){t.scene.pan2Dxyzmm=An(this.scene.pan2Dxyzmm)}doSyncCrosshair(t){const e=this.frac2mm(this.scene.crosshairPos);t.scene.crosshairPos=t.mm2frac(e)}doSyncCalMin(t){this.volumes[0].cal_min!==t.volumes[0].cal_min&&(t.volumes[0].cal_min=this.volumes[0].cal_min,t.updateGLVolume())}doSyncCalMax(t){this.volumes[0].cal_max!==t.volumes[0].cal_max&&(t.volumes[0].cal_max=this.volumes[0].cal_max,t.updateGLVolume())}doSyncSliceType(t){t.setSliceType(this.opts.sliceType)}doSyncClipPlane(t){t.setClipPlane(this.scene.clipPlaneDepthAziElev)}sync(){if(!(!this.gl||!this.otherNV||typeof this.otherNV>"u")&&this.gl.canvas.matches(":focus"))for(let t=0;t<this.otherNV.length;t++)this.otherNV[t]!==this&&(this.syncOpts.gamma&&this.doSyncGamma(this.otherNV[t]),this.syncOpts.crosshair&&this.doSyncCrosshair(this.otherNV[t]),this.syncOpts.zoomPan&&this.doSyncZoomPan(this.otherNV[t]),this.syncOpts.sliceType&&this.doSyncSliceType(this.otherNV[t]),this.syncOpts.cal_min&&this.doSyncCalMin(this.otherNV[t]),this.syncOpts.cal_max&&this.doSyncCalMax(this.otherNV[t]),this.syncOpts.clipPlane&&this.doSyncClipPlane(this.otherNV[t]),this.syncOpts["2d"]&&this.doSync2d(this.otherNV[t]),this.syncOpts["3d"]&&this.doSync3d(this.otherNV[t]),this.otherNV[t].drawScene(),this.otherNV[t].createOnLocationChange())}arrayEquals(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((n,s)=>n===e[s])}resizeListener(){if(!(!this.canvas||!this.gl)){if(!this.opts.isResizeCanvas){this.opts.forceDevicePixelRatio>=0&&Y.warn("this.opts.forceDevicePixelRatio requires isResizeCanvas"),this.drawScene();return}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.display="block",this.opts.forceDevicePixelRatio===0?this.uiData.dpr=window.devicePixelRatio||1:this.opts.forceDevicePixelRatio<0?this.uiData.dpr=1:this.uiData.dpr=this.opts.forceDevicePixelRatio,Y.debug("devicePixelRatio: "+this.uiData.dpr),"width"in this.canvas.parentElement?(this.canvas.width=this.canvas.parentElement.width*this.uiData.dpr,this.canvas.height=this.canvas.parentElement.height*this.uiData.dpr):(this.canvas.width=this.canvas.offsetWidth*this.uiData.dpr,this.canvas.height=this.canvas.offsetHeight*this.uiData.dpr),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.drawScene()}}getRelativeMousePosition(t,e){if(e=e||t.target,!e)return;const n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}getNoPaddingNoBorderCanvasRelativeMousePosition(t,e){return e=e||t.target,this.getRelativeMousePosition(t,e)}mouseContextMenuListener(t){t.preventDefault()}mouseDownListener(t){t.preventDefault(),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,this.uiData.mousedown=!0,this.setDragStart(0,0),this.setDragEnd(0,0),Y.debug("mouse down"),Y.debug(t);const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(t,this.gl.canvas);if(!e)return;const[n,s]=[e.x*this.uiData.dpr,e.y*this.uiData.dpr];this.opts.clickToSegment&&(this.clickToSegmentXY=[n,s]);const a=this.getLabelAtPoint([n,s]);if(a){if(a.onClick){a.onClick(a);return}for(const o of this.meshes)if(o.type==="connectome")for(const c of o.nodes)c.label===a&&(this.scene.crosshairPos=this.mm2frac([c.x,c.y,c.z]),this.updateGLVolume(),this.drawScene())}this.uiData.clickedTile=this.tileIndex(n,s),t.button===xm&&t.shiftKey?(this.uiData.mouseButtonCenterDown=!0,this.mouseCenterButtonHandler(t)):t.button===xm?(this.uiData.mouseButtonLeftDown=!0,this.mouseLeftButtonHandler(t)):t.button===Ex?(this.uiData.mouseButtonRightDown=!0,this.mouseRightButtonHandler(t)):t.button===Mx&&(this.uiData.mouseButtonCenterDown=!0,this.mouseCenterButtonHandler(t))}mouseLeftButtonHandler(t){if(t.ctrlKey||this.opts.dragModePrimary===0){const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(t,this.gl.canvas);this.mouseDown(e.x,e.y),this.mouseClick(e.x,e.y)}else this.opts.dragModePrimary===1&&(this.uiData.windowX=t.x,this.uiData.windowY=t.y)}mouseCenterButtonHandler(t){const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(t,this.gl.canvas);this.mousePos=[e.x*this.uiData.dpr,e.y*this.uiData.dpr],this.opts.dragMode!==0&&(this.setDragStart(e.x,e.y),this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=An(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.dragClipPlaneStartDepthAziElev=this.scene.clipPlaneDepthAziElev)}mouseRightButtonHandler(t){const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(t,this.gl.canvas);this.mousePos=[e.x*this.uiData.dpr,e.y*this.uiData.dpr],this.opts.dragMode!==0&&(this.setDragStart(e.x,e.y),this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=An(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.dragClipPlaneStartDepthAziElev=this.scene.clipPlaneDepthAziElev)}calculateMinMaxVoxIdx(t){if(t.length>2)throw new Error("array must not contain more than two values");return[Math.floor(Math.min(t[0],t[1])),Math.floor(Math.max(t[0],t[1]))]}calculateNewRange({volIdx:t=0}={}){if(this.opts.sliceType===4&&this.sliceMosaicString.length<1||this.uiData.dragStart[0]===this.uiData.dragEnd[0]&&this.uiData.dragStart[1]===this.uiData.dragEnd[1])return;let e=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]);if(e[0]<0)return;const n=this.frac2vox(e,t);if(e=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]),e[0]<0)return;const s=this.frac2vox(e,t);let a=-Number.MAX_VALUE,o=Number.MAX_VALUE;const c=this.calculateMinMaxVoxIdx([n[0],s[0]]),h=this.calculateMinMaxVoxIdx([n[1],s[1]]),u=this.calculateMinMaxVoxIdx([n[2],s[2]]);n[0]-s[0]===0?c[1]=n[0]+1:n[1]-s[1]===0?h[1]=n[1]+1:n[2]-s[2]===0&&(u[1]=n[2]+1);const f=this.volumes[t].hdr,m=this.volumes[t].img;if(!f||!m)return;const g=f.dims[1],A=f.dims[2];for(let y=u[0];y<u[1];y++){const w=y*g*A;for(let C=h[0];C<h[1];C++){const T=C*g;for(let D=c[0];D<c[1];D++){const M=w+T+D;o>m[M]&&(o=m[M]),a<m[M]&&(a=m[M])}}}if(o>=a)return;const v=vm(f,o),x=vm(f,a);this.volumes[t].cal_min=v,this.volumes[t].cal_max=x,this.onIntensityChange(this.volumes[t])}generateMouseUpCallback(t,e){const n=this.tileIndex(this.uiData.dragStart[0],this.uiData.dragStart[1]),s=this.tileIndex(this.uiData.dragEnd[0],this.uiData.dragEnd[1]);let a=-1;n===s&&(a=s);let o=-1;a>=0&&(o=this.screenSlices[a].axCorSag);const c=this.frac2mm(t),h=this.frac2mm(e),u=ee();J2(u,ut(c[0],c[1],c[2]),ut(h[0],h[1],h[2]));const f=Xa(u),m=this.frac2vox(t),g=this.frac2vox(e);this.onDragRelease({fracStart:t,fracEnd:e,voxStart:m,voxEnd:g,mmStart:c,mmEnd:h,mmLength:f,tileIdx:a,axCorSag:o})}mouseUpListener(){function t(s){return Object.prototype.toString.call(s).indexOf("Function")>-1}const e={mouseButtonRightDown:this.uiData.mouseButtonRightDown,mouseButtonCenterDown:this.uiData.mouseButtonCenterDown,isDragging:this.uiData.isDragging,mousePos:this.mousePos,fracPos:this.canvasPos2frac(this.mousePos)};this.uiData.mousedown=!1,this.uiData.mouseButtonRightDown=!1;const n=this.uiData.mouseButtonCenterDown;if(this.uiData.mouseButtonCenterDown=!1,this.uiData.mouseButtonLeftDown=!1,this.drawPenFillPts.length>0&&this.drawPenFilled(),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,t(this.onMouseUp)&&this.onMouseUp(e),this.uiData.isDragging){this.uiData.isDragging=!1,this.opts.dragMode===5&&this.drawScene();const s=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]),a=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);if(this.generateMouseUpCallback(s,a),this.opts.dragMode===6||this.opts.dragMode!==1||n||this.uiData.dragStart[0]===this.uiData.dragEnd[0]&&this.uiData.dragStart[1]===this.uiData.dragEnd[1])return;this.calculateNewRange({volIdx:0}),this.refreshLayers(this.volumes[0],0)}this.drawScene()}checkMultitouch(t){if(this.uiData.touchdown&&!this.uiData.multiTouchGesture){const e=this.canvas.getBoundingClientRect();this.mouseDown(t.touches[0].clientX-e.left,t.touches[0].clientY-e.top),this.mouseClick(t.touches[0].clientX-e.left,t.touches[0].clientY-e.top)}}touchStartListener(t){t.preventDefault(),this.uiData.touchTimer||(this.uiData.touchTimer=setTimeout(()=>{this.resetBriCon(t)},this.opts.longTouchTimeout)),this.uiData.touchdown=!0,this.uiData.currentTouchTime=new Date().getTime();const e=this.uiData.currentTouchTime-this.uiData.lastTouchTime;if(e<this.opts.doubleTouchTimeout&&e>0){this.uiData.doubleTouch=!0,this.setDragStart(t.targetTouches[0].clientX-t.target.getBoundingClientRect().left,t.targetTouches[0].clientY-t.target.getBoundingClientRect().top),this.resetBriCon(t),this.uiData.lastTouchTime=this.uiData.currentTouchTime;return}else this.uiData.doubleTouch=!1,this.setDragStart(0,0),this.setDragEnd(0,0),this.uiData.lastTouchTime=this.uiData.currentTouchTime;this.uiData.touchdown&&t.touches.length<2?this.uiData.multiTouchGesture=!1:this.uiData.multiTouchGesture=!0,setTimeout(this.checkMultitouch.bind(this),1,t)}touchEndListener(t){if(t.preventDefault(),this.uiData.touchdown=!1,this.uiData.lastTwoTouchDistance=0,this.uiData.multiTouchGesture=!1,this.uiData.touchTimer&&(clearTimeout(this.uiData.touchTimer),this.uiData.touchTimer=null),this.uiData.isDragging){this.uiData.isDragging=!1,this.opts.dragMode===1&&(this.calculateNewRange(),this.refreshLayers(this.volumes[0],0));const e=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]),n=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);this.generateMouseUpCallback(e,n)}this.mouseUpListener()}windowingHandler(t,e,n=0){const s=this.uiData.windowX,a=this.uiData.windowY;let o=this.volumes[0].cal_min,c=this.volumes[0].cal_max;const h=this.volumes[0].global_min,u=this.volumes[0].global_max;e<a?(o+=1,c+=1):e>a&&(o-=1,c-=1),t>s?(o-=1,c+=1):t<s&&(o+=1,c-=1),c-o<1&&(c=o+1),o<h&&(o=h),c>u&&(c=u),o>c&&(o=c-1),this.volumes[n].cal_min=o,this.volumes[n].cal_max=c,this.refreshLayers(this.volumes[n],0),this.uiData.windowX=t,this.uiData.windowY=e}mouseLeaveListener(){this.clickToSegmentIsGrowing&&(Y.debug("Mouse left canvas, stopping clickToSegment preview."),this.clickToSegmentIsGrowing=!1,this.refreshDrawing(!0,!1)),this.opts.drawingEnabled&&!isNaN(this.drawPenLocation[0])&&(Y.debug("Mouse left canvas during drawing, resetting pen state."),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,this.drawPenFillPts=[]),this.uiData.isDragging&&(Y.debug("Mouse left canvas during drag, resetting drag state."),this.uiData.isDragging=!1,this.uiData.mouseButtonLeftDown=!1,this.uiData.mouseButtonCenterDown=!1,this.uiData.mouseButtonRightDown=!1,this.uiData.mousedown=!1,this.drawScene())}mouseMoveListener(t){if(this.uiData.mousedown){const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(t,this.gl.canvas);if(!e)return;const n=e.x*this.uiData.dpr,s=e.y*this.uiData.dpr;if(this.tileIndex(n,s)!==this.uiData.clickedTile)return;if(this.uiData.mouseButtonLeftDown){const o=this.opts.dragModePrimary===0,c=this.opts.dragModePrimary===1;t.ctrlKey||o?(this.mouseMove(e.x,e.y),this.mouseClick(e.x,e.y)):c&&this.windowingHandler(t.x,t.y)}else(this.uiData.mouseButtonRightDown||this.uiData.mouseButtonCenterDown)&&this.setDragEnd(e.x,e.y);this.drawScene(),this.uiData.prevX=this.uiData.currX,this.uiData.prevY=this.uiData.currY}else if(!this.uiData.mousedown&&this.opts.clickToSegment){const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(t,this.gl.canvas);if(!e)return;const n=e.x*this.uiData.dpr,s=e.y*this.uiData.dpr;this.mousePos=[n,s];const a=this.tileIndex(n,s);a>=0&&this.opts.drawingEnabled&&this.screenSlices[a].axCorSag<=2&&(this.clickToSegmentXY=[n,s],this.clickToSegmentIsGrowing=!0,this.doClickToSegment({x:n,y:s,tileIndex:a}))}}resetBriCon(t=null){if(this.uiData.isDragging)return;let e=!1;this.opts.sliceType===4&&(e=!0);let n=0,s=0;if(t!==null&&("targetTouches"in t?(n=t.targetTouches[0].clientX-t.target.getBoundingClientRect().left,s=t.targetTouches[0].clientY-t.target.getBoundingClientRect().top):(n=t.offsetX,s=t.offsetY),n*=this.uiData.dpr,s*=this.uiData.dpr,this.inRenderTile(n,s)>=0&&(e=!0)),e){this.uiData.mouseDepthPicker=!0,this.drawScene(),this.drawScene();return}this.opts.dragMode!==4&&(this.volumes.length<1||this.uiData.doubleTouch||(this.volumes[0].cal_min=this.volumes[0].robust_min,this.volumes[0].cal_max=this.volumes[0].robust_max,this.onIntensityChange(this.volumes[0]),this.refreshLayers(this.volumes[0],0),this.drawScene()))}setDragStart(t,e){t*=this.uiData.dpr,e*=this.uiData.dpr,this.uiData.dragStart[0]=t,this.uiData.dragStart[1]=e}setDragEnd(t,e){t*=this.uiData.dpr,e*=this.uiData.dpr,this.uiData.dragEnd[0]=t,this.uiData.dragEnd[1]=e}touchMoveListener(t){if(this.uiData.touchdown&&t.touches.length<2){const e=this.canvas.getBoundingClientRect();if(this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=An(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.doubleTouch&&this.uiData.isDragging){this.setDragEnd(t.targetTouches[0].clientX-t.target.getBoundingClientRect().left,t.targetTouches[0].clientY-t.target.getBoundingClientRect().top),this.drawScene();return}const n=this.opts.dragModePrimary===0,s=this.opts.dragModePrimary===1;n?(this.mouseClick(t.touches[0].clientX-e.left,t.touches[0].clientY-e.top),this.mouseMove(t.touches[0].clientX-e.left,t.touches[0].clientY-e.top)):s&&(this.windowingHandler(t.touches[0].pageX,t.touches[0].pageY),this.drawScene())}else this.handlePinchZoom(t)}handlePinchZoom(t){if(t.targetTouches.length===2&&t.changedTouches.length===2){const e=Math.hypot(t.touches[0].pageX-t.touches[1].pageX,t.touches[0].pageY-t.touches[1].pageY),n=this.canvas.getBoundingClientRect();this.mousePos=[t.touches[0].clientX-n.left,t.touches[0].clientY-n.top],e<this.uiData.lastTwoTouchDistance?this.sliceScroll2D(-.01,t.touches[0].clientX-n.left,t.touches[0].clientY-n.top):this.sliceScroll2D(.01,t.touches[0].clientX-n.left,t.touches[0].clientY-n.top),this.uiData.lastTwoTouchDistance=e}}keyUpListener(t){if(t.code===this.opts.clipPlaneHotKey){const e=new Date().getTime();if(e-this.lastCalled>this.opts.keyDebounceTime){switch(this.currentClipPlaneIndex=(this.currentClipPlaneIndex+1)%7,this.currentClipPlaneIndex){case 0:this.scene.clipPlaneDepthAziElev=[2,0,0];break;case 1:this.scene.clipPlaneDepthAziElev=[0,270,0];break;case 2:this.scene.clipPlaneDepthAziElev=[0,90,0];break;case 3:this.scene.clipPlaneDepthAziElev=[0,0,0];break;case 4:this.scene.clipPlaneDepthAziElev=[0,180,0];break;case 5:this.scene.clipPlaneDepthAziElev=[0,0,-90];break;case 6:this.scene.clipPlaneDepthAziElev=[0,0,90];break}this.setClipPlane(this.scene.clipPlaneDepthAziElev)}this.lastCalled=e}else if(t.code===this.opts.viewModeHotKey){const e=new Date().getTime();e-this.lastCalled>this.opts.keyDebounceTime&&(this.setSliceType((this.opts.sliceType+1)%5),this.lastCalled=e)}}keyDownListener(t){t.code==="KeyH"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth-1,this.scene.renderElevation):t.code==="KeyL"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth+1,this.scene.renderElevation):t.code==="KeyJ"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth,this.scene.renderElevation+1):t.code==="KeyK"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth,this.scene.renderElevation-1):t.code==="KeyH"&&this.opts.sliceType!==4?this.moveCrosshairInVox(-1,0,0):t.code==="KeyL"&&this.opts.sliceType!==4?this.moveCrosshairInVox(1,0,0):t.code==="KeyU"&&this.opts.sliceType!==4&&t.ctrlKey?this.moveCrosshairInVox(0,0,1):t.code==="KeyD"&&this.opts.sliceType!==4&&t.ctrlKey?this.moveCrosshairInVox(0,0,-1):t.code==="KeyJ"&&this.opts.sliceType!==4?this.moveCrosshairInVox(0,-1,0):t.code==="KeyK"&&this.opts.sliceType!==4?this.moveCrosshairInVox(0,1,0):t.code==="KeyM"&&this.opts.sliceType!==4?(this.opts.dragMode++,this.opts.dragMode>=4&&(this.opts.dragMode=0),Y.info("drag mode changed to ",kg[this.opts.dragMode])):t.code==="ArrowLeft"?this.setFrame4D(this.volumes[0].id,this.volumes[0].frame4D-1):t.code==="ArrowRight"?this.setFrame4D(this.volumes[0].id,this.volumes[0].frame4D+1):t.code==="Slash"&&t.shiftKey&&alert(`NIIVUE VERSION: ${sm}`)}wheelListener(t){if(t.preventDefault(),t.stopPropagation(),this.thumbnailVisible)return;const e=this.uiData.dragStart.reduce((u,f)=>u+f,0),n=this.uiData.dragEnd.reduce((u,f)=>u+f,0),s=e>0&&n>0;if(this.opts.dragMode===6&&s){const u=t.deltaY>0?1:-1;this.uiData.dragStart[0]<this.uiData.dragEnd[0]?(this.uiData.dragStart[0]-=u,this.uiData.dragEnd[0]+=u):(this.uiData.dragStart[0]+=u,this.uiData.dragEnd[0]-=u),this.uiData.dragStart[1]<this.uiData.dragEnd[1]?(this.uiData.dragStart[1]-=u,this.uiData.dragEnd[1]+=u):(this.uiData.dragStart[1]+=u,this.uiData.dragEnd[1]-=u),this.uiData.isDragging=!0,this.drawScene(),this.uiData.isDragging=!1;const f=this.tileIndex(this.uiData.dragStart[0],this.uiData.dragStart[1]);f>=0?this.generateMouseUpCallback(this.screenXY2TextureFrac(this.uiData.dragStart[0],this.uiData.dragStart[1],f),this.screenXY2TextureFrac(this.uiData.dragEnd[0],this.uiData.dragEnd[1],f)):Y.warn("Could not generate drag release callback for ROI selection: Invalid tile index.");return}let a=t.deltaY<0?-.01:.01;if(this.opts.invertScrollDirection&&(a=-a),this.opts.clickToSegment){a<0?(this.opts.clickToSegmentPercent-=.01,this.opts.clickToSegmentPercent=Math.max(this.opts.clickToSegmentPercent,0)):(this.opts.clickToSegmentPercent+=.01,this.opts.clickToSegmentPercent=Math.min(this.opts.clickToSegmentPercent,1));const u=this.clickToSegmentXY[0],f=this.clickToSegmentXY[1],m=this.tileIndex(u,f);m>=0&&this.screenSlices[m].axCorSag<=2&&(Y.debug(`Adjusting clickToSegment threshold: ${this.opts.clickToSegmentPercent.toFixed(3)}`),this.clickToSegmentIsGrowing=!0,this.doClickToSegment({x:u,y:f,tileIndex:m}));return}const o=this.canvas.getBoundingClientRect(),c=t.clientX-o.left,h=t.clientY-o.top;if(this.opts.dragMode===3&&this.inRenderTile(this.uiData.dpr*c,this.uiData.dpr*h)===-1){const u=a<0?1:-1;let f=this.scene.pan2Dxyzmm[3]*(1+10*(.01*u));f=Math.round(f*10)/10;const m=this.scene.pan2Dxyzmm[3]-f;this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=f),this.scene.pan2Dxyzmm[3]=f;const g=this.frac2mm(this.scene.crosshairPos);this.scene.pan2Dxyzmm[0]+=m*g[0],this.scene.pan2Dxyzmm[1]+=m*g[1],this.scene.pan2Dxyzmm[2]+=m*g[2],this.drawScene(),this.canvas.focus(),this.sync();return}this.sliceScroll2D(a,c,h)}registerInteractions(){if(!this.canvas)throw new Error("canvas undefined");this.canvas.addEventListener("mousedown",this.mouseDownListener.bind(this)),this.canvas.addEventListener("mouseup",this.mouseUpListener.bind(this)),this.canvas.addEventListener("mousemove",this.mouseMoveListener.bind(this)),this.canvas.addEventListener("mouseleave",this.mouseLeaveListener.bind(this)),this.canvas.addEventListener("touchstart",this.touchStartListener.bind(this)),this.canvas.addEventListener("touchend",this.touchEndListener.bind(this)),this.canvas.addEventListener("touchmove",this.touchMoveListener.bind(this)),this.canvas.addEventListener("wheel",this.wheelListener.bind(this)),this.canvas.addEventListener("contextmenu",this.mouseContextMenuListener.bind(this)),this.canvas.addEventListener("dblclick",this.resetBriCon.bind(this)),this.canvas.addEventListener("dragenter",this.dragEnterListener.bind(this),!1),this.canvas.addEventListener("dragover",this.dragOverListener.bind(this),!1),this.canvas.addEventListener("drop",t=>{this.dropListener(t).catch(console.error)},!1),this.canvas.setAttribute("tabindex","0"),this.canvas.addEventListener("keyup",this.keyUpListener.bind(this),!1),this.canvas.addEventListener("keydown",this.keyDownListener.bind(this),!1)}dragEnterListener(t){t.stopPropagation(),t.preventDefault()}dragOverListener(t){t.stopPropagation(),t.preventDefault()}getFileExt(t,e=!0){Y.debug("fullname: ",t);const n=/(?:\.([^.]+))?$/;let s=n.exec(t)[1];if(s=s.toUpperCase(),s==="GZ")s=n.exec(t.slice(0,-3))[1],s=s.toUpperCase();else if(s==="CBOR"){const a=s;s=n.exec(t.slice(0,-5))[1],s=s.toUpperCase(),s=`${s}.${a}`}return e?s:s.toLowerCase()}async addVolumeFromUrl(t){const e=await Qe.loadFromUrl(t);return this.document.addImageOptions(e,t),e.onColormapChange=this.onColormapChange,this.mediaUrlMap.set(e,t.url),this.onVolumeAddedFromUrl&&this.onVolumeAddedFromUrl(t,e),this.addVolume(e),e}async addVolumesFromUrl(t){const e=t.map(async s=>{const a=this.getFileExt(s.name||s.url);if(a==="DCM")throw new Error("DICOM files must be loaded using useDicomLoader");if(this.loaders[a]){let h=s.url;const u=this.loaders[a].toExt;let f=s.name||s.url;if(f=f.split("/").pop(),typeof s.url=="string"){const g=s.url;try{const A=await fetch(g);if(!A.ok)throw new Error(`Failed to load file: ${A.statusText}`);h=await A.arrayBuffer()}catch(A){throw new Error(`Failed to load url ${g}: ${A}`)}}const m=await this.loaders[a].loader(h);s.url=m,s.name=`${f}.${u}`}const o={url:s.url,headers:s.headers,name:s.name,colormap:s.colormap?s.colormap:s.colorMap,colormapNegative:s.colormapNegative?s.colormapNegative:s.colorMapNegative,opacity:s.opacity,urlImgData:s.urlImgData,cal_min:s.cal_min,cal_max:s.cal_max,trustCalMinMax:this.opts.trustCalMinMax,isManifest:s.isManifest,frame4D:s.frame4D,limitFrames4D:s.limitFrames4D||this.opts.limitFrames4D,colorbarVisible:s.colorbarVisible},c=await Qe.loadFromUrl(o);return this.document.addImageOptions(c,o),c.onColormapChange=this.onColormapChange,this.mediaUrlMap.set(c,o.url),this.onVolumeAddedFromUrl&&this.onVolumeAddedFromUrl(o,c),c}),n=await Promise.all(e);for(let s=0;s<n.length;s++)this.addVolume(n[s]);return n}getMediaByUrl(t){return[...this.mediaUrlMap.entries()].filter(e=>e[1]===t).map(e=>e[0]).pop()}removeVolumeByUrl(t){const e=this.getMediaByUrl(t);if(e)this.removeVolume(e);else throw new Error("No volume with URL present")}async traverseFileTree(t,e="",n){return new Promise(s=>{if(t.isFile)t.file(a=>{a.fullPath=e+a.name,a._webkitRelativePath=e+a.name,n.push(a),s(n)});else if(t.isDirectory){const a=t.createReader(),o=()=>{a.readEntries(c=>{if(c.length>0){const h=[];for(const u of c)h.push(this.traverseFileTree(u,e+t.name+"/",n));Promise.all(h).then(o).catch(u=>{throw u})}else s(n)})};o()}})}readDirectory(t){const e=t.createReader();let n=[];const s=async o=>{const c=[],h=async u=>new Promise((f,m)=>u.file(f,m));for(let u=0;u<o.length;u++)c.push(await h(o[u])),console.log(c);return c},a=()=>{e.readEntries(o=>{o.length?(n=n.concat(o),a()):s(n).then(async c=>{console.log(c)}).catch(c=>{throw c})})};return a(),n}isMeshExt(t){const e=this.getFileExt(t);return Y.debug("dropped ext"),Y.debug(e),gs.includes(e)}async loadFromArrayBuffer(t,e){const n=this.getFileExt(e);if(gs.includes(n)){await this.addMeshFromUrl({url:e,buffer:t});return}const s=Pl(e);s.buffer=t,s.name=e,await this.addVolumeFromUrl(s)}async loadFromFile(t){const e=this.getFileExt(t.name);if(gs.includes(e)){await Sr.loadFromFile({file:t,gl:this.gl,name:t.name}).then(n=>{this.addMesh(n)});return}await Qe.loadFromFile({file:t,name:t.name}).then(n=>{this.addVolume(n)})}useLoader(t,e,n){this.loaders={...this.loaders,[e.toUpperCase()]:{loader:t,toExt:n}}}useDicomLoader(t){this.dicomLoader=t}getDicomLoader(){return this.dicomLoader}async dropListener(t){if(t.stopPropagation(),t.preventDefault(),!this.opts.dragAndDropEnabled)return;const e=[],n=t.dataTransfer;if(!n)return;const s=n.getData("text/uri-list");if(s){const a=Pl(s),o=this.getFileExt(s);Y.debug("dropped ext"),Y.debug(o),gs.includes(o)?this.addMeshFromUrl({url:s}).catch(c=>{throw c}):o==="NVD"?this.loadDocumentFromUrl(s).catch(c=>{throw c}):this.addVolumeFromUrl(a).catch(c=>{throw c})}else{const a=n.items;if(a.length>0){!t.shiftKey&&!t.altKey&&(this.volumes=[],this.overlays=[],this.meshes=[]),this.closeDrawing();for(const o of Array.from(a)){const c=o.webkitGetAsEntry();if(Y.debug(c),!c)throw new Error("could not get entry from file");if(c.isFile){const h=this.getFileExt(c.name);let u;if(c.name.lastIndexOf("HEAD")!==-1)for(const f of Array.from(a)){const m=f.webkitGetAsEntry();if(!m)throw new Error("could not get paired entry");const g=c.name.substring(0,c.name.lastIndexOf("HEAD")),A=m.name.substring(0,m.name.lastIndexOf("BRIK"));g===A&&(u=m)}if(c.name.lastIndexOf("BRIK")!==-1)continue;if(this.loaders[h]){const f=await yx(c);await this.loadImages([{url:f,name:`${c.name}`}]);continue}if(gs.includes(h)){c.file(f=>{(async()=>{try{const m=await Sr.loadFromFile({file:f,gl:this.gl,name:f.name});this.addMesh(m)}catch(m){console.error("Error loading mesh:",m)}})().catch(m=>console.error(m))});continue}else if(h==="NVD"){c.file(f=>{(async()=>{try{const m=await qh.loadFromFile(f);await this.loadDocument(m),Y.debug("loaded document")}catch(m){console.error(m)}})().catch(m=>console.error(m))});break}c.file(f=>{(async()=>{try{if(u)u.file(m=>{(async()=>{try{const g=await Qe.loadFromFile({file:f,urlImgData:m,limitFrames4D:this.opts.limitFrames4D});this.addVolume(g)}catch(g){console.error(g)}})().catch(console.error)});else{const m=await Qe.loadFromFile({file:f,urlImgData:u,limitFrames4D:this.opts.limitFrames4D});t.altKey?(Y.debug("alt key detected: assuming this is a drawing overlay"),this.drawClearAllUndoBitmaps(),this.loadDrawing(m)):this.addVolume(m)}}catch(m){console.error(m)}})().catch(console.error)})}else c.isDirectory&&this.traverseFileTree(c,"",e).then(h=>{const u=this.getDicomLoader().loader;if(!u)throw new Error("No loader for DICOM files");u(h).then(async f=>{console.log(f);const m=f.map(g=>Qe.loadFromUrl({url:g.data,name:g.name,limitFrames4D:this.opts.limitFrames4D}));Promise.all(m).then(async g=>{console.log("from dicom loader"),console.log(g),await this.onDicomLoaderFinishedWithImages(g)}).catch(g=>{throw g})}).catch(f=>{console.error("Error loading DICOM files:",f)})}).catch(h=>{throw h})}}}this.drawScene()}setMultiplanarPadPixels(t){this.opts.multiplanarPadPixels=t,this.drawScene()}setMultiplanarLayout(t){typeof t=="string"&&(t=parseInt(t)),this.opts.multiplanarLayout=t,this.drawScene()}setCornerOrientationText(t){this.opts.isCornerOrientationText=t,this.updateGLVolume()}setHeroImage(t){this.opts.heroImageFraction=t,this.drawScene()}setRadiologicalConvention(t){this.opts.isRadiologicalConvention=t,this.updateGLVolume()}setDefaults(t={},e=!1){this.document.opts={...Kn},this.scene.sceneData={...Gl};for(const n in t)typeof t[n]=="function"?this[n]=t[n]:this.opts[n]=Kn[n]===void 0?Kn[n]:t[n];if(this.scene.pan2Dxyzmm=[0,0,0,1],e&&this.volumes&&this.volumes.length>0)for(let n=0;n<this.volumes.length;n++)this.volumes[n].cal_min=this.volumes[n].robust_min,this.volumes[n].cal_max=this.volumes[n].robust_max;this.updateGLVolume()}setMeshThicknessOn2D(t){this.opts.meshThicknessOn2D=t,this.updateGLVolume()}setSliceMosaicString(t){this.sliceMosaicString=t,this.updateGLVolume()}setSliceMM(t){this.opts.isSliceMM=t,this.updateGLVolume()}setAdditiveBlend(t){this.opts.isAdditiveBlend=t,this.updateGLVolume()}getRadiologicalConvention(){return this.opts.isRadiologicalConvention}setHighResolutionCapable(t){typeof t=="boolean"&&(t=t?0:-1),this.opts.forceDevicePixelRatio=t,this.resizeListener(),this.drawScene()}addVolume(t){this.volumes.push(t);const e=this.volumes.length===1?0:this.volumes.length-1;this.setVolume(t,e),this.onImageLoaded(t),Y.debug("loaded volume",t.name),Y.debug(t)}addMesh(t){this.meshes.push(t);const e=this.meshes.length===1?0:this.meshes.length-1;this.setMesh(t,e),this.onMeshLoaded(t)}getVolumeIndexByID(t){const e=this.volumes.length;for(let n=0;n<e;n++)if(this.volumes[n].id===t)return n;return-1}drawAddUndoBitmap(){if(!this.drawBitmap||this.drawBitmap.length<1){Y.debug("drawAddUndoBitmap error: No drawing open");return}this.currentDrawUndoBitmap++,this.currentDrawUndoBitmap>=this.opts.maxDrawUndoBitmaps&&(this.currentDrawUndoBitmap=0),this.drawUndoBitmaps[this.currentDrawUndoBitmap]=Sx(this.drawBitmap)}drawClearAllUndoBitmaps(){if(this.currentDrawUndoBitmap=this.opts.maxDrawUndoBitmaps,!(!this.drawUndoBitmaps||this.drawUndoBitmaps.length<1))for(let t=this.drawUndoBitmaps.length-1;t>=0;t--)this.drawUndoBitmaps[t]=new Uint8Array}drawUndo(){if(this.drawUndoBitmaps.length<1){Y.debug("undo bitmaps not loaded");return}if(this.currentDrawUndoBitmap--,this.currentDrawUndoBitmap<0&&(this.currentDrawUndoBitmap=this.drawUndoBitmaps.length-1),this.currentDrawUndoBitmap>=this.drawUndoBitmaps.length&&(this.currentDrawUndoBitmap=0),this.drawUndoBitmaps[this.currentDrawUndoBitmap].length<2){Y.debug("drawUndo is misbehaving");return}this.drawBitmap=pm(this.drawUndoBitmaps[this.currentDrawUndoBitmap],this.drawBitmap.length),this.refreshDrawing(!0)}loadDrawing(t){if(this.drawBitmap&&Y.debug("Overwriting open drawing!"),!this.back)throw new Error("back undefined");this.drawClearAllUndoBitmaps();const e=t.hdr.dims;if(e[1]!==this.back.hdr.dims[1]||e[2]!==this.back.hdr.dims[2]||e[3]!==this.back.hdr.dims[3])return Y.debug("drawing dimensions do not match background image"),!1;t.img.constructor!==Uint8Array&&Y.debug("Drawings should be UINT8");const n=t.permRAS,s=e[1]*e[2]*e[3];this.drawBitmap=new Uint8Array(s),this.drawTexture=this.r8Tex(this.drawTexture,gr,this.back.dims,!0);const a=[0,0,0];for(let x=0;x<3;x++)for(let y=0;y<3;y++)Math.abs(n[x])-1===y&&(a[y]=x*Math.sign(n[x]));let o=1;const c=[1,1,1],h=[!1,!1,!1];for(let x=0;x<a.length;x++)for(let y=0;y<a.length;y++)Math.abs(a[y])===x&&(c[y]=o,(a[y]<0||Object.is(a[y],-0))&&(h[y]=!0),o*=e[y+1]);let u=At.range(0,e[1]-1,1);h[0]&&(u=At.range(e[1]-1,0,-1));for(let x=0;x<e[1];x++)u[x]*=c[0];let f=At.range(0,e[2]-1,1);h[1]&&(f=At.range(e[2]-1,0,-1));for(let x=0;x<e[2];x++)f[x]*=c[1];let m=At.range(0,e[3]-1,1);h[2]&&(m=At.range(e[3]-1,0,-1));for(let x=0;x<e[3];x++)m[x]*=c[2];const g=t.img,A=this.drawBitmap;let v=0;for(let x=0;x<e[3];x++)for(let y=0;y<e[2];y++)for(let w=0;w<e[1];w++)A[u[w]+f[y]+m[x]]=g[v],v++;return this.drawAddUndoBitmap(),this.refreshDrawing(!1),this.drawScene(),!0}binarize(t){const e=t.hdr.dims,n=e[1]*e[2]*e[3],s=new Uint8Array(n);for(let a=0;a<n;a++)t.img[a]!==0&&(s[a]=1);t.img=s,t.hdr.datatypeCode=2,t.hdr.cal_min=0,t.hdr.cal_max=1}async loadDrawingFromUrl(t,e=!1){this.drawBitmap&&Y.debug("Overwriting open drawing!"),this.drawClearAllUndoBitmaps();let n=!1;try{const s=await Qe.loadFromUrl(Pl(t));e&&await this.binarize(s),n=this.loadDrawing(s)}catch{Y.error("loadDrawingFromUrl() failed to load "+t),this.drawClearAllUndoBitmaps()}return n}findOtsu(t=2){if(this.volumes.length<1)return[];const e=this.volumes[0].img,n=e.length;if(n<1)return[];const s=256,a=s-1,o=new Array(s).fill(0),c=this.volumes[0].cal_min,h=this.volumes[0].cal_max;if(h<=c)return[];const u=(h-c)/s;function f(C){return C*u+c}const m=(s-1)/Math.abs(h-c),g=this.volumes[0].hdr.scl_inter,A=this.volumes[0].hdr.scl_slope;for(let C=0;C<n;C++){let T=e[C]*A+g;T=Math.min(Math.max(T,c),h),T=Math.round((T-c)*m),o[T]++}const v=Array(s).fill(0).map(()=>Array(s).fill(0)),x=Array(s).fill(0).map(()=>Array(s).fill(0));for(let C=1;C<s;++C)v[C][C]=o[C],x[C][C]=C*o[C];for(let C=1;C<s-1;++C)v[1][C+1]=v[1][C]+o[C+1],x[1][C+1]=x[1][C]+(C+1)*o[C+1];for(let C=2;C<s;C++)for(let T=C+1;T<s;T++)v[C][T]=v[1][T]-v[1][C-1],x[C][T]=x[1][T]-x[1][C-1];for(let C=1;C<s;++C)for(let T=C+1;T<s;T++)v[C][T]!==0&&(v[C][T]=x[C][T]*x[C][T]/v[C][T]);let y=0;const w=[1/0,1/0,1/0];if(t>3)for(let C=0;C<s-3;C++)for(let T=C+1;T<s-2;T++)for(let D=T+1;D<s-1;D++){const M=v[0][C]+v[C+1][T]+v[T+1][D]+v[D+1][a];M>y&&(w[0]=C,w[1]=T,w[2]=D,y=M)}else if(t===3)for(let C=0;C<s-2;C++)for(let T=C+1;T<s-1;T++){const D=v[0][C]+v[C+1][T]+v[T+1][a];D>y&&(w[0]=C,w[1]=T,y=D)}else for(let C=0;C<s-1;C++){const T=v[0][C]+v[C+1][a];T>y&&(w[0]=C,y=T)}return[f(w[0]),f(w[1]),f(w[2])]}drawOtsu(t=2){if(this.volumes.length===0)return;const e=this.volumes[0].img.length,n=this.findOtsu(t);if(n.length<3)return;this.drawBitmap||this.createEmptyDrawing();const s=this.drawBitmap,a=this.volumes[0].img;for(let o=0;o<e;o++){if(s[o]!==0)continue;const c=a[o];c>n[0]&&(s[o]=1),c>n[1]&&(s[o]=2),c>n[2]&&(s[o]=3)}this.drawAddUndoBitmap(),this.refreshDrawing(!0)}removeHaze(t=5,e=0){const n=this.volumes[e].img,s=this.volumes[e].hdr,a=n.length;let o=2;(t===5||t===1)&&(o=4),(t===4||t===2)&&(o=3);const c=this.findOtsu(o);if(c.length<3)return;let h=c[0];t===1&&(h=c[2]),t===2&&(h=c[1]);const u=s.scl_inter,f=s.scl_slope,m=this.volumes[e].global_min;for(let g=0;g<a;g++)n[g]*f+u<h&&(n[g]=m);this.refreshLayers(this.volumes[e],0),this.drawScene()}async saveImage(t=Sm){var c;const e={...Sm,...t},{filename:n,isSaveDrawing:s,volumeByIndex:a}=e;if(Y.debug("saveImage",n,s,a),((c=this.back)==null?void 0:c.dims)===void 0)return Y.debug("No voxelwise image open"),!1;if(s){if(!this.drawBitmap)return Y.debug("No drawing open"),!1;const h=this.volumes[0].permRAS;if(h[0]===1&&h[1]===2&&h[2]===3)return Y.debug("saving drawing"),await this.volumes[0].saveToDisk(n,this.drawBitmap);{Y.debug("saving drawing");const u=this.volumes[0].hdr.dims,f=[0,0,0];for(let M=0;M<3;M++)for(let E=0;E<3;E++)Math.abs(h[M])-1===E&&(f[E]=M*Math.sign(h[M]));let m=1;const g=[1,1,1],A=[!1,!1,!1];for(let M=0;M<f.length;M++)for(let E=0;E<f.length;E++)Math.abs(f[E])===M&&(g[E]=m,(f[E]<0||Object.is(f[E],-0))&&(A[E]=!0),m*=u[E+1]);let v=At.range(0,u[1]-1,1);A[0]&&(v=At.range(u[1]-1,0,-1));for(let M=0;M<u[1];M++)v[M]*=g[0];let x=At.range(0,u[2]-1,1);A[1]&&(x=At.range(u[2]-1,0,-1));for(let M=0;M<u[2];M++)x[M]*=g[1];let y=At.range(0,u[3]-1,1);A[2]&&(y=At.range(u[3]-1,0,-1));for(let M=0;M<u[3];M++)y[M]*=g[2];const w=new Uint8Array(this.drawBitmap),C=new Uint8Array(u[1]*u[2]*u[3]);let T=0;for(let M=0;M<u[3];M++)for(let E=0;E<u[2];E++)for(let R=0;R<u[1];R++)C[T]=w[v[R]+x[E]+y[M]],T++;return Y.debug("saving drawing"),this.volumes[0].saveToDisk(n,C)}}return Y.debug("saving image"),this.volumes[a].saveToDisk(n)}getMeshIndexByID(t){if(typeof t=="number")return t>=this.meshes.length?-1:t;const e=this.meshes.length;for(let n=0;n<e;n++)if(this.meshes[n].id===t)return n;return-1}setMeshProperty(t,e,n){const s=this.getMeshIndexByID(t);if(s<0){Y.warn("setMeshProperty() id not loaded",t);return}this.meshes[s].setProperty(e,n,this.gl),this.updateGLVolume(),this.onMeshPropertyChanged(s,e,n)}indexNearestXYZmm(t,e,n,s){const a=this.getMeshIndexByID(t);return a<0?(Y.warn("indexNearestXYZmm() id not loaded",t),[NaN,NaN]):this.meshes[a].indexNearestXYZmm(e,n,s)}decimateHierarchicalMesh(t,e=3){const n=this.getMeshIndexByID(t);if(n<0){Y.warn("reverseFaces() id not loaded",t);return}const s=this.meshes[n].decimateHierarchicalMesh(this.gl,e);return this.updateGLVolume(),s}reverseFaces(t){const e=this.getMeshIndexByID(t);if(e<0){Y.warn("reverseFaces() id not loaded",t);return}this.meshes[e].reverseFaces(this.gl),this.updateGLVolume()}async setMeshLayerProperty(t,e,n,s){const a=this.getMeshIndexByID(t);if(a<0){Y.warn("setMeshLayerProperty() id not loaded",t);return}await this.meshes[a].setLayerProperty(e,n,s,this.gl),this.updateGLVolume()}setPan2Dxyzmm(t){this.scene.pan2Dxyzmm=t,this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=t[3]),this.drawScene()}setRenderAzimuthElevation(t,e){this.scene.renderAzimuth=t,this.scene.renderElevation=e,this.onAzimuthElevationChange(t,e),this.drawScene()}getOverlayIndexByID(t){const e=this.overlays.length;for(let n=0;n<e;n++)if(this.overlays[n].id===t)return n;return-1}setVolume(t,e=0){const n=this.volumes.length;if(e>n)return;const s=this.getVolumeIndexByID(t.id);e===0?(this.volumes.splice(s,1),this.volumes.unshift(t),this.back=this.volumes[0],this.overlays=this.volumes.slice(1)):e<0?(this.volumes.splice(this.getVolumeIndexByID(t.id),1),this.back=this.volumes[0],this.volumes.length>1?this.overlays=this.volumes.slice(1):this.overlays=[]):(this.volumes.splice(s,1),this.volumes.splice(e,0,t),this.overlays=this.volumes.slice(1),this.back=this.volumes[0]),this.updateGLVolume()}setMesh(t,e=0){this.meshes.forEach(a=>{Y.debug("MESH: ",a.name)});const n=this.meshes.length;if(e>n)return;const s=this.getMeshIndexByID(t.id);e===0?(this.meshes.splice(s,1),this.meshes.unshift(t)):e<0?this.meshes.splice(this.getMeshIndexByID(t.id),1):(this.meshes.splice(s,1),this.meshes.splice(e,0,t)),this.updateGLVolume(),this.meshes.forEach(a=>{Y.debug(a.name)})}removeVolume(t){if(this.setVolume(t,-1),this.mediaUrlMap.has(t)){const e=this.mediaUrlMap.get(t);this.onVolumeWithUrlRemoved(e),this.mediaUrlMap.delete(t)}this.drawScene()}removeVolumeByIndex(t){if(t>=this.volumes.length)throw new Error("Index of volume out of bounds");this.removeVolume(this.volumes[t])}removeMesh(t){if(t.unloadMesh(this.gl),this.setMesh(t,-1),this.mediaUrlMap.has(t)){const e=this.mediaUrlMap.get(t);this.onMeshWithUrlRemoved(e),this.mediaUrlMap.delete(t)}}removeMeshByUrl(t){const e=this.getMediaByUrl(t);e&&(this.removeMesh(e),this.mediaUrlMap.delete(e),this.onMeshWithUrlRemoved(t))}moveVolumeToBottom(t){this.setVolume(t,0)}moveVolumeUp(t){const e=this.getVolumeIndexByID(t.id);this.setVolume(t,e+1)}moveVolumeDown(t){const e=this.getVolumeIndexByID(t.id);this.setVolume(t,e-1)}moveVolumeToTop(t){this.setVolume(t,this.volumes.length-1)}mouseDown(t,e){t*=this.uiData.dpr,e*=this.uiData.dpr,this.mousePos=[t,e]}mouseMove(t,e){t*=this.uiData.dpr,e*=this.uiData.dpr;const n=(t-this.mousePos[0])/this.uiData.dpr,s=(e-this.mousePos[1])/this.uiData.dpr;this.mousePos=[t,e],!(this.inRenderTile(t,e)<0)&&(Math.abs(n)<1&&Math.abs(s)<1||(this.scene.renderAzimuth+=n,this.scene.renderElevation+=s,this.drawScene()))}sph2cartDeg(t,e){const n=-e*(Math.PI/180),s=(t-90)%360*(Math.PI/180),a=[Math.cos(n)*Math.cos(s),Math.cos(n)*Math.sin(s),Math.sin(n)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);return o<=0||(a[0]/=o,a[1]/=o,a[2]/=o),a}setClipPlane(t){const e=this.sph2cartDeg(t[1]+180,t[2]);this.scene.clipPlane=[e[0],e[1],e[2],t[0]],this.scene.clipPlaneDepthAziElev=t,this.onClipPlaneChange(this.scene.clipPlane),this.drawScene()}setCrosshairColor(t){this.opts.crosshairColor=t,this.drawScene()}setCrosshairWidth(t){this.opts.crosshairWidth=t,this.crosshairs3D&&(this.crosshairs3D.mm[0]=NaN),this.drawScene()}setDrawColormap(t){this.drawLut=$t.makeDrawLut(t),this.updateGLVolume()}setDrawingEnabled(t){this.opts.drawingEnabled=t,this.opts.drawingEnabled?this.drawBitmap||this.createEmptyDrawing():(this.clickToSegmentIsGrowing&&(this.clickToSegmentIsGrowing=!1,this.refreshDrawing(!0,!1)),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,this.drawPenFillPts=[]),this.drawScene()}setPenValue(t,e=!1){this.opts.penValue=t,this.opts.isFilledPen=e,this.drawScene()}setDrawOpacity(t){this.drawOpacity=t,this.drawScene()}setSelectionBoxColor(t){this.opts.selectionBoxColor=t}sliceScroll2D(t,e,n,s=!0){if(this.opts.scrollRequiresFocus&&this.canvas!==document.activeElement){Y.warn("Canvas element does not have focus. Scroll events will not be processed.");return}if(this.inGraphTile(e,n)){let a=this.volumes[0].frame4D;t>0&&a++,t<0&&a--,this.setFrame4D(this.volumes[0].id,a);return}if(t!==0&&this.opts.dragMode===3&&this.inRenderTile(this.uiData.dpr*e,this.uiData.dpr*n)===-1){let a=this.scene.pan2Dxyzmm[3]*(1+10*t);a=Math.round(a*10)/10;const o=this.scene.pan2Dxyzmm[3]-a;this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=a),this.scene.pan2Dxyzmm[3]=a;const c=this.frac2mm(this.scene.crosshairPos);this.scene.pan2Dxyzmm[0]+=o*c[0],this.scene.pan2Dxyzmm[1]+=o*c[1],this.scene.pan2Dxyzmm[2]+=o*c[2],this.drawScene(),this.canvas.focus(),this.sync();return}this.mouseClick(e,n,t,s)}setSliceType(t){return this.opts.sliceType=t,this.drawScene(),this}setOpacity(t,e){this.volumes[t].opacity=e,this.updateGLVolume()}setScale(t){this.scene.volScaleMultiplier=t,this.drawScene()}setClipPlaneColor(t){this.opts.clipPlaneColor=t,this.renderShader.use(this.gl),this.gl.uniform4fv(this.renderShader.uniforms.clipPlaneColor,this.opts.clipPlaneColor),this.drawScene()}setClipPlaneThick(t){this.opts.clipThick=t,this.renderShader.use(this.gl),this.gl.uniform1f(this.renderShader.uniforms.clipThick,this.opts.clipThick),this.drawScene()}setClipVolume(t,e){this.opts.clipVolumeLow=[Math.min(t[0],e[0]),Math.min(t[1],e[1]),Math.min(t[2],e[2])],this.opts.clipVolumeHigh=[Math.max(t[0],e[0]),Math.max(t[1],e[1]),Math.max(t[2],e[2])],this.renderShader.use(this.gl),this.gl.uniform3fv(this.renderShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.renderShader.uniforms.clipHi,this.opts.clipVolumeHigh),this.pickingImageShader.use(this.gl),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipHi,this.opts.clipVolumeHigh),this.drawScene()}async setVolumeRenderIllumination(t=0){this.renderGradientValues=Number.isNaN(t),this.renderShader=this.renderVolumeShader,this.renderGradientValues?this.renderShader=this.renderGradientValuesShader:(this.opts.gradientAmount=t,t>0||this.opts.gradientOpacity>0?this.renderShader=this.renderGradientShader:t<0&&(this.renderShader=this.renderSliceShader)),this.initRenderShader(this.renderShader,t),this.renderShader.use(this.gl),this.setClipPlaneColor(this.opts.clipPlaneColor),Number.isNaN(t)?this.gradientTextureAmount=1:this.gradientTextureAmount=t,!(this.volumes.length<1)&&(this.refreshLayers(this.volumes[0],0),this.drawScene())}async setGradientOpacity(t=0){this.opts.gradientOpacity=t,this.renderGradientValues?this.renderShader=this.renderGradientValuesShader:this.gradientTextureAmount>0||t>0?this.renderShader=this.renderGradientShader:this.gradientTextureAmount<0&&(this.renderShader=this.renderSliceShader),this.initRenderShader(this.renderShader,this.gradientTextureAmount),this.renderShader.use(this.gl),this.gradientTextureAmount>0&&this.refreshLayers(this.volumes[0],0),this.drawScene()}overlayRGBA(t){const e=t.hdr,n=e.dims[1]*e.dims[2]*e.dims[3],s=new Uint8ClampedArray(n*4),a=.2*Math.min(Math.min(e.dims[1],e.dims[2]),e.dims[3]),o=.5*e.dims[1],c=.5*e.dims[2],h=.5*e.dims[3];let u=0;for(let f=0;f<e.dims[3];f++)for(let m=0;m<e.dims[2];m++)for(let g=0;g<e.dims[1];g++){const A=Math.abs(g-o),v=Math.abs(m-c),x=Math.abs(f-h),y=Math.sqrt(A*A+v*v+x*x);let w=0;y<a&&(w=255),s[u++]=0,s[u++]=w,s[u++]=0,s[u++]=w*.5}return s}vox2mm(t,e){return At.vox2mm(t,e)}cloneVolume(t){return this.volumes[t].clone()}async loadDocumentFromUrl(t){const e=await qh.loadFromUrl(t);await this.loadDocument(e)}async loadDocument(t){this.volumes=[],this.meshes=[],this.document=t,this.document.labels=this.document.labels?this.document.labels:[];const e={...Kn,...t.opts};this.scene.pan2Dxyzmm=t.scene.pan2Dxyzmm?t.scene.pan2Dxyzmm:[0,0,0,1],this.document.opts=e,this.setClipPlane(this.scene.clipPlaneDepthAziElev),Y.debug("load document",t),this.mediaUrlMap.clear(),this.createEmptyDrawing();const n=t.encodedImageBlobs;for(let a=0;a<t.imageOptionsArray.length;a++){const o=t.imageOptionsArray[a],c=n[a];if(c){"colorMap"in o&&(o.colormap=o.colorMap);const h=await Qe.loadFromBase64({base64:c,...o});if(h){if(h.colormapLabel){const u=Object.keys(h.colormapLabel.lut).length,f=new Uint8ClampedArray(u);for(const m in h.colormapLabel.lut)f[m]=h.colormapLabel.lut[m];h.colormapLabel.lut=f}this.addVolume(h)}}}this.volumes.length>0&&(this.back=this.volumes[0]);for(const a of t.meshDataObjects??[]){const o={gl:this.gl,...a};a.offsetPt0&&(o.rgba255[3]=0,o.tris=new Uint32Array(a.offsetPt0)),Y.debug(o);const c=new Sr(o.pts,o.tris,o.name,o.rgba255,o.opacity,o.visible,this.gl,o.connectome,o.dpg,o.dps,o.dpv);a.offsetPt0&&(c.fiberGroupColormap=a.fiberGroupColormap,c.fiberColor=a.fiberColor,c.fiberDither=a.fiberDither,c.fiberRadius=a.fiberRadius,c.colormap=a.colormap),c.meshShaderIndex=o.meshShaderIndex,c.layers=o.layers,c.updateMesh(this.gl),Y.debug(c),this.addMesh(c)}if(t.data.connectomes)for(const a of t.data.connectomes){const o=JSON.parse(a),c=this.loadConnectomeAsMesh(o);c.updateMesh(this.gl),this.addMesh(c)}this.createEmptyDrawing();const s=t.encodedDrawingBlob;if(s){const a=await At.b64toUint8(s);if(a){const o=this.back.dims;let c=o[1]*o[2]*o[3];if(a.length-352===c&&(c+=352),a.length!==c)throw new Error(`drawBitmap size does not match the texture dimensions (${o[1]}×${o[2]}×${o[3]}) ${c} != ${o[1]*o[2]*o[3]}.`);this.drawBitmap=a,this.refreshDrawing()}}return await this.setGradientOpacity(this.opts.gradientOpacity),await this.setVolumeRenderIllumination(this.opts.gradientAmount),this.updateGLVolume(),this.drawScene(),this.onDocumentLoaded(t),this}async generateLoadDocumentJavaScript(t,e){const n=this.json(),s=await At.compressToBase64String(JSON.stringify(n));return`
        ${e}

        async function saveNiivueAsHtml(pageName) {
          //get new docstring
          const docString = nv1.json();
          const html =
          document.getElementsByTagName("html")[0]
              .innerHTML.replace(base64, await NVUtilities.compressToBase64String(JSON.stringify(docString)));
          NVUtilities.download(html, pageName, "application/html");
        }

        var nv1 = new Niivue();
        await nv1.attachTo("${t}");
        var base64 = "${s}";
        NVUtilities.decompressBase64String(base64).then((jsonText) => {
          var json = JSON.parse(jsonText); // string -> JSON
          var doc = NVDocument.loadFromJSON(json);
          nv1.loadDocument(doc);
          nv1.updateGLVolume();
        });

      `}async generateHTML(t="gl1",e){return`<!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="utf-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta name="viewport" content="width=device-width,initial-scale=1.0" />
            <title>Save as HTML</title>
            <style>
            html {
              height: auto;
              min-height: 100%;
              margin: 0;
            }
            body {
              display: flex;
              flex-direction: column;
              margin: 0;
              min-height: 100%;
              width: 100%;
              position: absolute;
              font-family: system-ui, Arial, Helvetica, sans-serif;
              background: #ffffff;
              color: black;
              user-select: none; /* Standard syntax */
            }
            header {
              margin: 10px;
            }
            main {
              flex: 1;
              background: #000000;
              position: relative;
            }
            footer {
              margin: 10px;
            }
            canvas {
              position: absolute;
              cursor: crosshair;
            }
            canvas:focus {
              outline: 0px;
            }
            div {
              display: table-row;
              background-color: blue;
            }
            </style>
          </head>
          <body>
            <noscript>niivue requires JavaScript.</noscript>
            <header>
            Save the current scene as HTML
            <button id="save">Save as HTML</button>
            </header>
            <main>
              <canvas id="gl1"></canvas>
            </main>
            <script type="module" async>
              ${await this.generateLoadDocumentJavaScript(t,e)}
              function saveAsHtml() {
                saveNiivueAsHtml("page.html");
              }
              // assign our event handler
              var button = document.getElementById("save");
              button.onclick = saveAsHtml;
            <\/script>
          </body>
        </html>`}async saveHTML(t="untitled.html",e="gl1",n){const s=await this.generateHTML(e,n);return At.download(s,t,"application/html")}json(){return this.document.opts=this.opts,this.document.scene=this.scene,this.document.volumes=this.volumes,this.document.meshes=this.meshes,this.drawScene(),this.document.previewImageDataURL=this.canvas.toDataURL(),this.document.json()}async saveDocument(t="untitled.nvd",e=!0){return this.document.title=t,Y.debug("saveDocument",this.volumes[0]),this.drawScene(),this.document.previewImageDataURL=this.canvas.toDataURL(),this.document.volumes=this.volumes,this.document.meshes=this.meshes,this.document.download(t,e)}async loadImages(t){const e=[],n=[];for(const s of t)if("url"in s){const a=this.getFileExt(s.name?s.name:s.url);if(this.loaders[a]){const o=this.loaders[a].toExt.toUpperCase();gs.includes(o)?n.push(s):e.push(s);continue}gs.includes(a.toUpperCase())?n.push(s):e.push(s)}return e.length>0&&await this.loadVolumes(e),n.length>0&&await this.loadMeshes(n),this}async loadDicoms(t){if(!this.getDicomLoader())throw new Error("No dicom loader set. Please set a dicom loader before loading dicoms");this.drawScene(),this.volumes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);const e=t.map(async s=>{let a=null;if(s.isManifest)a=await Qe.fetchDicomData(s.url);else{const m=await fetch(s.url);if(!m.ok)throw new Error(`Failed to load file: ${m.statusText}`);const g=await m.arrayBuffer();a=[{name:s.url.split("/").pop(),data:g}]}const o=this.getDicomLoader().loader,c=await o(a);console.log(c);const h=c[0].name,u=c[0].data;return await Qe.loadFromUrl({url:u,name:h})}),n=await Promise.all(e);return n.length===1?this.addVolume(n[0]):this.onDicomLoaderFinishedWithImages(n),this}async loadVolumes(t){return this.drawScene(),this.thumbnailVisible?(this.deferredVolumes=t,this):(this.volumes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),await this.addVolumesFromUrl(t),this)}async addMeshFromUrl(t){const e=this.getFileExt(t.url);if(e==="JCON"||e==="JSON"){const a=await(await fetch(t.url,{})).json(),o=this.loadConnectomeAsMesh(a);return this.mediaUrlMap.set(o,t.url),this.onMeshAddedFromUrl(t,o),this.addMesh(o),o}const n=await Sr.loadFromUrl({...t,gl:this.gl});return this.mediaUrlMap.set(n,t.url),this.onMeshAddedFromUrl(t,n),this.addMesh(n),n}async addMeshesFromUrl(t){const e=t.map(async s=>{const a=this.getFileExt(s.name||s.url);if(this.loaders[a]){let c=s.url;const h=this.loaders[a].toExt;let u=s.name||s.url;if(u=u.split("/").pop(),typeof s.url=="string"){const v=s.url;try{const x=await fetch(v);if(!x.ok)throw new Error(`Failed to load file: ${x.statusText}`);c=await x.arrayBuffer()}catch(x){throw new Error(`Failed to load url ${v}: ${x}`)}}const{positions:f,indices:m,colors:g=null}=await this.loaders[a].loader(c);s.name=`${u}.${h}`;const A=await As.createMZ3Async(f,m,!1,g);s.buffer=A}if(a==="JCON"||a==="JSON"){const h=await(await fetch(s.url,{})).json(),u=this.loadConnectomeAsMesh(h);return this.mediaUrlMap.set(u,s.url),this.onMeshAddedFromUrl(s,u),u}const o=await Sr.loadFromUrl({...s,gl:this.gl});return this.mediaUrlMap.set(o,s.url),this.onMeshAddedFromUrl(s,o),o}),n=await Promise.all(e);for(let s=0;s<n.length;s++)this.addMesh(n[s]);return n}async loadMeshes(t){return this.drawScene(),this.thumbnailVisible?(this.deferredMeshes=t,this):(this.initialized,this.meshes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),await this.addMeshesFromUrl(t),this.updateGLVolume(),this.drawScene(),this)}async loadConnectomeFromUrl(t,e={}){const s=await(await fetch(t,{headers:e})).json();return this.loadConnectome(s)}async loadFreeSurferConnectomeFromUrl(t,e={}){const s=await(await fetch(t,{headers:e})).json();return this.loadFreeSurferConnectome(s)}async loadFreeSurferConnectome(t){const e=Bl.convertFreeSurferConnectome(t);return this.loadConnectome(e)}handleNodeAdded(t){const e=t.detail.node,n=[1,1,1,1];this.addLabel(e.name,{textColor:n,bulletScale:1,bulletColor:n,lineWidth:0,lineColor:n,lineTerminator:"none",textScale:1},[e.x,e.y,e.z]),this.drawScene()}loadConnectomeAsMesh(t){let e=t;if("data_type"in t&&t.data_type==="fs_pointset")e=Bl.convertFreeSurferConnectome(t),Y.warn("converted FreeSurfer connectome",e);else if("nodes"in t){const n=t.nodes;"names"in n&&"X"in n&&"Y"in n&&"Z"in n&&"Color"in n&&"Size"in n&&(e=Bl.convertLegacyConnectome(t),Y.warn("converted legacy connectome",e))}else throw new Error("not a known connectome format");return new Bl(this.gl,e)}loadConnectome(t){this.drawScene(),this.meshes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);const e=this.loadConnectomeAsMesh(t);return this.addMesh(e),this.drawScene(),this}createEmptyDrawing(){if(this.back===null||!this.back.dims||Math.min(Math.min(this.back.dims[1],this.back.dims[2]),this.back.dims[3])<1)return;const e=this.back.dims[1]*this.back.dims[2]*this.back.dims[3];this.drawBitmap=new Uint8Array(e),this.clickToSegmentGrowingBitmap=new Uint8Array(e),this.drawClearAllUndoBitmaps(),this.drawAddUndoBitmap(),this.drawTexture=this.r8Tex(this.drawTexture,gr,this.back.dims,!0),this.refreshDrawing(!1)}r16Tex(t,e,n,s){t&&this.gl.deleteTexture(t),t=this.gl.createTexture(),this.gl.activeTexture(e),this.gl.bindTexture(this.gl.TEXTURE_3D,t),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16I,n[1],n[2],n[3]);const a=n[1]*n[2]*n[3];return s.length!==a&&(s=new Int16Array(a)),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n[1],n[2],n[3],this.gl.RED_INTEGER,this.gl.SHORT,s),t}drawGrowCut(){if(!this.back||!this.back.dims)throw new Error("back not defined");const t=this.back.hdr,e=this.gl,n=t.dims[1]*t.dims[2]*t.dims[3];if(!this.drawBitmap||this.drawBitmap.length!==n){Y.debug("bitmap dims are wrong");return}const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.disable(e.CULL_FACE),e.viewport(0,0,this.back.dims[1],this.back.dims[2]),e.disable(e.BLEND);let a=bx(this.back);const o=this.r16Tex(null,Rx,this.back.dims,a);for(let M=1;M<n;M++)a[M]=this.drawBitmap[M];const c=this.r16Tex(null,Vx,this.back.dims,a),h=this.r16Tex(null,Ix,this.back.dims,a),u=1e4;for(let M=1;M<n;M++)a[M]>0&&(a[M]=u);const f=this.r16Tex(null,Ux,this.back.dims,a),m=this.r16Tex(null,Fx,this.back.dims,a);e.bindVertexArray(this.genericVAO);const g=this.growCutShader;g.use(e);const A=128;e.uniform1i(g.uniforms.finalPass,0),e.uniform1i(g.uniforms.backTex,11);for(let M=0;M<A;M++){e.uniform1i(g.uniforms.labelTex,14),e.uniform1i(g.uniforms.strengthTex,12);for(let E=0;E<this.back.dims[3];E++){const R=1/this.back.dims[3]*(E+.5);e.uniform1f(g.uniforms.coordZ,R),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,h,0,E),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT1,m,0,E),e.drawBuffers([e.COLOR_ATTACHMENT0,e.COLOR_ATTACHMENT1]),e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE&&Y.error("Incomplete framebuffer"),e.drawArrays(e.TRIANGLE_STRIP,0,4)}M===A-1&&e.uniform1i(g.uniforms.finalPass,1),e.uniform1i(g.uniforms.labelTex,15),e.uniform1i(g.uniforms.strengthTex,13);for(let E=0;E<this.back.dims[3];E++){const R=1/this.back.dims[3]*(E+.5);e.uniform1f(g.uniforms.coordZ,R),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,c,0,E),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT1,f,0,E),e.drawBuffers([e.COLOR_ATTACHMENT0,e.COLOR_ATTACHMENT1]),e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE&&Y.error("Incomplete framebuffer"),e.drawArrays(e.TRIANGLE_STRIP,0,4)}}e.drawBuffers([e.COLOR_ATTACHMENT0]);const v=e.COLOR_ATTACHMENT1,x=c;e.readBuffer(v);const y=e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT),w=e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE);(y!==e.RED_INTEGER||w!==e.SHORT)&&Y.debug("readPixels will fail."),a=new Int16Array;const C=this.back.dims[1]*this.back.dims[2],T=new Int16Array(C);for(let M=0;M<this.back.dims[3];M++)e.framebufferTextureLayer(e.FRAMEBUFFER,v,x,0,M),e.readPixels(0,0,this.back.dims[1],this.back.dims[2],y,w,T),a=Int16Array.from([...a,...T]);let D=a[0];for(let M=0;M<a.length;M++)D=Math.max(D,a[M]);for(let M=1;M<n;M++)this.drawBitmap[M]=a[M];e.deleteTexture(o),e.deleteTexture(f),e.deleteTexture(m),e.deleteTexture(c),e.deleteTexture(h),e.bindVertexArray(this.unusedVAO),e.viewport(0,0,e.canvas.width,e.canvas.height),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(s),this.drawAddUndoBitmap(),this.refreshDrawing(!0)}drawPt(t,e,n,s,a=null){var g;if(a===null&&(a=this.drawBitmap),!((g=this.back)!=null&&g.dims))throw new Error("back.dims not set");const o=this.back.dims[1],c=this.back.dims[2],h=this.back.dims[3];t=Math.min(Math.max(t,0),o-1),e=Math.min(Math.max(e,0),c-1),n=Math.min(Math.max(n,0),h-1),a[t+e*o+n*o*c]=s;const u=this.drawPenAxCorSag===0,f=this.drawPenAxCorSag===1,m=this.drawPenAxCorSag===2;if(this.opts.penSize>1){const A=Math.floor(this.opts.penSize/2);for(let v=-A;v<=A;v++)for(let x=-A;x<=A;x++)u?a[t+v+(e+x)*o+n*o*c]=s:f?a[t+v+e*o+(n+x)*o*c]=s:m&&(a[t+(e+x)*o+(n+v)*o*c]=s)}}drawPenLine(t,e,n){const s=Math.abs(t[0]-e[0]),a=Math.abs(t[1]-e[1]),o=Math.abs(t[2]-e[2]);let c=-1,h=-1,u=-1;e[0]>t[0]&&(c=1),e[1]>t[1]&&(h=1),e[2]>t[2]&&(u=1);let f=t[0],m=t[1],g=t[2];const A=e[0],v=e[1],x=e[2];if(s>=a&&s>=o){let y=2*a-s,w=2*o-s;for(;f!==A;)f+=c,y>=0&&(m+=h,y-=2*s),w>=0&&(g+=u,w-=2*s),y+=2*a,w+=2*o,this.drawPt(f,m,g,n)}else if(a>=s&&a>=o){let y=2*s-a,w=2*o-a;for(;m!==v;)m+=h,y>=0&&(f+=c,y-=2*a),w>=0&&(g+=u,w-=2*a),y+=2*s,w+=2*o,this.drawPt(f,m,g,n)}else{let y=2*a-o,w=2*s-o;for(;g!==x;)g+=u,y>=0&&(m+=h,y-=2*o),w>=0&&(f+=c,w-=2*o),y+=2*a,w+=2*s,this.drawPt(f,m,g,n)}}drawingBinaryDilationWithSeed(t,e=6){try{let n=function(w){return w[0]+w[1]*h+w[2]*u};const s=this.drawBitmap,a=this.back.dims[1],o=this.back.dims[2],c=this.back.dims[3],h=a,u=a*o,f=u*c,m=n(t);if(m<0||m>=f)throw new Error("Seed index is out of bounds.");const g=s[m];if(g===0)throw new Error("Seed voxel is not part of a filled cluster.");const A=s.slice();for(let w=0;w<f;w++)A[w]=A[w]===g?1:0;this.drawFloodFillCore(A,m,e);const v=s.slice(),x=[],y=[-u,u,-a,a,-1,1];x.push(...y),e>6&&x.push(-a-1,-a+1,a-1,a+1,-u-a,-u+a,-u-1,-u+1,u-a,u+a,u-1,u+1),e>18&&x.push(-u-a-1,-u-a+1,-u+a-1,-u+a+1,u-a-1,u-a+1,u+a-1,u+a+1);for(let w=0;w<f;w++)if(A[w]===2){const C=w%a,T=Math.floor(w%u/a),D=Math.floor(w/u);for(const M of x){const E=w+M;if(E<0||E>=f)continue;const R=E%a,B=Math.floor(E%u/a),U=Math.floor(E/u);Math.abs(R-C)>1||Math.abs(B-T)>1||Math.abs(U-D)>1||s[E]===0&&(v[E]=g)}}this.drawBitmap=v,this.drawAddUndoBitmap(),this.refreshDrawing(!0)}catch(n){Y.error("Error in drawingBinaryDilationWithSeed:",n)}}drawFloodFillCore(t,e,n=6){var f;if(!((f=this.back)!=null&&f.dims))throw new Error("back.dims undefined");const s=[this.back.dims[1],this.back.dims[2],this.back.dims[3]],a=s[0],o=a*s[1];function c(m){return m[0]+m[1]*a+m[2]*o}function h(m){const g=Math.floor(m/o),A=Math.floor((m-g*o)/a);return[Math.floor(m%a),A,g]}const u=[];for(u.push(e),t[e]=2;u.length>0;){let m=function(v){const x=A.slice();if(x[0]+=v[0],x[1]+=v[1],x[2]+=v[2],x[0]<0||x[1]<0||x[2]<0||x[0]>=s[0]||x[1]>=s[1]||x[2]>=s[2])return;const y=c(x);t[y]===1&&(t[y]=2,u.push(y))};const g=u[0];u.shift();const A=h(g);m([0,0,-1]),m([0,0,1]),m([0,-1,0]),m([0,1,0]),m([-1,0,0]),m([1,0,0]),!(n<=6)&&(m([-1,-1,0]),m([1,1,0]),m([-1,1,0]),m([1,1,0]),m([0,-1,-1]),m([0,1,-1]),m([-1,0,-1]),m([1,0,-1]),m([0,-1,1]),m([0,1,1]),m([-1,0,1]),m([1,0,1]),!(n<=18)&&(m([-1,-1,-1]),m([1,-1,-1]),m([-1,1,-1]),m([1,1,-1]),m([-1,-1,1]),m([1,-1,1]),m([-1,1,1]),m([1,1,1])))}}drawFloodFill(t,e=0,n=0,s=NaN,a=NaN,o=6,c=Number.POSITIVE_INFINITY,h=!1,u=null,f=!1){var S;if(!this.drawBitmap&&(Y.warn("drawFloodFill called without an initialized drawBitmap."),this.createEmptyDrawing(),!this.drawBitmap)){Y.error("Failed to create drawing bitmap.");return}if(this.clickToSegmentIsGrowing&&!this.clickToSegmentGrowingBitmap){if(Y.warn("drawFloodFill called in preview mode without initialized clickToSegmentGrowingBitmap."),this.drawBitmap)this.clickToSegmentGrowingBitmap=this.drawBitmap.slice();else{Y.error("Cannot initialize growing bitmap as drawBitmap is null.");return}if(!this.clickToSegmentGrowingBitmap){Y.error("Failed to create growing bitmap.");return}}if(u===null&&(u=this.drawBitmap),!u){Y.error("drawFloodFill targetBitmap is null.");return}if(!((S=this.back)!=null&&S.dims))throw new Error("back.dims undefined");e=Math.abs(e);const m=[this.back.dims[1],this.back.dims[2],this.back.dims[3]];if(t[0]<0||t[1]<0||t[2]<0||t[0]>=m[0]||t[1]>=m[1]||t[2]>=m[2])return;const g=m[0],A=g*m[1],v=A*m[2],x=this.clickToSegmentIsGrowing?this.drawBitmap:u;if(!x){Y.error("Could not determine original bitmap state.");return}const y=new Uint8Array(v).fill(0);let w=-1;h&&this.drawPenAxCorSag===0?w=2:h&&this.drawPenAxCorSag===1?w=1:h&&this.drawPenAxCorSag===2&&(w=0);function C(I){const F=Math.floor(I/A),L=Math.floor((I-F*A)/g);return[Math.floor(I%g),L,F]}function T(I){return I[0]+I[1]*g+I[2]*A}const D=I=>this.vox2mm(I,this.back.matRAS),M=D(t),E=c**2;function R(I){const F=C(I);if(w>=0&&F[w]!==t[w])return!1;const L=D(F);return(L[0]-M[0])**2+(L[1]-M[1])**2+(L[2]-M[2])**2<=E}const B=T(t),U=x[B];if(f&&U===0){Y.debug("Grow/Erase Cluster tool requires starting on a masked voxel."),this.clickToSegmentIsGrowing&&this.clickToSegmentGrowingBitmap&&this.drawBitmap&&(this.clickToSegmentGrowingBitmap.set(this.drawBitmap),this.refreshDrawing(!0,!0));return}if(n===0&&U===e&&!f&&e!==0&&(Y.debug("drawFloodFill selected voxel is already desired color"),!this.clickToSegmentIsGrowing))return;let N=NaN;if(f&&(n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)){const I=x.slice();for(let K=0;K<v;K++)I[K]=I[K]===U&&R(K)?1:0;if(I[B]!==1){Y.error("Seed voxel could not be marked for cluster ID.");return}this.drawFloodFillCore(I,B,o);const F=this.volumes[0].img2RAS();let L=0,k=0;for(let K=0;K<v;K++)I[K]===2&&(L+=F[K],k++);N=k>0?L/k:F[B],Y.debug(`Grow Cluster using mean intensity: ${N.toFixed(2)} from ${k} voxels.`);let q=-1/0,P=1/0;n===Number.POSITIVE_INFINITY&&(q=N),n===Number.NEGATIVE_INFINITY&&(P=N);for(let K=0;K<v;K++)if(I[K]===2)y[K]=1;else if(x[K]===0){const J=F[K];J>=q&&J<=P&&R(K)&&(y[K]=1)}e=U}else if(n===0)if(f&&e===0){Y.debug(`Erase Cluster: Identifying cluster with color ${U}`);for(let I=0;I<v;I++)y[I]=x[I]===U&&R(I)?1:0}else for(let I=0;I<v;I++)x[I]===U&&R(I)&&U!==0&&(y[I]=1);else{const I=this.volumes[0].img2RAS();N=I[B];let F=-1/0,L=1/0;isFinite(s)&&isFinite(a)?(F=s,L=a):n===Number.POSITIVE_INFINITY?F=N:n===Number.NEGATIVE_INFINITY&&(L=N);for(let k=0;k<v;k++){const q=I[k];q>=F&&q<=L&&R(k)&&(y[k]=1)}e=x[B],e===0&&(e=this.opts.penValue,(e<1||!isFinite(e))&&(e=1))}if(y[B]!==1){let I=!1;if(f&&n!==0?U!==0&&(I=!0):(U!==0||e===0)&&(I=!0),I&&R(B))y[B]=1,Y.debug("Forcing seed voxel to 1 in working buffer.");else{Y.debug("Seed voxel not marked as candidate '1' and not valid originally."),this.clickToSegmentIsGrowing&&this.clickToSegmentGrowingBitmap&&this.drawBitmap&&this.clickToSegmentGrowingBitmap.set(this.drawBitmap);return}}this.drawFloodFillCore(y,B,o);for(let I=0;I<v;I++)y[I]===2?u[I]=e:this.clickToSegmentIsGrowing&&u===this.clickToSegmentGrowingBitmap&&(u[I]=x[I]);this.clickToSegmentIsGrowing?this.refreshDrawing(!0,!0):(this.drawAddUndoBitmap(),this.refreshDrawing(!0,!1))}drawPenFilled(){var v;const t=this.drawPenFillPts.length;if(t<2){this.drawPenFillPts=[];return}const e=this.drawPenAxCorSag;let n=0,s=1;if(e===1&&(s=2),e===2&&(n=1,s=2),!((v=this.back)!=null&&v.dims))throw new Error("back.dims undefined");const a=[this.back.dims[n+1],this.back.dims[s+1]],o=new Uint8Array(a[0]*a[1]);let c=1;function h(x,y){const w=Math.abs(x[0]-y[0]),C=Math.abs(x[1]-y[1]);o[x[0]+x[1]*a[0]]=c,o[y[0]+y[1]*a[0]]=c;let T=-1,D=-1;y[0]>x[0]&&(T=1),y[1]>x[1]&&(D=1);let M=x[0],E=x[1];const R=y[0],B=y[1];if(w>=C){let U=2*C-w;for(;M!==R;)M+=T,U>=0&&(E+=D,U-=2*w),U+=2*C,o[M+E*a[0]]=c}else{let U=2*w-C;for(;E!==B;)E+=D,U>=0&&(M+=T,U-=2*C),U+=2*w,o[M+E*a[0]]=c}}const u=[this.drawPenFillPts[0][n],this.drawPenFillPts[0][s]];let f=u;for(let x=1;x<t;x++){const y=[this.drawPenFillPts[x][n],this.drawPenFillPts[x][s]];h(f,y),f=y}h(u,f);const m=[];function g(x){if(x[0]<0||x[1]<0||x[0]>=a[0]||x[1]>=a[1])return;const y=x[0]+x[1]*a[0];o[y]===0&&(m.push(x),o[y]=2)}for(let x=0;x<a[0];x++)g([x,0]);for(let x=0;x<a[0];x++)g([x,a[1]-1]);for(let x=0;x<a[1];x++)g([0,x]);for(let x=0;x<a[1];x++)g([a[0]-1,x]);for(;m.length>0;){const x=m.shift();g([x[0]-1,x[1]]),g([x[0]+1,x[1]]),g([x[0],x[1]-1]),g([x[0],x[1]+1])}c=this.opts.penValue;const A=this.drawPenFillPts[0][3-(n+s)];if(!this.drawBitmap)throw new Error("drawBitmap undefined");if(e===0){const x=A*a[0]*a[1];for(let y=0;y<a[0]*a[1];y++)o[y]!==2&&(this.drawBitmap[y+x]=c)}else{let x=1;const y=this.back.dims[1]*this.back.dims[2];let w=A*this.back.dims[1];e===2&&(x=this.back.dims[1],w=A);let C=0;for(let T=0;T<a[1];T++)for(let D=0;D<a[0];D++)o[C]!==2&&(this.drawBitmap[D*x+T*y+w]=c),C++}if(!this.drawFillOverwrites&&this.drawUndoBitmaps[this.currentDrawUndoBitmap].length>0){const x=this.drawBitmap.length,y=pm(this.drawUndoBitmaps[this.currentDrawUndoBitmap],x);for(let w=0;w<x;w++)y[w]!==0&&(this.drawBitmap[w]=y[w])}this.drawPenFillPts=[],this.drawAddUndoBitmap(),this.refreshDrawing(!1)}closeDrawing(){this.drawClearAllUndoBitmaps(),this.rgbaTex(this.drawTexture,gr,[2,2,2,2],!0),this.drawBitmap=null,this.clickToSegmentGrowingBitmap=null,this.drawScene()}refreshDrawing(t=!0,e=!1){var c;e&&(!this.opts.drawingEnabled||!this.opts.clickToSegment)&&(Y.debug("refreshDrawing: Conditions not met for clickToSegment bitmap, using drawBitmap."),e=!1);const n=e?this.clickToSegmentGrowingBitmap:this.drawBitmap;!n&&!e&&this.clickToSegmentGrowingBitmap?Y.warn("refreshDrawing: drawBitmap is null, but clickToSegmentGrowingBitmap exists. Check state."):!n&&e&&this.drawBitmap?(Y.warn("refreshDrawing: clickToSegmentGrowingBitmap is null, falling back to drawBitmap."),e=!1):n||Y.warn("refreshDrawing: Both bitmaps are null. Uploading empty data.");const s=e?this.clickToSegmentGrowingBitmap:this.drawBitmap;if(!((c=this.back)!=null&&c.dims)){Y.warn("refreshDrawing: back.dims undefined, cannot refresh drawing texture yet.");return}const a=this.back.dims.slice(),o=this.back.dims[1]*this.back.dims[2]*this.back.dims[3];if(!s){Y.warn(`refreshDrawing: Bitmap data source (${e?"growing":"main"}) is null. Cannot update texture.`),t&&this.drawScene();return}if(s.length===8?(a[1]=2,a[2]=2,a[3]=2):o!==s.length&&Y.warn(`Drawing bitmap length (${s.length}) must match the background image (${o})`),this.gl.activeTexture(gr),this.gl.bindTexture(this.gl.TEXTURE_3D,this.drawTexture),!this.drawTexture){Y.error("refreshDrawing: drawTexture (GPU texture) is null.");return}try{this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,a[1],a[2],a[3],this.gl.RED,this.gl.UNSIGNED_BYTE,s)}catch(h){Y.error("Error during texSubImage3D in refreshDrawing:",h),Y.error("Dimensions:",a,"Bitmap length:",s==null?void 0:s.length)}t&&this.drawScene()}r8Tex(t,e,n,s=!1){if(t&&this.gl.deleteTexture(t),t=this.gl.createTexture(),this.gl.activeTexture(e),this.gl.bindTexture(this.gl.TEXTURE_3D,t),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R8,n[1],n[2],n[3]),s){const a=new Uint8Array(n[1]*n[2]*n[3]);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n[1],n[2],n[3],this.gl.RED,this.gl.UNSIGNED_BYTE,a)}return t}rgbaTex(t,e,n,s=!1){if(t&&this.gl.deleteTexture(t),t=this.gl.createTexture(),this.gl.activeTexture(e),this.gl.bindTexture(this.gl.TEXTURE_3D,t),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA8,n[1],n[2],n[3]),s){const a=new Uint8Array(n[1]*n[2]*n[3]*4);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n[1],n[2],n[3],this.gl.RGBA,this.gl.UNSIGNED_BYTE,a)}return t}rgba16Tex(t,e,n,s=!1){if(t&&this.gl.deleteTexture(t),t=this.gl.createTexture(),this.gl.activeTexture(e),this.gl.bindTexture(this.gl.TEXTURE_3D,t),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,2),this.gl.pixelStorei(this.gl.PACK_ALIGNMENT,2),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA16UI,n[1],n[2],n[3]),s){const a=new Uint16Array(n[1]*n[2]*n[3]*4);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n[1],n[2],n[3],this.gl.RGBA_INTEGER,this.gl.UNSIGNED_SHORT,a)}return t}requestCORSIfNotSameOrigin(t,e){new URL(e,window.location.href).origin!==window.location.origin&&(t.crossOrigin="")}async loadPngAsTexture(t,e){return new Promise((n,s)=>{const a=new Image;a.onload=()=>{if(!this.bmpShader)return;let o;e===4?(this.bmpTexture!==null&&this.gl.deleteTexture(this.bmpTexture),this.bmpTexture=this.gl.createTexture(),o=this.bmpTexture,this.bmpTextureWH=a.width/a.height,this.gl.activeTexture(Tx),this.bmpShader.use(this.gl),this.gl.uniform1i(this.bmpShader.uniforms.bmpTexture,4)):e===5?(this.gl.activeTexture(ym),this.matCapTexture!==null&&this.gl.deleteTexture(this.matCapTexture),this.matCapTexture=this.gl.createTexture(),o=this.matCapTexture):(this.fontShader.use(this.gl),this.gl.activeTexture(Dx),this.gl.uniform1i(this.fontShader.uniforms.fontTexture,3),this.fontTexture!==null&&this.gl.deleteTexture(this.fontTexture),this.fontTexture=this.gl.createTexture(),o=this.fontTexture),this.gl.bindTexture(this.gl.TEXTURE_2D,o),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,a),n(o),e!==4&&this.drawScene()},a.onerror=s,this.requestCORSIfNotSameOrigin(a,t),a.src=t})}async loadFontTexture(t){return this.loadPngAsTexture(t,3)}async loadBmpTexture(t){return this.loadPngAsTexture(t,4)}async loadMatCapTexture(t){return this.loadPngAsTexture(t,5)}initFontMets(){if(!this.fontMetrics)throw new Error("fontMetrics undefined");this.fontMets={distanceRange:this.fontMetrics.atlas.distanceRange,size:this.fontMetrics.atlas.size,mets:{}};for(let n=0;n<256;n++)this.fontMets.mets[n]={xadv:0,uv_lbwh:[0,0,0,0],lbwh:[0,0,0,0]};const t=this.fontMetrics.atlas.width,e=this.fontMetrics.atlas.height;for(let n=0;n<this.fontMetrics.glyphs.length;n++){const s=this.fontMetrics.glyphs[n],a=s.unicode;if(this.fontMets.mets[a].xadv=s.advance,s.planeBounds===void 0)continue;let o=s.atlasBounds.left/t,c=(e-s.atlasBounds.top)/e,h=(s.atlasBounds.right-s.atlasBounds.left)/t,u=(s.atlasBounds.top-s.atlasBounds.bottom)/e;this.fontMets.mets[a].uv_lbwh=[o,c,h,u],o=s.planeBounds.left,c=s.planeBounds.bottom,h=s.planeBounds.right-s.planeBounds.left,u=s.planeBounds.top-s.planeBounds.bottom,this.fontMets.mets[a].lbwh=[o,c,h,u]}}async loadFont(t=fm,e=dm){await this.loadFontTexture(t);const n=await fetch(e);if(!n.ok)throw Error(n.statusText);const s=await n.text();this.fontMetrics=JSON.parse(s),this.initFontMets(),this.fontShader.use(this.gl),this.drawScene()}async loadDefaultMatCap(){return this.loadMatCapTexture(vx)}async loadDefaultFont(){await this.loadFontTexture(this.DEFAULT_FONT_GLYPH_SHEET),this.fontMetrics=this.DEFAULT_FONT_METRICS,this.initFontMets()}async initText(){this.fontShader=new Ot(this.gl,o3,l3),this.fontShader.use(this.gl),await this.loadDefaultFont(),await this.loadDefaultMatCap(),this.drawLoadingText(this.opts.loadingText)}meshShaderNameToNumber(t="Phong"){const e=t.toLowerCase();for(let n=0;n<this.meshShaders.length;n++)if(this.meshShaders[n].Name.toLowerCase()===e)return n}setMeshShader(t,e=2){let n=0;if(typeof e=="number"?n=e:n=this.meshShaderNameToNumber(e),n===void 0)throw new Error("shaderIndex undefined");n=Math.min(n,this.meshShaders.length-1),n=Math.max(n,0);const s=this.getMeshIndexByID(t);if(s>=this.meshes.length){Y.debug("Unable to change shader until mesh is loaded (maybe you need async)");return}this.meshes[s].meshShaderIndex=n,this.updateGLVolume(),this.onMeshShaderChanged(s,n)}createCustomMeshShader(t,e="Custom"){if(!t)throw new Error("Need fragment shader");const n=this.meshShaderNameToNumber(e);n>=0&&(this.gl.deleteProgram(this.meshShaders[n].shader.program),this.meshShaders.splice(n,1));const s=new Ot(this.gl,Gh,t);return s.use(this.gl),{Name:e,Frag:t,shader:s}}setCustomMeshShader(t="",e="Custom"){const n=this.createCustomMeshShader(t,e);return this.meshShaders.push(n),this.onCustomMeshShaderAdded(t,e),this.meshShaders.length-1}meshShaderNames(t=!0){const e=[];for(let n=0;n<this.meshShaders.length;n++)e.push(this.meshShaders[n].Name);return t===!0?e.sort():e}initRenderShader(t,e=0){t.use(this.gl),this.gl.uniform1i(t.uniforms.volume,0),this.gl.uniform1i(t.uniforms.colormap,1),this.gl.uniform1i(t.uniforms.overlay,2),this.gl.uniform1i(t.uniforms.drawing,7),this.gl.uniform1fv(t.uniforms.renderDrawAmbientOcclusion,[this.renderDrawAmbientOcclusion,1]),this.gl.uniform1f(t.uniforms.gradientAmount,e);const n=new Float32Array(256);for(let s=0;s<256;s++)this.opts.gradientOpacity===0?n[s]=1:n[s]=Math.pow(s/255,this.opts.gradientOpacity*8);this.gl.uniform1fv(this.gl.getUniformLocation(t.program,"gradientOpacity"),n)}async init(){const t=this.gl.getExtension("WEBGL_debug_renderer_info");if(t){const o=this.gl.getParameter(t.UNMASKED_VENDOR_WEBGL),c=this.gl.getParameter(t.UNMASKED_RENDERER_WEBGL);Y.info("renderer vendor: ",o),Y.info("renderer: ",c)}else Y.info("debug_renderer_info unavailable");const e=this.gl.getParameter(this.gl.RENDERER);Y.info("firefox renderer: ",e),this.gl.clearDepth(0),this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.FRONT),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.volumeTexture=this.rgbaTex(this.volumeTexture,Rl,[2,2,2,2],!0),this.overlayTexture=this.rgbaTex(this.overlayTexture,jh,[2,2,2,2],!0),this.drawTexture=this.r8Tex(this.drawTexture,gr,[2,2,2,2],!0);const n=[1,1,0,1,0,0,0,1,0,0,0,0],s=this.gl;this.cuboidVertexBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.cuboidVertexBuffer),s.bufferData(s.ARRAY_BUFFER,new Float32Array(n),s.STATIC_DRAW),this.genericVAO=s.createVertexArray(),s.bindVertexArray(this.genericVAO),s.bindBuffer(s.ARRAY_BUFFER,this.cuboidVertexBuffer),s.enableVertexAttribArray(0),s.vertexAttribPointer(0,3,s.FLOAT,!1,0,0),s.bindVertexArray(this.unusedVAO),this.pickingMeshShader=new Ot(s,Gh,x3),this.pickingMeshShader.use(s),this.pickingImageShader=new Ot(s,Na,F3),this.pickingImageShader.use(s),s.uniform1i(this.pickingImageShader.uniforms.volume,0),s.uniform1i(this.pickingImageShader.uniforms.colormap,1),s.uniform1i(this.pickingImageShader.uniforms.overlay,2),s.uniform1i(this.pickingImageShader.uniforms.drawing,7),this.sliceMMShader=new Ot(s,rm,_4),this.sliceMMShader.use(s),s.uniform1i(this.sliceMMShader.uniforms.volume,0),s.uniform1i(this.sliceMMShader.uniforms.colormap,1),s.uniform1i(this.sliceMMShader.uniforms.overlay,2),s.uniform1i(this.sliceMMShader.uniforms.drawing,7),s.uniform1f(this.sliceMMShader.uniforms.drawOpacity,this.drawOpacity),this.sliceV1Shader=new Ot(s,rm,$4),this.sliceV1Shader.use(s),s.uniform1i(this.sliceV1Shader.uniforms.volume,0),s.uniform1i(this.sliceV1Shader.uniforms.colormap,1),s.uniform1i(this.sliceV1Shader.uniforms.overlay,2),s.uniform1i(this.sliceV1Shader.uniforms.drawing,7),s.uniform1f(this.sliceV1Shader.uniforms.drawOpacity,this.drawOpacity),this.orientCubeShader=new Ot(s,V3,I3),this.orientCubeShaderVAO=s.createVertexArray(),s.bindVertexArray(this.orientCubeShaderVAO);const a=s.createBuffer();s.enableVertexAttribArray(0),s.enableVertexAttribArray(1),s.bindBuffer(s.ARRAY_BUFFER,a),s.bufferData(s.ARRAY_BUFFER,Y3,s.STATIC_DRAW),s.vertexAttribPointer(0,3,s.FLOAT,!1,24,0),s.enableVertexAttribArray(1),s.vertexAttribPointer(1,3,s.FLOAT,!1,24,12),s.bindVertexArray(this.unusedVAO),this.rectShader=new Ot(s,am,kh),this.rectShader.use(s),this.rectOutlineShader=new Ot(s,am,t3),this.rectOutlineShader.use(s),this.lineShader=new Ot(s,n3,kh),this.lineShader.use(s),this.line3DShader=new Ot(s,s3,kh),this.line3DShader.use(s),this.circleShader=new Ot(s,c3,u3),this.circleShader.use(s),this.renderVolumeShader=new Ot(s,Na,Z4),this.initRenderShader(this.renderVolumeShader),this.renderSliceShader=new Ot(s,Na,X4),this.initRenderShader(this.renderSliceShader),this.renderGradientShader=new Ot(s,Na,W4),this.initRenderShader(this.renderGradientShader,.3),s.uniform1i(this.renderGradientShader.uniforms.matCap,5),s.uniform1i(this.renderGradientShader.uniforms.gradient,6),this.renderGradientValuesShader=new Ot(s,Na,J4),this.initRenderShader(this.renderGradientValuesShader),s.uniform1i(this.renderGradientValuesShader.uniforms.matCap,5),s.uniform1i(this.renderGradientValuesShader.uniforms.gradient,6),this.renderShader=this.renderVolumeShader,this.colorbarShader=new Ot(s,e3,i3),this.colorbarShader.use(s),s.uniform1i(this.colorbarShader.uniforms.colormap,1),this.blurShader=new Ot(s,El,L3),this.sobelBlurShader=new Ot(s,El,z3),this.sobelFirstOrderShader=new Ot(s,El,k3),this.sobelSecondOrderShader=new Ot(s,El,P3),this.growCutShader=new Ot(s,d3,m3),this.passThroughShader=new Ot(s,N3,O3),this.orientShaderAtlasU=new Ot(s,mr,Ph.concat(lm)),this.orientShaderAtlasI=new Ot(s,mr,om.concat(lm)),this.orientShaderU=new Ot(s,mr,Ph.concat(Yh)),this.orientShaderI=new Ot(s,mr,om.concat(Yh)),this.orientShaderF=new Ot(s,mr,h3.concat(Yh)),this.orientShaderRGBU=new Ot(s,mr,Ph.concat(f3)),this.surfaceShader=new Ot(s,g3,A3),this.surfaceShader.use(s),this.fiberShader=new Ot(s,p3,v3),this.pickingImageShader.use(s);for(let o=0;o<this.meshShaders.length;o++){const c=this.meshShaders[o];c.Name==="Flat"?c.shader=new Ot(s,U3,cm):c.shader=new Ot(s,Gh,c.Frag),c.shader.use(s),c.shader.isMatcap=c.Name==="Matcap",c.shader.isMatcap&&s.uniform1i(c.shader.uniforms.matCap,5)}return this.bmpShader=new Ot(s,r3,a3),await this.initText(),this.opts.thumbnail.length>0&&(await this.loadBmpTexture(this.opts.thumbnail),this.thumbnailVisible=!0),this.updateGLVolume(),this.initialized=!0,this.resizeListener(),this.drawScene(),this}gradientGL(t){const e=this.gl,n=[0,0,0,0,1,0,1,0,0,1,1,0],s=e.createVertexArray();e.bindVertexArray(s);const a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,3,e.FLOAT,!1,0,0);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.disable(e.CULL_FACE),e.viewport(0,0,t.dims[1],t.dims[2]),e.disable(e.BLEND);const c=this.rgbaTex(null,wm,t.dims,!0),h=this.opts.gradientOrder===2?this.sobelBlurShader:this.blurShader;h.use(e),e.activeTexture(Rl),e.bindTexture(e.TEXTURE_3D,this.volumeTexture);const u=.7;e.uniform1i(h.uniforms.intensityVol,0),e.uniform1f(h.uniforms.dX,u/t.dims[1]),e.uniform1f(h.uniforms.dY,u/t.dims[2]),e.uniform1f(h.uniforms.dZ,u/t.dims[3]),e.bindVertexArray(s);for(let g=0;g<t.dims[3]-1;g++){const A=1/t.dims[3]*(g+.5);e.uniform1f(h.uniforms.coordZ,A),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,c,0,g);const v=e.checkFramebufferStatus(e.FRAMEBUFFER);v!==e.FRAMEBUFFER_COMPLETE&&Y.error("framebuffer status: ",v),e.clear(e.DEPTH_BUFFER_BIT),e.drawArrays(e.TRIANGLE_STRIP,0,n.length/3)}const f=this.opts.gradientOrder===2?this.sobelSecondOrderShader:this.sobelFirstOrderShader;f.use(e),e.activeTexture(wm),e.bindTexture(e.TEXTURE_3D,c),e.uniform1i(f.uniforms.intensityVol,8);const m=.7;e.uniform1f(f.uniforms.dX,m/t.dims[1]),e.uniform1f(f.uniforms.dY,m/t.dims[2]),e.uniform1f(f.uniforms.dZ,m/t.dims[3]),this.opts.gradientOrder===2&&(e.uniform1f(f.uniforms.dX2,2*m/t.dims[1]),e.uniform1f(f.uniforms.dY2,2*m/t.dims[2]),e.uniform1f(f.uniforms.dZ2,2*m/t.dims[3])),e.uniform1f(f.uniforms.coordZ,.5),e.bindVertexArray(s),this.gradientTexture!==null&&e.deleteTexture(this.gradientTexture),this.gradientTexture=this.rgbaTex(this.gradientTexture,bm,t.dims);for(let g=0;g<t.dims[3]-1;g++){const A=1/t.dims[3]*(g+.5);e.uniform1f(f.uniforms.coordZ,A),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,this.gradientTexture,0,g);const v=e.checkFramebufferStatus(e.FRAMEBUFFER);v!==e.FRAMEBUFFER_COMPLETE&&Y.error("framebuffer status: ",v),e.clear(e.DEPTH_BUFFER_BIT),e.drawArrays(e.TRIANGLE_STRIP,0,n.length/3)}e.deleteFramebuffer(o),e.deleteTexture(c),e.deleteBuffer(a),e.bindFramebuffer(e.FRAMEBUFFER,null)}updateGLVolume(){var n;let t=0;const e=this.volumes.length;this.refreshColormaps();for(let s=0;s<e;s++)this.volumes[s].toRAS&&(this.refreshLayers(this.volumes[s],t),t++);if(this.furthestVertexFromOrigin=0,e>0&&(this.furthestVertexFromOrigin=((n=this.volumeObject3D)==null?void 0:n.furthestVertexFromOrigin)??0),this.meshes)for(let s=0;s<this.meshes.length;s++)this.furthestVertexFromOrigin=Math.max(this.furthestVertexFromOrigin,this.meshes[s].furthestVertexFromOrigin);this.onVolumeUpdated&&this.onVolumeUpdated(),this.drawScene()}getDescriptives(t){const{layer:e=0,masks:n=[],drawingIsMask:s=!1,roiIsMask:a=!1,startVox:o=[0,0,0],endVox:c=[0,0,0]}=t;let h=null;const u=this.volumes[e].hdr,f=this.volumes[e].pixDimsRAS;let m=u.scl_slope;isNaN(m)&&(m=1);let g=u.scl_inter;isNaN(g)&&(g=1);const A=this.volumes[e].img,v=A.length,x=new Float32Array(v);for(let F=0;F<v;F++)x[F]=A[F]*m+g;const y=new Uint8Array(v);for(let F=0;F<v;F++)y[F]=1;if(n.length>0)for(let F=0;F<n.length;F++){const L=this.volumes[n[F]].img;if(L.length!==v){Y.debug("Mask resolution does not match image. Skipping masking layer "+n[F]);continue}for(let k=0;k<v;k++)(L[k]===0||isNaN(L[k]))&&(y[k]=0)}else if(n.length<1&&s)for(let F=0;F<v;F++)(this.drawBitmap[F]===0||isNaN(this.drawBitmap[F]))&&(y[F]=0);else if(n.length<1&&a){y.fill(0),console.log("startVox",o),console.log("endVox",c);let F=-1;if(o[0]===c[0])F=0;else if(o[1]===c[1])F=1;else if(o[2]===c[2])F=2;else{console.error("Error: No constant dimension found.");return}const k=[0,1,2].filter(ve=>ve!==F),q=[];q[F]=o[F],q[k[0]]=(o[k[0]]+c[k[0]])/2,q[k[1]]=(o[k[1]]+c[k[1]])/2;const P=Math.abs(c[k[0]]-o[k[0]])/2,K=Math.abs(c[k[1]]-o[k[1]])/2,J=u.dims[1],rt=u.dims[2],G=Math.max(0,Math.floor(q[k[0]]-P)),tt=Math.min(u.dims[k[0]+1]-1,Math.ceil(q[k[0]]+P)),at=Math.max(0,Math.floor(q[k[1]]-K)),ot=Math.min(u.dims[k[1]+1]-1,Math.ceil(q[k[1]]+K)),mt=q[F];if(mt<0||mt>=u.dims[F+1]){console.error("Error: Constant dimension value is out of bounds.");return}for(let ve=G;ve<=tt;ve++)for(let se=at;se<=ot;se++){const Zt=[];Zt[F]=mt,Zt[k[0]]=ve,Zt[k[1]]=se;const Ui=(Zt[k[0]]-q[k[0]])/P,zi=(Zt[k[1]]-q[k[1]])/K;if(Ui*Ui+zi*zi<=1){const Fr=Zt[0],Ve=Zt[1],Ms=Zt[2]*J*rt+Ve*J+Fr;y[Ms]=1}}const ft=f[k[0]+1]*f[k[1]+1];h=y.reduce((ve,se)=>ve+(se===1?1:0),0)*ft;const Ut=P*f[k[0]+1],Ft=K*f[k[1]+1];h=Math.PI*Ut*Ft}let w=0,C=0,T=0,D=Number.NEGATIVE_INFINITY,M=Number.POSITIVE_INFINITY,E=0,R=0,B=0;for(let F=0;F<v;F++){if(y[F]<1)continue;const L=x[F];w++;let k=C+(L-C)/w;T=T+(L-C)*(L-k),C=k,L!==0&&(E++,k=R+(L-R)/E,B=B+(L-R)*(L-k),R=k,M=Math.min(L,D),D=Math.max(L,D))}const U=Math.sqrt(T/(w-1)),N=Math.sqrt(B/(E-1)),S=M,I=D;return w!==E&&(M=Math.min(0,D),D=Math.max(0,D)),{mean:C,stdev:U,nvox:w,volumeMM3:w*u.pixDims[1]*u.pixDims[2]*u.pixDims[3],volumeML:w*u.pixDims[1]*u.pixDims[2]*u.pixDims[3]*.001,min:M,max:D,meanNot0:R,stdevNot0:N,nvoxNot0:E,minNot0:S,maxNot0:I,cal_min:this.volumes[e].cal_min,cal_max:this.volumes[e].cal_max,robust_min:this.volumes[e].robust_min,robust_max:this.volumes[e].robust_max,area:h}}refreshLayers(t,e){var R;if(this.volumes.length<1)return;this.refreshColormaps();const n=t.hdr;let s=t.img;t.frame4D>0&&t.frame4D<t.nFrame4D&&(s=t.img.slice(t.frame4D*t.nVox3D,(t.frame4D+1)*t.nVox3D));const a=t.opacity;if(e>1&&a===0)return;let o=null;if(!this.back)throw new Error("back undefined");this.gl.bindVertexArray(this.unusedVAO),this.crosshairs3D&&(this.crosshairs3D.mm[0]=NaN);let c=Ae(t.toRAS);if(e===0){this.volumeObject3D=xx(t,this.VOLUME_ID,this.gl),ii(c,c),this.back.matRAS=t.matRAS,this.back.dims=t.dimsRAS,this.back.pixDims=t.pixDimsRAS,o=this.rgbaTex(this.volumeTexture,Rl,t.dimsRAS);const{volScale:B,vox:U}=this.sliceScale(!0);if(this.volScale=B,this.vox=U,this.volumeObject3D.scale=B,!this.renderShader)throw new Error("renderShader undefined");this.renderShader.use(this.gl),this.gl.uniform3fv(this.renderShader.uniforms.texVox,U),this.gl.uniform3fv(this.renderShader.uniforms.volScale,B);const N=this.pickingImageShader;N.use(this.gl),this.gl.uniform1i(N.uniforms.volume,0),this.gl.uniform1i(N.uniforms.colormap,1),this.gl.uniform1i(N.uniforms.overlay,2),this.gl.uniform3fv(N.uniforms.volScale,B),Y.debug(this.volumeObject3D)}else{((R=this.back)==null?void 0:R.dims)===void 0&&Y.error("Fatal error: Unable to render overlay: background dimensions not defined!");const B=this.mm2frac(t.mm000,0,!0);let U=this.mm2frac(t.mm100,0,!0),N=this.mm2frac(t.mm010,0,!0),S=this.mm2frac(t.mm001,0,!0);U=le(U,U,B),N=le(N,N,B),S=le(S,S,B),c=mi(U[0],N[0],S[0],B[0],U[1],N[1],S[1],B[1],U[2],N[2],S[2],B[2],0,0,0,1),ii(c,c),e===1?(o=this.rgbaTex(this.overlayTexture,jh,this.back.dims),this.overlayTexture=o,this.overlayTextureID=o):o=this.overlayTextureID}const h=this.gl.createFramebuffer();this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,h),this.gl.disable(this.gl.CULL_FACE),this.gl.viewport(0,0,this.back.dims[1],this.back.dims[2]),this.gl.disable(this.gl.BLEND);const u=this.gl.createTexture();this.gl.activeTexture(Bx),this.gl.bindTexture(this.gl.TEXTURE_3D,u),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1);let f=this.orientShaderU;if(!n)throw new Error("hdr undefined");if(!s)throw new Error("img undefined");if(n.datatypeCode===2)n.intent_code===1002&&(f=this.orientShaderAtlasU),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R8UI,n.dims[1],n.dims[2],n.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n.dims[1],n.dims[2],n.dims[3],this.gl.RED_INTEGER,this.gl.UNSIGNED_BYTE,s);else if(n.datatypeCode===4)f=this.orientShaderI,n.intent_code===1002&&(f=this.orientShaderAtlasI),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16I,n.dims[1],n.dims[2],n.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n.dims[1],n.dims[2],n.dims[3],this.gl.RED_INTEGER,this.gl.SHORT,s);else if(n.datatypeCode===16)this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R32F,n.dims[1],n.dims[2],n.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n.dims[1],n.dims[2],n.dims[3],this.gl.RED,this.gl.FLOAT,s),f=this.orientShaderF;else if(n.datatypeCode===64){let B=new Float32Array;B=Float32Array.from(s),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R32F,n.dims[1],n.dims[2],n.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n.dims[1],n.dims[2],n.dims[3],this.gl.RED,this.gl.FLOAT,B),f=this.orientShaderF}else n.datatypeCode===128?(f=this.orientShaderRGBU,f.use(this.gl),this.gl.uniform1i(f.uniforms.hasAlpha,0),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGB8UI,n.dims[1],n.dims[2],n.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n.dims[1],n.dims[2],n.dims[3],this.gl.RGB_INTEGER,this.gl.UNSIGNED_BYTE,s)):n.datatypeCode===512?(n.intent_code===1002&&(f=this.orientShaderAtlasU),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16UI,n.dims[1],n.dims[2],n.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n.dims[1],n.dims[2],n.dims[3],this.gl.RED_INTEGER,this.gl.UNSIGNED_SHORT,s)):n.datatypeCode===2304&&(f=this.orientShaderRGBU,f.use(this.gl),this.gl.uniform1i(f.uniforms.hasAlpha,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA8UI,n.dims[1],n.dims[2],n.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n.dims[1],n.dims[2],n.dims[3],this.gl.RGBA_INTEGER,this.gl.UNSIGNED_BYTE,s));t.global_min===void 0&&t.calMinMax();let m=null;if(this.gl.bindVertexArray(this.genericVAO),e>1){if(!this.back.dims)throw new Error("back.dims undefined");m=this.rgbaTex(m,Cm,this.back.dims),this.gl.bindTexture(this.gl.TEXTURE_3D,m);const B=this.passThroughShader;B.use(this.gl),this.gl.uniform1i(B.uniforms.in3D,2);for(let U=0;U<this.back.dims[3];U++){const N=1/this.back.dims[3]*(U+.5);this.gl.uniform1f(B.uniforms.coordZ,N),this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,m,0,U),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}else m=this.rgbaTex(m,Cm,[2,2,2,2]);f.use(this.gl),this.gl.activeTexture(Ul);let g=null;if(t.colormapLabel!==null&&t.colormapLabel.lut.length>7){const B=t.colormapLabel.max-t.colormapLabel.min+1;g=this.createColormapTexture(g,1,B),this.gl.texSubImage2D(this.gl.TEXTURE_2D,0,0,0,B,1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t.colormapLabel.lut),this.gl.uniform1f(f.uniforms.cal_min,t.colormapLabel.min-.5),this.gl.uniform1f(f.uniforms.cal_max,t.colormapLabel.max+.5),this.gl.bindTexture(this.gl.TEXTURE_2D,g)}else this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture),this.gl.uniform1f(f.uniforms.cal_min,t.cal_min),this.gl.uniform1f(f.uniforms.cal_max,t.cal_max);"alphaThreshold"in t&&(Y.warn("alphaThreshold is deprecated: use colormapType"),t.alphaThreshold===!0&&(t.colormapType=2),t.alphaThreshold===!1&&(t.colormapType=1),delete t.alphaThreshold);const A=t.colormapType!==0?1:0,v=t.colormapType===2?1:0;this.gl.uniform1i(f.uniforms.isAlphaThreshold,v),this.gl.uniform1i(f.uniforms.isColorbarFromZero,A),this.gl.uniform1i(f.uniforms.isAdditiveBlend,this.opts.isAdditiveBlend?1:0);let x=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY;if(t.colormapNegative.length>0&&(x=Math.min(-t.cal_min,-t.cal_max),y=Math.max(-t.cal_min,-t.cal_max),isFinite(t.cal_minNeg)&&isFinite(t.cal_maxNeg)&&(x=Math.min(t.cal_minNeg,t.cal_maxNeg),y=Math.max(t.cal_minNeg,t.cal_maxNeg))),e>0&&this.overlayOutlineWidth>0){const B=t.cal_min,U=t.cal_max;let N=Math.min(B,U)<=0&&Math.max(B,U)>=0;!N&&x<y&&(N=x<=0&&y>=0),N&&Y.error("issue1139: do not use overlayOutlineWidth when thresholds cross or touch zero")}if(!f)throw new Error("orientShader undefined");this.gl.uniform1f(f.uniforms.layer??null,e),this.gl.uniform1f(f.uniforms.cal_minNeg??null,x),this.gl.uniform1f(f.uniforms.cal_maxNeg??null,y),this.gl.bindTexture(this.gl.TEXTURE_3D,u),this.gl.uniform1i(f.uniforms.intensityVol??null,9),this.gl.uniform1i(f.uniforms.blend3D??null,10),this.gl.uniform1i(f.uniforms.colormap??null,1),this.gl.uniform1f(f.uniforms.scl_inter??null,n.scl_inter),this.gl.uniform1f(f.uniforms.scl_slope??null,n.scl_slope),this.gl.uniform1f(f.uniforms.opacity??null,a),this.gl.uniform1i(f.uniforms.modulationVol??null,7);let w=null;if(t.modulationImage!==null&&t.modulationImage>=0&&t.modulationImage<this.volumes.length){Y.debug("modulating",this.volumes);const B=this.volumes[t.modulationImage].hdr;if(B.dims[1]===n.dims[1]&&B.dims[2]===n.dims[2]&&B.dims[3]===n.dims[3]){t.modulateAlpha?(this.gl.uniform1i(f.uniforms.modulation,2),this.gl.uniform1f(f.uniforms.opacity,1)):this.gl.uniform1i(f.uniforms.modulation,1),w=this.r8Tex(w,this.gl.TEXTURE7,n.dims,!0),this.gl.activeTexture(this.gl.TEXTURE7),this.gl.bindTexture(this.gl.TEXTURE_3D,w);const U=n.dims[1]*n.dims[2]*n.dims[3],N=new Uint8Array(U),S=this.volumes[t.modulationImage].cal_min,I=1/(this.volumes[t.modulationImage].cal_max-S),F=this.volumes[t.modulationImage].img.buffer;let L=new Uint8Array(F);switch(B.datatypeCode){case 4:L=new Int16Array(F);break;case 16:L=new Float32Array(F);break;case 64:L=new Float64Array(F);break;case 128:L=new Uint8Array(F);break;case 512:L=new Uint16Array(F);break}Y.debug(this.volumes[t.modulationImage]);const k=this.volumes[t.modulationImage].colormapNegative.length>0;let q=this.volumes[t.modulationImage].cal_min,P=this.volumes[t.modulationImage].cal_max;isFinite(this.volumes[t.modulationImage].cal_minNeg)&&isFinite(this.volumes[t.modulationImage].cal_maxNeg)&&(q=this.volumes[t.modulationImage].cal_minNeg,P=this.volumes[t.modulationImage].cal_minNeg),q=Math.abs(q),P=Math.abs(P),q>P&&([q,P]=[P,q]);const K=1/(P-q);let J=Math.abs(t.modulateAlpha);J=Math.max(J,1);const rt=this.volumes[t.modulationImage].frame4D*U;for(let G=0;G<U;G++){const tt=L[G+rt]*B.scl_slope+B.scl_inter;let at=(tt-S)*I;k&&tt<0&&(at=(Math.abs(tt)-q)*K),at=Math.min(Math.max(at,0),1),at=Math.pow(at,J)*255,N[G]=at}this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,n.dims[1],n.dims[2],n.dims[3],this.gl.RED,this.gl.UNSIGNED_BYTE,N)}else Y.debug("Modulation image dimensions do not match target")}else this.gl.uniform1i(f.uniforms.modulation,0);if(this.gl.uniformMatrix4fv(f.uniforms.mtx,!1,c),!this.back.dims)throw new Error("back.dims undefined");let C=0;n.intent_code===1002&&(C=this.opts.atlasOutline),this.gl.uniform4fv(f.uniforms.xyzaFrac,[1/this.back.dims[1],1/this.back.dims[2],1/this.back.dims[3],C]),Y.debug("back dims: ",this.back.dims);for(let B=0;B<this.back.dims[3];B++){const U=1/this.back.dims[3]*(B+.5);this.gl.uniform1f(f.uniforms.coordZ,U),this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,o,0,B),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}if(this.gl.bindVertexArray(this.unusedVAO),this.gl.deleteTexture(u),this.gl.deleteTexture(w),this.gl.deleteTexture(m),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.deleteFramebuffer(h),e===0&&(this.volumeTexture=o,this.gradientTextureAmount>0?this.gradientGL(n):(this.gradientTexture!==null&&this.gl.deleteTexture(this.gradientTexture),this.gradientTexture=null)),!this.renderShader)throw new Error("renderShader undefined");this.renderShader.use(this.gl);const T=this.sliceScale(!0),D=T.vox,M=T.volScale;if(this.gl.uniform1f(this.renderShader.uniforms.overlays,this.overlays),this.gl.uniform4fv(this.renderShader.uniforms.clipPlaneColor,this.opts.clipPlaneColor),this.gl.uniform1f(this.renderShader.uniforms.clipThick,this.opts.clipThick),this.gl.uniform3fv(this.renderShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.renderShader.uniforms.clipHi,this.opts.clipVolumeHigh),this.gl.uniform1f(this.renderShader.uniforms.backOpacity,this.volumes[0].opacity),this.gl.uniform1f(this.renderShader.uniforms.renderOverlayBlend,this.opts.renderOverlayBlend),this.gl.uniform4fv(this.renderShader.uniforms.clipPlane,this.scene.clipPlane),this.gl.uniform3fv(this.renderShader.uniforms.texVox,D),this.gl.uniform3fv(this.renderShader.uniforms.volScale,M),!this.pickingImageShader)throw new Error("pickingImageShader undefined");this.pickingImageShader.use(this.gl),this.gl.uniform1f(this.pickingImageShader.uniforms.overlays,this.overlays.length),this.gl.uniform3fv(this.pickingImageShader.uniforms.texVox,D),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipHi,this.opts.clipVolumeHigh);let E=this.sliceMMShader;if(this.opts.isV1SliceShader&&(E=this.sliceV1Shader),!E)throw new Error("slice shader undefined");E.use(this.gl),this.gl.uniform1f(E.uniforms.overlays,this.overlays.length),this.gl.uniform1f(E.uniforms.drawOpacity,this.drawOpacity),g!==null&&(this.gl.deleteTexture(g),this.gl.activeTexture(Ul),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture)),this.gl.uniform1i(E.uniforms.drawing,7),this.gl.activeTexture(gr),this.gl.bindTexture(this.gl.TEXTURE_3D,this.drawTexture),this.updateInterpolation(e)}colormaps(){return $t.colormaps()}addColormap(t,e){$t.addColormap(t,e)}setColormap(t,e){const n=this.getVolumeIndexByID(t);this.volumes[n].colormap=e,this.updateGLVolume()}idx(t,e,n,s){return n*s[0]*s[1]+e*s[0]+t}check_previous_slice(t,e,n,s,a,o,c,h){const u=new Uint32Array(27);let f=0;if(!a)return 0;const m=t[this.idx(n,s,a,o)];if(c>=6){const g=this.idx(n,s,a-1,o);m===t[g]&&(u[f++]=e[g])}if(c>=18){if(n){const g=this.idx(n-1,s,a-1,o);m===t[g]&&(u[f++]=e[g])}if(s){const g=this.idx(n,s-1,a-1,o);m===t[g]&&(u[f++]=e[g])}if(n<o[0]-1){const g=this.idx(n+1,s,a-1,o);m===t[g]&&(u[f++]=e[g])}if(s<o[1]-1){const g=this.idx(n,s+1,a-1,o);m===t[g]&&(u[f++]=e[g])}}if(c===26){if(n&&s){const g=this.idx(n-1,s-1,a-1,o);m===t[g]&&(u[f++]=e[g])}if(n<o[0]-1&&s){const g=this.idx(n+1,s-1,a-1,o);m===t[g]&&(u[f++]=e[g])}if(n&&s<o[1]-1){const g=this.idx(n-1,s+1,a-1,o);m===t[g]&&(u[f++]=e[g])}if(n<o[0]-1&&s<o[1]-1){const g=this.idx(n+1,s+1,a-1,o);m===t[g]&&(u[f++]=e[g])}}return f?(this.fill_tratab(h,u,f),u[0]):0}do_initial_labelling(t,e,n){let s=1;const a=8192;let o=a,c=new Uint32Array(o).fill(0);const h=new Uint32Array(e[0]*e[1]*e[2]).fill(0),u=new Uint32Array(27);for(let f=0;f<e[2];f++)for(let m=0;m<e[1];m++)for(let g=0;g<e[0];g++){let A=0;const v=t[this.idx(g,m,f,e)];if(v!==0){if(u[0]=this.check_previous_slice(t,h,g,m,f,e,n,c),u[0]&&(A+=1),n>=6){if(g){const x=this.idx(g-1,m,f,e);v===t[x]&&(u[A++]=h[x])}if(m){const x=this.idx(g,m-1,f,e);v===t[x]&&(u[A++]=h[x])}}if(n>=18){if(m&&g){const x=this.idx(g-1,m-1,f,e);v===t[x]&&(u[A++]=h[x])}if(m&&g<e[0]-1){const x=this.idx(g+1,m-1,f,e);v===t[x]&&(u[A++]=h[x])}}if(A)h[this.idx(g,m,f,e)]=u[0],this.fill_tratab(c,u,A);else{if(h[this.idx(g,m,f,e)]=s,s>=o){o+=a;const x=new Uint32Array(o);x.set(c),c=x}c[s-1]=s,s++}}}for(let f=0;f<s-1;f++){let m=f;for(;c[m]!==m+1;)m=c[m]-1;c[f]=m+1}return[s-1,c,h]}fill_tratab(t,e,n){let s=0;const a=new Uint32Array(n+5).fill(0);let c=2147483647;for(let h=0;h<n;h++){let u=e[h];for(s=0;t[u-1]!==u;)if(u=t[u-1],s++,s>100){Y.info(`
Ooh no!!`);break}a[h]=u,c=Math.min(c,u)}for(let h=0;h<n;h++)t[a[h]-1]=c}translate_labels(t,e,n,s){const a=e[0]*e[1]*e[2];let o=0;const c=new Uint32Array(a).fill(0);for(let f=0;f<s;f++)o=Math.max(o,n[f]);const h=new Uint32Array(o).fill(0);let u=0;for(let f=0;f<a;f++)t[f]&&(h[n[t[f]-1]-1]||(u+=1,h[n[t[f]-1]-1]=u),c[f]=h[n[t[f]-1]-1]);return[u,c]}largest_original_cluster_labels(t,e,n){const s=t.length,a=new Uint32Array(e+1).fill(0),o=new Uint32Array(e+1).fill(0);for(let u=0;u<s;u++){const f=t[u],m=n[u];a[m]=f,o[m]++}let c=0;for(let u=0;u<e+1;u++){const f=a[u];c=Math.max(c,f);for(let m=0;m<e+1;m++)m!==u&&f===a[m]&&(o[u]<o[m]||o[u]===o[m]&&u<m)&&(a[u]=0)}const h=new Uint32Array(s).fill(0);for(let u=0;u<s;u++)h[u]=a[n[u]];return[c,h]}bwlabel(t,e,n=26,s=!1,a=!1){const o=Date.now(),c=e[0]*e[1]*e[2],h=new Uint32Array(c).fill(0);if(![6,18,26].includes(n))return Y.info("bwlabel: conn must be 6, 18 or 26."),[0,h];if(e[0]<2||e[1]<2||e[2]<1)return Y.info("bwlabel: img must be 2 or 3-dimensional"),[0,h];if(s)for(let v=0;v<c;v++)t[v]!==0&&(h[v]=1);else h.set(t);let[u,f,m]=this.do_initial_labelling(h,e,n);f===void 0&&(f=new Uint32Array);const[g,A]=this.translate_labels(m,e,f,u);if(Y.info(n+" neighbor clustering into "+g+" regions in "+(Date.now()-o)+"ms"),a){const[v,x]=this.largest_original_cluster_labels(h,g,A);return[v,x]}return[g,A]}async createConnectedLabelImage(t,e=26,n=!1,s=!1){var m,g;const a=this.getVolumeIndexByID(t),o=Uint32Array.from(((m=this.volumes[a].dims)==null?void 0:m.slice(1,4))??[]),c=Uint32Array.from(((g=this.volumes[a].img)==null?void 0:g.slice())??[]),[h,u]=this.bwlabel(c,o,e,n,s),f=this.volumes[a].clone();f.opacity=.5,f.colormap="random";for(let A=0;A<f.img.length;A++)f.img[A]=u[A];return f.cal_min=0,f.cal_max=h,f}async scalecropUint8(t,e=0,n=255,s,a){const o=t.length,c=new Uint8Array(o);for(let h=0;h<o;h++){let u=t[h];u=e+a*(u-s),u=Math.max(u,e),u=Math.min(u,n),c[h]=u}return c}async scalecropFloat32(t,e=0,n=1,s,a){const o=t.length,c=new Float32Array(o);for(let h=0;h<o;h++){let u=t[h];u=e+a*(u-s),u=Math.max(u,e),u=Math.min(u,n),c[h]=u}return c}getScale(t,e=0,n=255,s=0,a=.999){let o=t.global_min,c=t.global_max;if(t.hdr.datatypeCode===2)return[o,1];if((!isFinite(s)||!isFinite(a))&&isFinite(t.cal_min)&&isFinite(t.cal_max)&&t.cal_max>t.cal_min){o=t.cal_min,c=t.cal_max;const T=(n-e)/(c-o);return Y.info(" Robust Rescale:  min: "+o+"  max: "+c+" scale: "+T),console.log("Robust Rescale:  min: "+o+"  max: "+c+" scale: "+T),[o,T]}const h=t.img,u=t.hdr.dims[1]*t.hdr.dims[2]*t.hdr.dims[3];if(t.hdr.scl_slope!==1||t.hdr.scl_inter!==0){const T=t.img,D=new Float32Array(t.img.length);for(let M=0;M<u;M++)D[M]=T[M]*t.hdr.scl_slope+t.hdr.scl_inter}if(o<0&&Y.warn("WARNING: Input image has value(s) below 0.0 !"),Y.info(" Input:    min: "+o+"  max: "+c),s===0&&a===1)return[o,1];let f=0;for(let T=0;T<u;T++)Math.abs(h[T])>=1e-15&&f++;const m=1e3,g=(c-o)/m,A=new Array(m).fill(0);for(let T=0;T<u;T++){const D=h[T];let M=Math.floor((D-o)/g);M=Math.min(M,m-1),A[M]++}const v=new Array(m).fill(0);v[0]=A[0];for(let T=1;T<m;T++)v[T]=v[T-1]+A[T];let x=Math.floor(s*u),y=0;for(;y<m&&!(v[y]>=x);)y++;const w=o;for(o=y*g+w,x=u-Math.floor((1-a)*f),y=0;y<m-1&&!(v[y+1]>=x);)y++;c=y*g+w;let C=1;return o!==c&&(C=(n-e)/(c-o)),Y.info(" Rescale:  min: "+o+"  max: "+c+" scale: "+C),[o,C]}conformVox2Vox(t,e,n=256,s=1,a=!1){const o=e.flat(),c=mi(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15]),h=ie(t[1]/2,t[2]/2,t[3]/2,1),u=Wi(),f=Vt();di(f,c),ze(u,h,f);const m=ut(u[0],u[1],u[2]),g=ut(s,s,s);let A=mi(-1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1);a&&(A=mi(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),di(A,A);const v=ie(n,n,n,1),x=Vt();Z2(x,A,g);const y=ie(v[0],v[1],v[2],1);ze(y,y,x),o4(y,y,.5);const w=ee();le(w,m,ut(y[0],y[1],y[2]));const C=Vt();di(C,x),C[3]=w[0],C[7]=w[1],C[11]=w[2];const T=Vt();ii(T,C);const D=Vt();cg(D,c,T);const M=Vt();return ii(M,D),[C,D,M]}async createNiftiArray(t=[256,256,256],e=[1,1,1],n=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],s=2,a=new Uint8Array){return await Qe.createNiftiArray(t,e,n,s,a)}async niftiArray2NVImage(t=new Uint8Array){return await Qe.loadFromUrl({url:t})}async loadFromUrl(t){return await Qe.loadFromUrl({url:t})}async conform(t,e=!1,n=!0,s=!1,a=!1){const h=this.conformVox2Vox(t.hdr.dims,t.hdr.affine.flat(),256,1,e),u=h[0],f=h[2],m=256*256*256,g=new Float32Array(m),A=new Float32Array(t.img),v=t.hdr.dims[1]*t.hdr.dims[2]*t.hdr.dims[3];if(t.hdr.scl_slope!==1||t.hdr.scl_inter!==0)for(let S=0;S<v;S++)A[S]=A[S]*t.hdr.scl_slope+t.hdr.scl_inter;const x=t.hdr.dims[1],y=t.hdr.dims[2],w=t.hdr.dims[3],C=x*y;let T=-1;function D(S,I,F){return S+I*x+F*C}const M=f[0],E=f[4],R=f[8];if(n)for(let S=0;S<256;S++)for(let I=0;I<256;I++){const F=I*f[1]+S*f[2]+f[3],L=I*f[5]+S*f[6]+f[7],k=I*f[9]+S*f[10]+f[11];for(let q=0;q<256;q++){const P=q*M+F,K=q*E+L,J=q*R+k,rt=Math.floor(P),G=Math.floor(K),tt=Math.floor(J);if(T++,rt<0||G<0||tt<0)continue;const at=Math.ceil(P),ot=Math.ceil(K),mt=Math.ceil(J);if(at>=x||ot>=y||mt>=w)continue;const ft=P-rt,dt=K-G,Ut=J-tt,Ft=1-ft,Ce=1-dt,ve=1-Ut,se=D(rt,G,tt);let Zt=0;Zt+=A[se]*Ft*Ce*ve,Zt+=A[se+C]*Ft*Ce*Ut,Zt+=A[se+x]*Ft*dt*ve,Zt+=A[se+x+C]*Ft*dt*Ut,Zt+=A[se+1]*ft*Ce*ve,Zt+=A[se+1+C]*ft*Ce*Ut,Zt+=A[se+1+x]*ft*dt*ve,Zt+=A[se+1+x+C]*ft*dt*Ut,g[T]=Zt}}else for(let S=0;S<256;S++)for(let I=0;I<256;I++){const F=I*f[1]+S*f[2]+f[3],L=I*f[5]+S*f[6]+f[7],k=I*f[9]+S*f[10]+f[11];for(let q=0;q<256;q++){const P=Math.round(q*M+F),K=Math.round(q*E+L),J=Math.round(q*R+k);T++,!(P<0||K<0||J<0)&&(P>=x||K>=y||J>=w||(g[T]=A[D(P,K,J)]))}}let B=0;a&&(B=NaN);let U=new Uint8Array;if(s){const S=await this.getScale(t,0,1,B),I=await this.scalecropFloat32(g,0,1,S[0],S[1]);U=await this.createNiftiArray([256,256,256],[1,1,1],Array.from(u),16,new Uint8Array(I.buffer))}else{const S=await this.getScale(t,0,255,B),I=await this.scalecropUint8(g,0,255,S[0],S[1]);U=await this.createNiftiArray([256,256,256],[1,1,1],Array.from(u),2,I)}return await this.niftiArray2NVImage(U)}setRenderDrawAmbientOcclusion(t){if(!this.renderShader)throw new Error("renderShader undefined");this.renderDrawAmbientOcclusion=t,this.renderShader.use(this.gl),this.gl.uniform1fv(this.renderShader.uniforms.renderDrawAmbientOcclusion,[this.renderDrawAmbientOcclusion,1]),this.drawScene()}setColorMap(t,e){this.setColormap(t,e)}setColormapNegative(t,e){const n=this.getVolumeIndexByID(t);this.volumes[n].colormapNegative=e,this.updateGLVolume()}setModulationImage(t,e,n=0){const s=this.getVolumeIndexByID(t);let a=null;e.length>0&&(a=this.getVolumeIndexByID(e)),this.volumes[s].modulationImage=a,this.volumes[s].modulateAlpha=n,this.updateGLVolume()}setGamma(t=1){this.scene.gamma=t,$t.gamma=t,this.updateGLVolume()}async loadDeferred4DVolumes(t){const e=this.getVolumeIndexByID(t),n=this.volumes[e];if(n.nTotalFrame4D<=n.nFrame4D)return;n.nTotalFrame4D=n.nFrame4D;let s;n.fileObject?s=await Qe.loadFromFile({file:n.fileObject}):s=await Qe.loadFromUrl({url:n.url}),s&&(n.img=s.img.slice(),n.nTotalFrame4D=s.nTotalFrame4D,n.nFrame4D=s.nFrame4D,this.updateGLVolume())}setFrame4D(t,e){const n=this.getVolumeIndexByID(t),s=this.volumes[n];e>s.nFrame4D-1&&(e=s.nFrame4D-1),e<0&&(e=0),e!==s.frame4D&&(s.frame4D=e,this.updateGLVolume(),this.onFrameChange(s,e),this.createOnLocationChange())}getFrame4D(t){const e=this.getVolumeIndexByID(t);return this.volumes[e].frame4D}colormapFromKey(t){return $t.colormapFromKey(t)}colormap(t="",e=!1){return $t.colormap(t,e)}createColormapTexture(t=null,e=0,n=256){return t!==null&&this.gl.deleteTexture(t),e<1||n<1?null:(t=this.gl.createTexture(),this.gl.activeTexture(Ul),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.texStorage2D(this.gl.TEXTURE_2D,1,this.gl.RGBA8,n,e),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),t)}addColormapList(t="",e=NaN,n=NaN,s=!1,a=!1,o=!0,c=!1){t.length<1&&(o=!1),this.colormapLists.push({name:t,min:e,max:n,isColorbarFromZero:s,negative:a,visible:o,invert:c})}refreshColormaps(){if(this.colormapLists=[],this.volumes.length<1&&this.meshes.length<1)return;const t=this.volumes.length;if(t>0)for(let o=0;o<t;o++){const c=this.volumes[o],h=Kh(c.cal_min,c.cal_max,c.cal_minNeg,c.cal_maxNeg),u=c.colormapType!==0;this.addColormapList(c.colormapNegative,h[0],h[1],u,!0,c.colorbarVisible,c.colormapInvert),this.addColormapList(c.colormap,c.cal_min,c.cal_max,u,!1,c.colorbarVisible,c.colormapInvert)}const e=this.meshes.length;if(e>0)for(let o=0;o<e;o++){const c=this.meshes[o];if(!c.colorbarVisible)continue;const h=c.layers.length;if("edgeColormap"in c&&"edges"in c&&c.edges!==void 0){const u=Kh(c.edgeMin,c.edgeMax,NaN,NaN);this.addColormapList(c.edgeColormapNegative,u[0],u[1],!1,!0,!0,c.colormapInvert),this.addColormapList(c.edgeColormap,c.edgeMin,c.edgeMax,!1,!1,!0,c.colormapInvert)}if(!(h<1))for(let u=0;u<h;u++){const f=this.meshes[o].layers[u];if(!f.colorbarVisible||f.colormap.length<1)continue;const m=f.colormapType!==0,g=Kh(f.cal_min,f.cal_max,f.cal_minNeg,f.cal_maxNeg);this.addColormapList(f.colormapNegative,g[0],g[1],m,!0,!0,f.colormapInvert),this.addColormapList(f.colormap,f.cal_min,f.cal_max,m,!1,!0,f.colormapInvert)}}const n=this.colormapLists.length;if(n<1)return;this.colormapTexture=this.createColormapTexture(this.colormapTexture,n+1);let s=new Uint8ClampedArray;function a(o){const c=new Uint8ClampedArray(s.length+o.length);c.set(s),c.set(o,s.length),s=c}for(let o=0;o<n;o++)a(Array.from(this.colormap(this.colormapLists[o].name,this.colormapLists[o].invert)));return a(Array.from(this.drawLut.lut)),this.gl.texSubImage2D(this.gl.TEXTURE_2D,0,0,0,256,n+1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s),this}sliceScale(t=!1){var o;let e=this.screenFieldOfViewMM(0);t&&(e=this.screenFieldOfViewVox(0));const n=Math.max(e[0],Math.max(e[1],e[2])),s=[e[0]/n,e[1]/n,e[2]/n];if(!((o=this.back)!=null&&o.dims))throw new Error("back.dims undefined");const a=[this.back.dims[1],this.back.dims[2],this.back.dims[3]];return{volScale:s,vox:a,longestAxis:n,dimsMM:e}}tileIndex(t,e){for(let n=0;n<this.screenSlices.length;n++){const s=this.screenSlices[n].leftTopWidthHeight;if(t>s[0]&&e>s[1]&&t<s[0]+s[2]&&e<s[1]+s[3])return n}return-1}inRenderTile(t,e){const n=this.tileIndex(t,e);return n>=0&&this.screenSlices[n].axCorSag===4?n:-1}sliceScroll3D(t=0){if(t!==0){if(this.volumes.length>0&&this.scene.clipPlaneDepthAziElev[0]<1.8){const e=this.scene.clipPlaneDepthAziElev.slice();return t>0&&(e[0]=Math.min(1.5,e[0]+.025)),t<0&&(e[0]=Math.max(-1.5,e[0]-.025)),e[0]!==this.scene.clipPlaneDepthAziElev[0]?(this.scene.clipPlaneDepthAziElev=e,this.setClipPlane(this.scene.clipPlaneDepthAziElev)):void 0}t>0&&(this.scene.volScaleMultiplier=Math.min(2,this.scene.volScaleMultiplier*1.1)),t<0&&(this.scene.volScaleMultiplier=Math.max(.5,this.scene.volScaleMultiplier*.9)),this.drawScene()}}deleteThumbnail(){this.bmpTexture&&(this.gl.deleteTexture(this.bmpTexture),this.bmpTexture=null,this.thumbnailVisible=!1)}inGraphTile(t,e){if(this.graph.opacity<=0||this.volumes.length<1||this.volumes[0].nFrame4D<1||!this.graph.plotLTWH||this.graph.plotLTWH[2]<1||this.graph.plotLTWH[3]<1)return!1;const n=[(t-this.graph.LTWH[0])/this.graph.LTWH[2],(e-this.graph.LTWH[1])/this.graph.LTWH[3]];return n[0]>0&&n[1]>0&&n[0]<=1&&n[1]<=1}updateBitmapFromClickToSegment(){if(this.clickToSegmentGrowingBitmap===null||this.drawBitmap===null||this.clickToSegmentGrowingBitmap.length!==this.drawBitmap.length)return;const t=this.drawBitmap.length;for(let e=0;e<t;e++)this.drawBitmap[e]=this.clickToSegmentGrowingBitmap[e]}sumBitmap(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}doClickToSegment(t){const{tileIndex:e}=t;if(e<0||e>=this.screenSlices.length){Y.warn(`Invalid tileIndex ${e} received in doClickToSegment.`);return}const n=this.screenSlices[e].axCorSag;if(n>2){Y.warn("ClickToSegment attempted on non-2D slice tile.");return}const s=this.screenXY2TextureFrac(this.clickToSegmentXY[0],this.clickToSegmentXY[1],e,!1);if(s[0]<0){Y.debug("Click location outside valid texture fraction for the tile.");return}const a=this.frac2vox(s),o=this.opts.clickToSegmentPercent;let c=this.back.getValue(a[0],a[1],a[2]);this.opts.clickToSegmentAutoIntensity&&(o!==0&&(c===0&&(c=.01),this.opts.clickToSegmentIntensityMax=c*(1+o),this.opts.clickToSegmentIntensityMin=c*(1-o)),c>(this.back.cal_min+this.back.cal_max)*.5?this.opts.clickToSegmentBright=!0:this.opts.clickToSegmentBright=!1);const h=this.opts.clickToSegmentBright?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;this.drawPenAxCorSag=n;const u=this.clickToSegmentIsGrowing?this.clickToSegmentGrowingBitmap:this.drawBitmap;if(!u){if(Y.error("Target bitmap for flood fill is null."),this.clickToSegmentIsGrowing){if(this.drawBitmap||this.createEmptyDrawing(),!this.drawBitmap)return;this.clickToSegmentGrowingBitmap=this.drawBitmap.slice()}else if(this.createEmptyDrawing(),!this.drawBitmap)return;Y.warn("Initialized missing bitmap in doClickToSegment.")}if(this.drawFloodFill([a[0],a[1],a[2]],this.opts.penValue,h,this.opts.clickToSegmentIntensityMin,this.opts.clickToSegmentIntensityMax,this.opts.floodFillNeighbors,this.opts.clickToSegmentMaxDistanceMM,this.opts.clickToSegmentIs2D,u),!this.clickToSegmentIsGrowing&&(Y.debug("Applying clickToSegment mask to drawBitmap."),this.drawBitmap?(this.refreshDrawing(!1,!1),this.drawScene()):Y.error("Cannot refresh drawing after click-to-segment apply, drawBitmap is null."),this.drawBitmap)){const f=this.getDescriptives({layer:0,masks:[],drawingIsMask:!0});this.onClickToSegment({mL:f.volumeML,mm3:f.volumeMM3})}this.createOnLocationChange(n)}mouseClick(t,e,n=0,s=!0){if(t*=this.uiData.dpr,e*=this.uiData.dpr,this.canvas.focus(),this.thumbnailVisible){this.thumbnailVisible=!1,Promise.all([this.loadVolumes(this.deferredVolumes),this.loadMeshes(this.deferredMeshes)]).catch(a=>{throw a});return}if(this.inGraphTile(t,e)){if(!this.graph.plotLTWH)throw new Error("plotLTWH undefined");const a=[(t-this.graph.plotLTWH[0])/this.graph.plotLTWH[2],(e-this.graph.plotLTWH[1])/this.graph.plotLTWH[3]];if(a[0]>0&&a[1]>0&&a[0]<=1&&a[1]<=1){const o=Math.round(a[0]*(this.volumes[0].nFrame4D-1));this.setFrame4D(this.volumes[0].id,o);return}a[0]>.5&&a[1]>1&&this.loadDeferred4DVolumes(this.volumes[0].id).catch(o=>{throw o});return}if(this.inRenderTile(t,e)>=0){this.sliceScroll3D(n),this.drawScene();return}if(!(this.screenSlices.length<1||this.gl.canvas.height<1||this.gl.canvas.width<1))for(let a=0;a<this.screenSlices.length;a++){const o=this.screenSlices[a].axCorSag;if(this.drawPenAxCorSag>=0&&this.drawPenAxCorSag!==o||o>2&&!this.opts.clickToSegment&&n===0)continue;const c=this.screenXY2TextureFrac(t,e,a,!0);if(!(c[0]<0)){if(n!==0||!s){if(!s){o<=2&&(this.scene.crosshairPos[2-o]=n,this.drawScene(),this.createOnLocationChange(o));return}const h=n<0?-1:1,u=[0,0,0];o<=2&&(u[2-o]=h,this.moveCrosshairInVox(u[0],u[1],u[2]));return}if(this.opts.isForceMouseClickToVoxelCenters?this.scene.crosshairPos=qa(this.vox2frac(this.frac2vox(c))):this.scene.crosshairPos=qa(c),this.opts.drawingEnabled){const h=this.frac2vox(this.scene.crosshairPos);if(!isFinite(this.opts.penValue)||this.opts.penValue<0||Object.is(this.opts.penValue,-0)){let u=0,f=Math.abs(this.opts.penValue);const m=!0;Object.is(this.opts.penValue,-0)?(u=0,f=0,Y.debug("Erase Cluster selected")):(u=this.opts.penValue,Y.debug("Intensity Grow selected",u)),this.drawFloodFill(h,f,u,NaN,NaN,this.opts.floodFillNeighbors,Number.POSITIVE_INFINITY,!1,this.drawBitmap,m),this.drawScene(),this.createOnLocationChange(o);return}else if(this.opts.clickToSegment){o<=2&&(this.clickToSegmentIsGrowing=!1,this.doClickToSegment({x:this.clickToSegmentXY[0],y:this.clickToSegmentXY[1],tileIndex:a})),this.createOnLocationChange(o);return}else{if(isNaN(this.drawPenLocation[0]))this.drawPenAxCorSag=o,this.drawPenFillPts=[],this.drawPt(...h,this.opts.penValue);else{if(h[0]===this.drawPenLocation[0]&&h[1]===this.drawPenLocation[1]&&h[2]===this.drawPenLocation[2]){this.drawScene(),this.createOnLocationChange(o);return}this.drawPenLine(h,this.drawPenLocation,this.opts.penValue)}this.drawPenLocation=h,this.opts.isFilledPen&&this.drawPenFillPts.push(h),this.refreshDrawing(!1,!1)}}this.drawScene(),this.createOnLocationChange(o);return}}}drawRuler(){let t=[],e=[];for(let m=0;m<this.screenSlices.length;m++)if(this.screenSlices[m].axCorSag!==4&&this.screenSlices[m].fovMM.length>1){e=this.screenSlices[m].leftTopWidthHeight,t=this.screenSlices[m].fovMM;break}if(e.length<4)return;const s=100/t[0]*e[2],a=Math.max(Math.round(s*.1),2),o=Math.floor(e[0]+.5*e[2]-.5*s),c=Number(this.opts.rulerWidth),h=Math.floor(e[1]+e[3]-a)+.5*c,u=[o,h,o+s,h];let f=[0,0,0,1];this.opts.rulerColor[0]+this.opts.rulerColor[1]+this.opts.rulerColor[2]<.8&&(f=[1,1,1,1]),this.drawRuler10cm(u,f,c+1),this.drawRuler10cm(u,this.opts.rulerColor,c)}drawRuler10cm(t,e,n=1){if(!this.lineShader)throw new Error("lineShader undefined");this.gl.bindVertexArray(this.genericVAO),this.lineShader.use(this.gl),this.gl.uniform4fv(this.lineShader.uniforms.lineColor,e),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,n),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,t),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4);const s=-.1*(t[0]-t[2]),a=t[1]-Math.floor(.5*this.opts.rulerWidth),o=Math.floor(a-.35*s),c=Math.floor(a-.7*s);for(let h=0;h<11;h++){let u=t[0]+h*s;u=Math.max(u,t[0]+.5*n),u=Math.min(u,t[2]-.5*n);const f=[u,a,u,o];h%5===0&&(f[3]=c),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,f),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}this.gl.bindVertexArray(this.unusedVAO)}screenXY2mm(t,e,n=-1){let s;for(let a=0;a<this.screenSlices.length;a++){let o=a;if(n>=0&&(o=n),this.screenSlices[o].axCorSag>2)continue;const h=this.screenSlices[o].leftTopWidthHeight;if(t<h[0]||e<h[1]||t>h[0]+h[2]||e>h[1]+h[3]||(s=this.screenXY2TextureFrac(t,e,o,!1),s[0]<0))continue;const u=this.frac2mm(s);return ie(u[0],u[1],u[2],o)}return ie(NaN,NaN,NaN,NaN)}dragForPanZoom(t){const e=this.screenXY2mm(t[2],t[3]);if(isNaN(e[0]))return;const n=this.screenXY2mm(t[0],t[1],e[3]);if(isNaN(n[0])||isNaN(e[0])||isNaN(e[3]))return;const s=Wi(),a=this.uiData.pan2DxyzmmAtMouseDown[3];l4(s,e,n),this.scene.pan2Dxyzmm[0]=this.uiData.pan2DxyzmmAtMouseDown[0]+a*s[0],this.scene.pan2Dxyzmm[1]=this.uiData.pan2DxyzmmAtMouseDown[1]+a*s[1],this.scene.pan2Dxyzmm[2]=this.uiData.pan2DxyzmmAtMouseDown[2]+a*s[2],this.canvas.focus()}dragForCenterButton(t){this.dragForPanZoom(t)}dragForSlicer3D(t){let e=this.uiData.pan2DxyzmmAtMouseDown[3];const n=t[3]-t[1];e+=n*.01,e=Math.max(e,.1),e=Math.min(e,10);const a=this.scene.pan2Dxyzmm[3]-e;this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=e),this.scene.pan2Dxyzmm[3]=e;const o=this.frac2mm(this.scene.crosshairPos);this.scene.pan2Dxyzmm[0]+=a*o[0],this.scene.pan2Dxyzmm[1]+=a*o[1],this.scene.pan2Dxyzmm[2]+=a*o[2]}drawMeasurementTool(t){function e(u,f,m,g,A){const v=u-m,x=f-g;if(v===0&&x===0)return{origin:[m+A,g],terminus:[m+A,g]};const y=Math.sqrt(v*v+x*x),w=A*v/y,C=A*x/y;return{origin:[u+w,f+C],terminus:[m-w,g-C]}}const n=this.gl;if(n.bindVertexArray(this.genericVAO),n.depthFunc(n.ALWAYS),n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl),n.uniform4fv(this.lineShader.uniforms.lineColor,this.opts.rulerColor),n.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[n.canvas.width,n.canvas.height]),n.uniform1f(this.lineShader.uniforms.thickness,this.opts.rulerWidth),n.uniform4fv(this.lineShader.uniforms.startXYendXY,t),n.drawArrays(n.TRIANGLE_STRIP,0,4);const s=this.opts.measureLineColor;s[3]=1,n.uniform4fv(this.lineShader.uniforms.lineColor,s);const a=this.opts.rulerWidth;n.uniform1f(this.lineShader.uniforms.thickness,a*2);let o=[t[0],t[1]-a,t[0],t[1]+a];n.uniform4fv(this.lineShader.uniforms.startXYendXY,o),n.drawArrays(n.TRIANGLE_STRIP,0,4),o=[t[2],t[3]-a,t[2],t[3]+a],n.uniform4fv(this.lineShader.uniforms.startXYendXY,o),n.drawArrays(n.TRIANGLE_STRIP,0,4);let c=this.canvasPos2frac([t[0],t[1]]),h=this.canvasPos2frac([t[2],t[3]]);if(c[0]>=0&&h[0]>=0){const u=this.frac2mm(c);c=ut(u[0],u[1],u[2]);const f=this.frac2mm(h);h=ut(f[0],f[1],f[2]);const m=ee();J2(m,c,h);const g=Xa(m);let A=2;g>9&&(A=1),g>99&&(A=0);let v=g.toFixed(A);this.opts.showMeasureUnits&&(v=`${v} mm`);let x=t;const[y,w,C,T]=t,{origin:D,terminus:M}=e(y,w,C,T,30);switch(this.opts.measureTextJustify){case"start":x=[...D,...D.map(E=>E+1)];break;case"end":x=x=[...M,...M.map(E=>E+1)];break;default:x=t;break}this.drawTextBetween(x,v,this.opts.measureTextHeight/this.opts.textHeight,this.opts.measureTextColor)}n.bindVertexArray(this.unusedVAO)}drawRect(t,e=[1,0,0,-1]){if(e[3]<0&&(e=this.opts.crosshairColor),!this.rectShader)throw new Error("rectShader undefined");this.opts.selectionBoxIsOutline?(this.drawCircle(t,e,.1),this.rectOutlineShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform1f(this.rectOutlineShader.uniforms.thickness,this.opts.selectionBoxLineThickness),this.gl.uniform4fv(this.rectOutlineShader.uniforms.lineColor,e),this.gl.uniform2fv(this.rectOutlineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.rectOutlineShader.uniforms.leftTopWidthHeight,t[0],t[1],t[2],t[3]),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)):(this.rectShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform4fv(this.rectShader.uniforms.lineColor,e),this.gl.uniform2fv(this.rectShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.rectShader.uniforms.leftTopWidthHeight,t[0],t[1],t[2],t[3]),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO))}drawCircle(t,e=this.opts.fontColor,n=1){if(!this.circleShader)throw new Error("circleShader undefined");this.circleShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform4fv(this.circleShader.uniforms.circleColor,e),this.gl.uniform2fv(this.circleShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.circleShader.uniforms.leftTopWidthHeight,t[0],t[1],t[2],t[3]),this.gl.uniform1f(this.circleShader.uniforms.fillPercent,n),this.gl.uniform4fv(this.circleShader.uniforms.circleColor,e),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawSelectionBox(t){if(this.opts.dragMode===6){this.drawCircle(t,this.opts.selectionBoxColor,.1);return}this.drawRect(t,this.opts.selectionBoxColor)}effectiveCanvasHeight(){return this.gl.canvas.height-this.colorbarHeight}effectiveCanvasWidth(){return this.gl.canvas.width-this.getLegendPanelWidth()}getAllLabels(){const s=this.meshes.filter(o=>o.type==="connectome").flatMap(o=>o.nodes).map(o=>o.label).filter(o=>o!==void 0);return[...this.document.labels,...s]}getConnectomeLabels(){const s=this.meshes.filter(c=>c.type==="connectome").flatMap(c=>c.nodes).map(c=>c.label).filter(c=>c!==void 0),a=this.document.labels.filter(c=>c.anchor==null||c.anchor===0),o=new Set(s);for(const c of a)o.add(c);return Array.from(o)}getBulletMarginWidth(){let t=0;const e=this.getConnectomeLabels();if(e.length===0)return 0;const n=e.length===1?e[0].style.bulletScale:e.reduce((o,c)=>o.style.bulletScale>c.style.bulletScale?o:c).style.bulletScale,s=e.length===1?e[0]:e.reduce((o,c)=>{const h=this.opts.textHeight*this.gl.canvas.height*o.style.textScale,u=this.opts.textHeight*this.gl.canvas.height*c.style.textScale;return this.textHeight(h,o.text)>this.textHeight(u,c.text)?o:c}),a=this.opts.textHeight*this.gl.canvas.height*s.style.textScale;return t=this.textHeight(a,s.text)*n,t+=a,t}getLegendPanelWidth(){const t=this.getConnectomeLabels();if(!this.opts.showLegend||t.length===0)return 0;const n=this.opts.textHeight*this.gl.canvas.height*1;let s=0;const a=t.reduce((u,f)=>{const m=this.opts.textHeight*this.gl.canvas.height*u.style.textScale,g=this.opts.textHeight*this.gl.canvas.height*f.style.textScale;return this.textWidth(m,u.text)>this.textWidth(g,f.text)?u:f}),o=this.opts.textHeight*this.gl.canvas.height*a.style.textScale,c=this.textWidth(o,a.text),h=this.getBulletMarginWidth();return c&&(s=h+c,s+=n*2),s>=this.gl.canvas.width?0:s}getLegendPanelHeight(){const t=this.getConnectomeLabels();let e=0;const s=this.opts.textHeight*this.gl.canvas.height*1;for(const a of t){const o=this.opts.textHeight*this.gl.canvas.height*a.style.textScale,c=this.textHeight(o,a.text);e+=c}return e&&(e+=s/2*(t.length+1)),e}reserveColorbarPanel(){let t=Math.max(this.opts.textHeight,.01);t=t*Math.min(this.gl.canvas.height,this.gl.canvas.width);const e=3*t,s=(this.opts.colorbarWidth>0&&this.opts.colorbarWidth<=1?this.opts.colorbarWidth:1)*this.gl.canvas.width,a=[(this.gl.canvas.width-s)/2,this.gl.canvas.height-e,s,e];return this.colorbarHeight=a[3]+1,a}drawColorbarCore(t=0,e=[0,0,0,0],n=!1,s=0,a=1,o){if(e[2]<=0||e[3]<=0)return;let c=Math.max(this.opts.textHeight,.01);c=c*Math.min(this.gl.canvas.height,this.gl.canvas.width);let h=c;const u=3*c;let f=c;if(e[3]<u){if(e[3]<3)return;h=1,f=e[3]-2}this.gl.disable(this.gl.DEPTH_TEST),this.colorbarHeight=e[3]+1;const m=[e[0]+h,e[1],e[2]-2*h,f],g=[m[0]-1,m[1]-1,m[2]+2,m[3]+2];if(this.opts.showColorbarBorder&&this.drawRect(g,this.opts.crosshairColor),!this.colorbarShader)throw new Error("colorbarShader undefined");this.colorbarShader.use(this.gl),this.gl.activeTexture(Ul),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST);const A=t;if(this.gl.uniform1f(this.colorbarShader.uniforms.layer,A),this.gl.uniform2fv(this.colorbarShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.disable(this.gl.CULL_FACE),n){const R=[m[0]+m[2],m[1],-m[2],m[3]];this.gl.uniform4fv(this.colorbarShader.uniforms.leftTopWidthHeight,R)}else this.gl.uniform4fv(this.colorbarShader.uniforms.leftTopWidthHeight,m);this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);let v=0;if(o&&a<0&&n?(v=a,a=0):o&&s>0&&(v=s,s=0),s===a||c<1)return;const x=Math.abs(a-s);let[y,w]=gm(s,a);w<s&&(w+=y);function C(R){return R.toFixed(6).replace(/\.?0*$/,"")}let T=w;const D=[0,m[1]+m[3]-c*.5,2,c*.75],M=D[1]+D[3],E=1;for(;T<=a;){D[0]=m[0]+(T-s)/x*m[2],this.drawRect(D);const R=C(E*T);this.drawTextBelow([D[0],M],R),T+=y}if(v!==0){const R=[m[0]+(v-s)/x*m[2],m[1]-m[3]*.25,2,m[3]*1.5];this.drawRect(R)}}drawColorbar(){const t=this.colormapLists,e=t.length;if(e<1)return;let n=0;for(let h=0;h<e;h++)t[h].visible&&n++;if(n<1)return;let s=this.reserveColorbarPanel(),a=Math.max(this.opts.textHeight,.01);a=a*Math.min(this.gl.canvas.height,this.gl.canvas.width);const o=3*a;let c=s[2]/n;(s[2]<=0||s[3]<=0)&&(c=this.gl.canvas.width/n,s=[0,this.gl.canvas.height-o,c,o]),s[2]=c;for(let h=0;h<e;h++)t[h].visible&&(this.drawColorbarCore(h,s,t[h].negative,t[h].min,t[h].max,t[h].isColorbarFromZero),s[0]+=c)}textWidth(t,e){if(!e)return 0;let n=0;const s=new TextEncoder().encode(e);for(let a=0;a<e.length;a++)n+=t*this.fontMets.mets[s[a]].xadv;return n}textHeight(t,e){if(!e)return 0;const n=new Set(Array.from(e)),s=new TextEncoder().encode(Array.from(n).join("")),o=Object.values(this.fontMets.mets).filter((c,h)=>s.includes(h)).reduce((c,h)=>c.lbwh[3]>h.lbwh[3]?c:h).lbwh[3];return t*o}drawChar(t,e,n){if(!this.fontShader)throw new Error("fontShader undefined");const s=this.fontMets.mets[n],a=t[0]+e*s.lbwh[0],o=-(e*s.lbwh[1]),c=e*s.lbwh[2],h=e*s.lbwh[3],u=t[1]+(o-h)+e;return this.gl.uniform4f(this.fontShader.uniforms.leftTopWidthHeight,a,u,c,h),this.gl.uniform4fv(this.fontShader.uniforms.uvLeftTopWidthHeight,s.uv_lbwh),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),e*s.xadv}drawLoadingText(t){if(t){if(!this.canvas)throw new Error("canvas undefined");this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.enable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.drawTextBelow([this.canvas.width/2,this.canvas.height/2],t,3)}}drawText(t,e,n=1,s=null){if(this.opts.textHeight<=0)return;if(!this.fontShader)throw new Error("fontShader undefined");this.fontShader.use(this.gl);const a=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*n;this.gl.enable(this.gl.BLEND),this.gl.uniform2f(this.fontShader.uniforms.canvasWidthHeight,this.gl.canvas.width,this.gl.canvas.height),s===null&&(s=this.opts.fontColor),this.gl.uniform4fv(this.fontShader.uniforms.fontColor,s);let o=a/this.fontMets.size*this.fontMets.distanceRange;o=Math.max(o,1),this.gl.uniform1f(this.fontShader.uniforms.screenPxRange,o);const c=new TextEncoder().encode(e);this.gl.bindVertexArray(this.genericVAO);for(let h=0;h<e.length;h++)t[0]+=this.drawChar(t,a,c[h]);this.gl.bindVertexArray(this.unusedVAO)}drawTextRight(t,e,n=1,s=null){this.opts.textHeight<=0||(t[1]-=.5*this.opts.textHeight*this.gl.canvas.height,this.drawText(t,e,n,s))}drawTextLeft(t,e,n=1,s=null){if(this.opts.textHeight<=0)return;const a=this.opts.textHeight*this.gl.canvas.height*n;t[0]-=this.textWidth(a,e),t[1]-=.5*a,this.drawText(t,e,n,s)}drawTextRightBelow(t,e,n=1,s=null){this.opts.textHeight<=0||this.drawText(t,e,n,s)}drawTextBetween(t,e,n=1,s=null){if(this.opts.textHeight<=0)return;const a=[(t[0]+t[2])*.5,(t[1]+t[3])*.5],o=this.opts.textHeight*this.gl.canvas.height*n,c=this.textWidth(o,e);a[0]-=.5*c,a[1]-=.5*o;const h=[a[0]-1,a[1]-1,c+2,o+2];let u=s;u===null&&(u=this.opts.crosshairColor),u&&u[0]+u[1]+u[2]>.8?u=[0,0,0,.5]:u=[1,1,1,.5],this.drawRect(h,u),this.drawText(a,e,n,s)}drawTextBelow(t,e,n=1,s=null){if(this.opts.textHeight<=0)return;if(!this.canvas)throw new Error("canvas undefined");let a=this.opts.textHeight*this.gl.canvas.height*n,o=this.textWidth(a,e);o>this.canvas.width&&(n*=(this.canvas.width-2)/o,a=this.opts.textHeight*this.gl.canvas.height*n,o=this.textWidth(a,e)),t[0]-=.5*this.textWidth(a,e),t[0]=Math.max(t[0],1),t[0]=Math.min(t[0],this.canvas.width-o-1),this.drawText(t,e,n,s)}updateInterpolation(t,e=!1){let n=this.gl.LINEAR;!e&&this.opts.isNearestInterpolation&&(n=this.gl.NEAREST),t===0?this.gl.activeTexture(Rl):this.gl.activeTexture(jh),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,n),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,n)}setAtlasOutline(t){this.opts.atlasOutline=t,this.updateGLVolume(),this.drawScene()}setInterpolation(t){this.opts.isNearestInterpolation=t;const e=this.volumes.length;if(!(e<1)){for(let n=0;n<e;n++)this.updateInterpolation(n);this.drawScene()}}calculateMvpMatrix2D(t,e,n,s=1/0,a=0,o=0,c=0,h){this.gl.viewport(t[0],this.gl.canvas.height-(t[1]+t[3]),t[2],t[3]);let f=e[0],m=n[0],g=[f,e[1]],A=[m-f,n[1]-e[1]];h&&(g=[n[0],e[1]],A=[e[0]-n[0],n[1]-e[1]],f=-n[0],m=-e[0]);const v=2*Math.max(Math.abs(e[2]),Math.abs(n[2])),x=Vt();let y=.01,w=v*8;if(s!==1/0){let R=h;c===0&&(o===0||o===180)&&(R=!R);let B=v*1.8-a;R||(B=v*1.8+a),y=B-s,w=B+s}Cl(x,f,m,e[1],n[1],y,w);const C=Vt();C[0]=-1;const T=ut(0,0,-v*1.8);br(C,C,T),bl(C,C,qn(270-c)),wl(C,C,qn(o-180));const D=Vt();ii(D,C);const M=Vt();di(M,D);const E=Vt();return Qn(E,x,C),{modelViewProjectionMatrix:E,modelMatrix:C,normalMatrix:M,leftTopMM:g,fovMM:A}}swizzleVec3MM(t,e){return e===1?t=Ge(t,[0,2,1]):e===2&&(t=Ge(t,[1,2,0])),t}screenFieldOfViewVox(t=0){const e=qa(this.volumeObject3D.fieldOfViewDeObliqueMM);return this.swizzleVec3MM(e,t)}screenFieldOfViewMM(t=0,e=!1){if(!e&&!this.opts.isSliceMM)return this.screenFieldOfViewVox(t);const n=this.volumeObject3D.extentsMin,s=this.volumeObject3D.extentsMax;let a=ut(n[0],n[1],n[2]),o=ut(s[0],s[1],s[2]);a=this.swizzleVec3MM(a,t),o=this.swizzleVec3MM(o,t);const c=ee();return le(c,o,a),c}screenFieldOfViewExtendedVox(t=0){const e=this.volumes[0].extentsMinOrtho,n=this.volumes[0].extentsMaxOrtho;let s=ut(e[0],e[1],e[2]),a=ut(n[0],n[1],n[2]);const o=Vt();s=this.swizzleVec3MM(s,t),a=this.swizzleVec3MM(a,t);const c=ee();return le(c,a,s),{mnMM:s,mxMM:a,rotation:o,fovMM:c}}screenFieldOfViewExtendedMM(t=0){if(!this.volumeObject3D)throw new Error("volumeObject3D undefined");const e=this.volumeObject3D.extentsMin,n=this.volumeObject3D.extentsMax;let s=ut(e[0],e[1],e[2]),a=ut(n[0],n[1],n[2]);const o=Vt();s=this.swizzleVec3MM(s,t),a=this.swizzleVec3MM(a,t);const c=ee();return le(c,a,s),{mnMM:s,mxMM:a,rotation:o,fovMM:c}}drawSliceOrientationText(t,e,n=[NaN,NaN]){this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height);let s="S";e===0&&(s="A");let a=this.opts.isRadiologicalConvention?"R":"L";if(e===2&&(a=this.opts.sagittalNoseLeft?"A":"P"),this.opts.isCornerOrientationText){this.drawTextRightBelow([t[0],t[1]],a+s);return}let o=!0,c=!0;if(!isNaN(n[0])){const h=this.opts.textHeight*this.gl.canvas.height+2;n[1]>h&&(this.drawTextBelow([t[0]+t[2]*.5,t[1]+n[1]-h],s),o=!1);const u=this.textWidth(h,a)+2;n[0]>u&&(this.drawTextRight([t[0]+n[0]-u,t[1]+t[3]*.5],a),c=!1)}o&&this.drawTextBelow([t[0]+t[2]*.5,t[1]],s),c&&this.drawTextRight([t[0],t[1]+t[3]*.5],a)}xyMM2xyzMM(t,e){let n=2;t===1&&(n=1),t===2&&(n=0);let s=[0,0,0],a=[1,1,0],o=[1,0,1];s[n]=e,a[n]=e,o[n]=e,s=this.frac2mm(s),a=this.frac2mm(a),o=this.frac2mm(o),s=this.swizzleVec3MM(ut(s[0],s[1],s[2]),t),a=this.swizzleVec3MM(ut(a[0],a[1],a[2]),t),o=this.swizzleVec3MM(ut(o[0],o[1],o[2]),t);const c=(a[0]-s[0])*(o[1]-s[1])-(o[0]-s[0])*(a[1]-s[1]);let h=(a[0]-s[0])*(o[2]-s[2])-(o[0]-s[0])*(a[2]-s[2]);h/=c;let u=(a[1]-s[1])*(o[2]-s[2])-(o[1]-s[1])*(a[2]-s[2]);u/=c;const f=[0,0,0,0,0];return f[0]=s[0],f[1]=s[1],f[2]=s[2],f[3]=u,f[4]=h,f}draw2DMain(t,e,n=NaN){let s=this.volumes[0].frac2mm.slice(),a=this.screenFieldOfViewExtendedMM(e),o=Vt();this.opts.isSliceMM||(s=this.volumes[0].frac2mmOrtho.slice(),o=Ae(this.volumes[0].mm2ortho),a=this.screenFieldOfViewExtendedVox(e));let c=this.opts.isRadiologicalConvention&&e<2;n===1/0||n===-1/0?(c=n!==1/0,e===1&&(c=!c)):this.opts.sagittalNoseLeft&&e===2&&(c=!c);let h=0,u=0;e===2?u=c?90:-90:e===1?u=c?180:0:(u=c?180:0,h=c?-90:90);const f=this.gl;let m=!1;if(t[2]===0||t[3]===0){m=!0;const C=f.canvas.width/a.fovMM[0],T=f.canvas.height/a.fovMM[1],D=Math.min(C,T),M=C/D,E=T/D;a.fovMM[0]*=M,a.fovMM[1]*=E;let R=(a.mnMM[0]+a.mxMM[0])*.5;a.mnMM[0]=R-a.fovMM[0]*.5,a.mxMM[0]=R+a.fovMM[0]*.5,R=(a.mnMM[1]+a.mxMM[1])*.5,a.mnMM[1]=R-a.fovMM[1]*.5,a.mxMM[1]=R+a.fovMM[1]*.5,t=[0,0,f.canvas.width,f.canvas.height]}if(isNaN(n)){const C=this.scene.pan2Dxyzmm,T=this.swizzleVec3MM(ut(C[0],C[1],C[2]),e),D=this.scene.pan2Dxyzmm[3];a.mnMM[0]-=T[0],a.mxMM[0]-=T[0],a.mnMM[1]-=T[1],a.mxMM[1]-=T[1],a.mnMM[0]/=D,a.mxMM[0]/=D,a.mnMM[1]/=D,a.mxMM[1]/=D}let g=2;e===1&&(g=1),e===2&&(g=0);let A=this.scene.crosshairPos[g],v=this.frac2mm(this.scene.crosshairPos);!isNaN(n)&&n!==1/0&&n!==-1/0&&(v=this.frac2mm([.5,.5,.5]),v[g]=n,A=this.mm2frac(v)[g]);const x=v[g];f.clear(f.DEPTH_BUFFER_BIT);let y=this.calculateMvpMatrix2D(t,a.mnMM,a.mxMM,1/0,0,u,h,c);if(n===1/0||n===-1/0){const C=t.slice();this.draw3D(t,y.modelViewProjectionMatrix,y.modelMatrix,y.normalMatrix,u,h);const T=this.screenSlices[this.screenSlices.length-1];T.leftTopWidthHeight=C,T.axCorSag=e,T.sliceFrac=1/0,T.AxyzMxy=this.xyMM2xyzMM(e,A),T.leftTopMM=y.leftTopMM,T.fovMM=y.fovMM;return}f.enable(f.DEPTH_TEST),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.disable(f.BLEND),f.depthFunc(f.GREATER),f.disable(f.CULL_FACE);let w=this.sliceMMShader;if(this.opts.isV1SliceShader&&(w=this.sliceV1Shader),!w)throw new Error("slice Shader undefined");if(w.use(this.gl),f.uniform1f(w.uniforms.overlayOutlineWidth,this.overlayOutlineWidth),f.uniform1f(w.uniforms.overlayAlphaShader,this.overlayAlphaShader),f.uniform1i(w.uniforms.isAlphaClipDark,this.isAlphaClipDark?1:0),f.uniform1i(w.uniforms.backgroundMasksOverlays,this.backgroundMasksOverlays),f.uniform1f(w.uniforms.drawOpacity,this.drawOpacity),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.uniform1f(w.uniforms.opacity,this.volumes[0].opacity),f.uniform1i(w.uniforms.axCorSag,e),f.uniform1f(w.uniforms.slice,A),f.uniformMatrix4fv(w.uniforms.frac2mm,!1,s),f.uniformMatrix4fv(w.uniforms.mvpMtx,!1,y.modelViewProjectionMatrix.slice()),f.bindVertexArray(this.genericVAO),f.drawArrays(f.TRIANGLE_STRIP,0,4),f.bindVertexArray(this.unusedVAO),this.screenSlices.push({leftTopWidthHeight:t,axCorSag:e,sliceFrac:A,AxyzMxy:this.xyMM2xyzMM(e,A),leftTopMM:y.leftTopMM,screen2frac:[],fovMM:y.fovMM}),isNaN(n)&&this.drawCrosshairs3D(!0,1,y.modelViewProjectionMatrix,!0,this.opts.isSliceMM),this.opts.meshThicknessOn2D>0){this.opts.meshThicknessOn2D!==1/0&&(y=this.calculateMvpMatrix2D(t,a.mnMM,a.mxMM,this.opts.meshThicknessOn2D,x,u,h,c));const C=Ae(y.modelViewProjectionMatrix);Qn(C,C,o),this.drawMesh3D(!0,1,C,y.modelMatrix,y.normalMatrix)}isNaN(n)&&this.drawCrosshairs3D(!1,.15,y.modelViewProjectionMatrix,!0,this.opts.isSliceMM),m&&this.drawSliceOrientationText(t,e),this.readyForSync=!0}draw2D(t,e,n=NaN,s=[NaN,NaN]){const a=[NaN,NaN];if(s[0]===1/0){const o=this.sliceScale().volScale;let c=this.scaleSlice(o[0],o[1],[0,0],[t[2],t[3]]);e===1&&(c=this.scaleSlice(o[0],o[2],[0,0],[t[2],t[3]])),e===2&&(c=this.scaleSlice(o[1],o[2],[0,0],[t[2],t[3]])),s[0]=c[2],s[1]=c[3]}if(isNaN(s[0]))this.draw2DMain(t,e,n);else{const o=t.slice();a[0]=Math.floor(.5*(o[2]-s[0])),a[1]=Math.floor(.5*(o[3]-s[1])),o[0]+=a[0],o[1]+=a[1],o[2]=s[0],o[3]=s[1],this.draw2DMain(o,e,n)}n===1/0||n===-1/0||e===4||t[2]!==0&&t[3]!==0&&this.drawSliceOrientationText(t,e,a)}calculateMvpMatrix(t,e=[0,0,0,0],n,s){(e[2]===0||e[3]===0)&&(e=[0,0,this.gl.canvas.width,this.gl.canvas.height]);const a=e[2]/e[3];let o=this.furthestFromPivot;const c=this.pivot3D,h=Vt();o=.8*o/this.scene.volScaleMultiplier,a<1?Cl(h,-o,o,-o/a,o/a,o*.01,o*8):Cl(h,-o*a,o*a,-o,o,o*.01,o*8);const u=Vt();u[0]=-1;const f=ut(0,0,-o*1.8);br(u,u,f),this.position&&br(u,u,this.position),bl(u,u,qn(270-s)),wl(u,u,qn(n-180)),br(u,u,[-c[0],-c[1],-c[2]]);const m=Vt();ii(m,u);const g=Vt();di(g,m);const A=Vt();return Qn(A,h,u),[A,u,g]}calculateModelMatrix(t,e){if(!this.back)throw new Error("back undefined");const n=Vt();if(n[0]=-1,bl(n,n,qn(270-e)),wl(n,n,qn(t-180)),this.back.obliqueRAS){const s=Ae(this.back.obliqueRAS);Qn(n,n,s)}return n}calculateRayDirection(t,e){const n=this.calculateModelMatrix(t,e),s=mi(1,0,0,0,0,-1,0,0,0,0,-1,0,0,0,0,1),a=Vt();Qn(a,s,n);const o=Vt();ii(o,a);const c=ie(0,0,-1,1);ze(c,c,o);const h=ut(c[0],c[1],c[2]);Bi(h,h);const u=5e-5;return Math.abs(h[0])<u&&(h[0]=u),Math.abs(h[1])<u&&(h[1]=u),Math.abs(h[2])<u&&(h[2]=u),h}sceneExtentsMinMax(t=!0){let e=ut(0,0,0),n=ut(0,0,0);if(this.volumes.length>0){if(!this.volumeObject3D)throw new Error("volumeObject3D undefined");e=ut(this.volumeObject3D.extentsMin[0],this.volumeObject3D.extentsMin[1],this.volumeObject3D.extentsMin[2]),n=ut(this.volumeObject3D.extentsMax[0],this.volumeObject3D.extentsMax[1],this.volumeObject3D.extentsMax[2]),t||(e=ut(this.volumes[0].extentsMinOrtho[0],this.volumes[0].extentsMinOrtho[1],this.volumes[0].extentsMinOrtho[2]),n=ut(this.volumes[0].extentsMaxOrtho[0],this.volumes[0].extentsMaxOrtho[1],this.volumes[0].extentsMaxOrtho[2]))}if(this.meshes.length>0){if(this.volumes.length<1){const a=this.meshes[0].extentsMin,o=this.meshes[0].extentsMax;e=ut(a[0],a[1],a[2]),n=ut(o[0],o[1],o[2])}for(let a=0;a<this.meshes.length;a++){const o=this.meshes[a].extentsMin,c=this.meshes[a].extentsMax,h=ut(o[0],o[1],o[2]);yf(e,e,h);const u=ut(c[0],c[1],c[2]);bf(n,n,u)}}const s=ee();return le(s,n,e),[e,n,s]}setPivot3D(){const[t,e]=this.sceneExtentsMinMax(),n=ee();ys(n,t,e),i4(n,n,.5),this.pivot3D=[n[0],n[1],n[2]],le(n,e,t),this.extentsMin=t,this.extentsMax=e,this.furthestFromPivot=jn(n)*.5}getMaxVols(){if(this.volumes.length<1)return 0;let t=0;for(let e=0;e<this.volumes.length;e++)t=Math.max(t,this.volumes[e].nFrame4D);return t}detectPartialllyLoaded4D(){if(this.volumes.length<1)return!1;for(let t=0;t<this.volumes.length;t++)if(this.volumes[t].nFrame4D<this.volumes[t].hdr.dims[4])return!0;return!1}drawGraph(){if(this.getMaxVols()<2)return;const t=this.graph;let e=0;if(this.graph.autoSizeMultiplanar&&this.opts.sliceType===3)for(let L=0;L<this.screenSlices.length;L++){const k=this.screenSlices[L].axCorSag;if(k===0&&(e=this.screenSlices[L].leftTopWidthHeight[1]),k!==2)continue;const q=this.screenSlices[L].leftTopWidthHeight.slice();q[1]===e?(t.LTWH[0]=q[0]+q[2],t.LTWH[1]=q[1]):(t.LTWH[0]=q[0],t.LTWH[1]=q[1]+q[3]),t.LTWH[2]=q[2],t.LTWH[3]=q[2]}if(t.opacity<=0||t.LTWH[2]<=5||t.LTWH[3]<=5||Math.floor(t.LTWH[0]+t.LTWH[2])>this.gl.canvas.width||Math.floor(t.LTWH[1]+t.LTWH[3])>this.gl.canvas.height)return;t.backColor=[.15,.15,.15,t.opacity],t.lineColor=[1,1,1,1],this.opts.backColor[0]+this.opts.backColor[1]+this.opts.backColor[2]>1.5&&(t.backColor=[.95,.95,.95,t.opacity],t.lineColor=[0,0,0,1]),t.textColor=t.lineColor.slice(),t.lineThickness=4,t.lineAlpha=1,t.lines=[];const n=[];if(t.vols.length<1)this.volumes[0]!=null&&n.push(0);else for(let L=0;L<t.vols.length;L++){const k=t.vols[L];this.volumes[k]==null||this.volumes[k].nFrame4D<2||n.push(k)}if(n.length<1)return;const s=this.volumes[n[0]].nFrame4D;if(this.graph.selectedColumn=this.volumes[n[0]].frame4D,s<2){Y.debug("Unable to generate a graph: Selected volume is 3D not 4D");return}for(let L=0;L<n.length;L++){t.lines[L]=[];const k=this.frac2vox(this.scene.crosshairPos),q=this.volumes[n[L]];let P=q.nFrame4D;P=Math.min(P,s);for(let K=0;K<P;K++){const J=q.getValue(k[0],k[1],k[2],K);t.lines[L].push(J)}}t.lineRGB=[[1,0,0],[0,.7,0],[0,0,1],[1,1,0],[1,0,1],[0,1,1],[1,1,1],[0,0,0]];let a=t.lines[0][0],o=t.lines[0][0];for(let L=0;L<t.lines.length;L++)for(let k=0;k<t.lines[L].length;k++){const q=t.lines[L][k];a=Math.min(q,a),o=Math.max(q,o)}const c=this.volumes[n[0]].cal_min,h=this.volumes[n[0]].cal_max;if(t.isRangeCalMinMax&&c<h&&isFinite(c)&&isFinite(h)&&(a=c,o=h),t.normalizeValues&&o>a){const L=o-a;for(let k=0;k<t.lines.length;k++)for(let q=0;q<t.lines[k].length;q++){const P=t.lines[k][q];t.lines[k][q]=(P-a)/L}a=0,o=1}a>=o&&(o=a+1),this.drawRect(t.LTWH,t.backColor);const[u,f,m]=gm(a,o),g=Math.max(0,-1*Math.floor(Math.log(u)/Math.log(10)));a=Math.min(f,a),o=Math.max(m,o);function A(L){return L.toFixed(6).replace(/\.?0*$/,"")}const x=.07*(Math.min(t.LTWH[2],t.LTWH[3])/(this.fontMets.size*this.uiData.dpr));let y=this.opts.textHeight*this.gl.canvas.height*x;y<16&&(y=0);let w=0,C=f;if(y>0)for(;C<=o;){const L=C.toFixed(g),k=this.textWidth(y,L);w=Math.max(k,w),C+=u}const T=.05,D=Math.abs(t.LTWH[2]),M=Math.abs(t.LTWH[3]),E=[t.LTWH[0]+T*D+w,t.LTWH[1]+T*M,t.LTWH[2]-w-2*T*D,t.LTWH[3]-y-2*T*M];this.graph.LTWH=t.LTWH,this.graph.plotLTWH=E,this.drawRect(E,this.opts.backColor);const R=o-a,B=E[3]/R,U=E[2]/(t.lines[0].length-1),N=E[1]+E[3];C=f+.5*u;const S=t.lineColor.slice();for(S[3]=.25*t.lineColor[3];C<=o;){const L=N-(C-a)*B;this.drawLine([E[0],L,E[0]+E[2],L],.5*t.lineThickness,S),C+=u}C=f;const I=.5*t.lineThickness;for(;C<=o;){const L=N-(C-a)*B;this.drawLine([E[0]-I,L,E[0]+E[2]+t.lineThickness,L],t.lineThickness,t.lineColor);const k=C.toFixed(g);y>0&&this.drawTextLeft([E[0]-6,L],k,x,t.textColor),C+=u}let F=1;for(;t.lines[0].length/F>20;)F*=5;for(let L=0;L<t.lines[0].length;L+=F){const k=L*U+E[0];let q=t.lineThickness;if(L%2===1)q*=.5,this.drawLine([k,E[1],k,E[1]+E[3]],q,S);else{const P=A(L);y>0&&this.drawTextBelow([k,2+E[1]+E[3]],P,x,t.textColor),this.drawLine([k,E[1],k,E[1]+E[3]],q,t.lineColor)}}for(let L=0;L<t.lines.length;L++){let k=[1,0,0,t.lineAlpha];L<t.lineRGB.length&&(k=[t.lineRGB[L][0],t.lineRGB[L][1],t.lineRGB[L][2],t.lineAlpha]);for(let q=1;q<t.lines[L].length;q++){const P=(q-1)*U,K=q*U,J=(t.lines[L][q-1]-a)*B,rt=(t.lines[L][q]-a)*B,G=[E[0]+P,E[1]+E[3]-J,E[0]+K,E[1]+E[3]-rt];this.drawLine(G,t.lineThickness,k)}}if(t.selectedColumn>=0&&t.selectedColumn<t.lines[0].length){const L=t.selectedColumn*U+E[0];this.drawLine([L,E[1],L,E[1]+E[3]],t.lineThickness,[t.lineRGB[3][0],t.lineRGB[3][1],t.lineRGB[3][2],1])}this.detectPartialllyLoaded4D()&&this.drawTextBelow([E[0]+E[2],E[1]+E[3]+y*.5],"...",x,t.textColor)}depthPicker(t,e){if(!this.uiData.mouseDepthPicker)return;this.uiData.mouseDepthPicker=!1;const n=this.gl,s=this.mousePos[0]*t[2]/t[2],a=n.canvas.height-this.mousePos[1]*t[3]/t[3]-1,o=new Uint8Array(4);if(n.readPixels(s,a,1,1,n.RGBA,n.UNSIGNED_BYTE,o),this.selectedObjectId=o[3],this.selectedObjectId===this.VOLUME_ID){this.scene.crosshairPos=new Float32Array(o.slice(0,3)).map(g=>g/255);return}const c=Cx(o);if(c>1)return;const h=(this.mousePos[0]-t[0])/t[2],u=(n.canvas.height-this.mousePos[1]-t[1])/t[3],f=wx(h,u,c,e),m=this.mm2frac(f,0,!0);m[0]<0||m[0]>1||m[1]<0||m[1]>1||m[2]<0||m[2]>1||(this.scene.crosshairPos=this.mm2frac(f,0,!0))}drawImage3D(t,e,n){if(this.volumes.length===0)return;const s=this.gl,a=this.calculateRayDirection(e,n),o=this.volumeObject3D;if(o){s.enable(s.BLEND),s.blendFunc(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),s.enable(s.CULL_FACE),s.cullFace(s.FRONT);let c=this.renderShader;if(this.uiData.mouseDepthPicker&&(c=this.pickingImageShader),c.use(this.gl),s.uniform1i(c.uniforms.backgroundMasksOverlays,this.backgroundMasksOverlays),this.gradientTextureAmount>0){s.activeTexture(bm),s.bindTexture(s.TEXTURE_3D,this.gradientTexture);const h=this.calculateModelMatrix(e,n),u=Vt();ii(u,h);const f=Vt();di(f,u),s.uniformMatrix4fv(c.uniforms.normMtx,!1,f)}this.drawBitmap&&this.drawBitmap.length>8?s.uniform2f(c.uniforms.renderDrawAmbientOcclusionXY,this.renderDrawAmbientOcclusion,this.drawOpacity):s.uniform2f(c.uniforms.renderDrawAmbientOcclusionXY,this.renderDrawAmbientOcclusion,0),s.uniformMatrix4fv(c.uniforms.mvpMtx,!1,t),s.uniformMatrix4fv(c.uniforms.matRAS,!1,this.back.matRAS),s.uniform3fv(c.uniforms.rayDir,a),this.gradientTextureAmount<0?s.uniform4fv(c.uniforms.clipPlane,[this.scene.crosshairPos[0],this.scene.crosshairPos[1],this.scene.crosshairPos[2],30]):s.uniform4fv(c.uniforms.clipPlane,this.scene.clipPlane),s.uniform1f(c.uniforms.drawOpacity,1),s.bindVertexArray(o.vao),s.drawElements(o.mode,o.indexCount,s.UNSIGNED_SHORT,0),s.bindVertexArray(this.unusedVAO)}}drawOrientationCube(t,e=0,n=0){if(!this.opts.isOrientCube)return;const s=.05*Math.min(t[2],t[3]);if(s<5)return;const a=this.gl;a.enable(a.CULL_FACE),a.cullFace(a.BACK),this.orientCubeShader.use(this.gl),a.bindVertexArray(this.orientCubeShaderVAO);const o=Vt(),c=Vt();Cl(c,0,a.canvas.width,0,a.canvas.height,-10*s,10*s);let h=0;t[1]===0&&(h=a.canvas.height-this.effectiveCanvasHeight()),br(o,o,[1.8*s+t[0],h+1.8*s+t[1],0]),Z2(o,o,[s,s,s]),bl(o,o,qn(270-n)),wl(o,o,qn(-e));const u=Vt();Qn(u,c,o),a.uniformMatrix4fv(this.orientCubeShader.uniforms.u_matrix,!1,u),a.drawArrays(a.TRIANGLE_STRIP,0,168),a.bindVertexArray(this.unusedVAO),this.gl.disable(this.gl.CULL_FACE)}createOnLocationChange(t=NaN){const[e,n,s]=this.sceneExtentsMinMax(!0),a=Math.max(Math.max(s[0],s[1]),s[2]);function o(g){return Math.max(0,-Math.ceil(Math.log10(Math.abs(g))))}let c=o(a*.001);const h=this.frac2mm(this.scene.crosshairPos,0,!0);function u(g,A=0){return parseFloat(g.toFixed(A))}let f=u(h[0],c)+"×"+u(h[1],c)+"×"+u(h[2],c);if(this.volumes.length>0&&this.volumes[0].nFrame4D>0&&(f+="×"+u(this.volumes[0].frame4D)),this.volumes.length>0){let g=" = ";for(let x=0;x<this.volumes.length;x++){const y=this.volumes[x].mm2vox(h);let w=this.volumes[x].getValue(y[0],y[1],y[2],this.volumes[x].frame4D);if(c=3,this.volumes[x].colormapLabel!==null){const C=Math.round(w);C>=0&&C<this.volumes[x].colormapLabel.labels.length?g+=this.volumes[x].colormapLabel.labels[C]:g+="undefined("+u(w,c)+")"}else g+=u(w,c);this.volumes[x].imaginary&&(w=this.volumes[x].getValue(y[0],y[1],y[2],this.volumes[x].frame4D,!0),w>=0&&(g+="+"),g+=u(w,c)),g+="   "}f+=g;const A=this.back.dimsRAS,v=A[1]*A[2]*A[3];if(this.drawBitmap&&this.drawBitmap.length===v){const x=this.frac2vox(this.scene.crosshairPos),y=x[0]+x[1]*A[1]+x[2]*A[1]*A[2];f+=" "+this.drawLut.labels[this.drawBitmap[y]]}}const m={mm:this.frac2mm(this.scene.crosshairPos,0,!0),axCorSag:t,vox:this.frac2vox(this.scene.crosshairPos),frac:this.scene.crosshairPos,xy:[this.mousePos[0],this.mousePos[1]],values:this.volumes.map(g=>{const A=this.frac2mm(this.scene.crosshairPos,0,!0),v=g.mm2vox(A),x=g.getValue(v[0],v[1],v[2],g.frame4D);return{name:g.name,value:x,id:g.id,mm:A,vox:v}}),string:f};this.onLocationChange(m)}addLabel(t,e,n,s,a){const o={textColor:this.opts.legendTextColor,textScale:1,textAlignment:"left",lineWidth:0,lineColor:this.opts.legendTextColor,lineTerminator:"none",bulletScale:0,bulletColor:this.opts.legendTextColor},c=e?{...o,...e}:{...o},h=new Pg(t,{...c},n,s,a);return this.document.labels.push(h),h}calculateScreenPoint(t,e,n){const s=Wi();return ze(s,[...t,1],e),s[3]!==0&&(s[0]=(s[0]/s[3]+1)*.5*n[2],s[1]=(1-s[1]/s[3])*.5*n[3],s[2]/=s[3],s[0]+=n[0],s[1]+=n[1]),s}getLabelAtPoint(t){const n=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,s=this.opts.textHeight*this.gl.canvas.height*1;for(const f of this.document.labels){if(f.anchor==null||f.anchor===0)continue;const m=this.opts.textHeight*this.gl.canvas.height*f.style.textScale,g=this.textHeight(m,f.text),A=this.textWidth(m,f.text);if(!(f.anchor&1&&t[0]>A)&&!(f.anchor&2&&(t[0]<(this.gl.canvas.width-A)/2||t[0]>(this.gl.canvas.width+A)/2))&&!(f.anchor&4&&t[0]<this.gl.canvas.width-A)&&!(f.anchor&8&&(t[1]<s/2||t[1]>g+s/2))&&!(f.anchor&16&&(t[1]<(this.gl.canvas.height-g-s)/2||t[1]>(this.gl.canvas.height+g-s/2)/2))&&!(f.anchor&32&&(t[1]<this.gl.canvas.height-g-s||t[1]>this.gl.canvas.height-s/2)))return f}Y.debug("screenPoint",t);const a=this.getLegendPanelHeight(),o=this.getLegendPanelWidth(),c=this.gl.canvas.width-o;let h=(this.canvas.height-a)/2;if(Y.debug("panelrect",c,h,c+o,h+a),t[0]<c||t[1]<h||t[0]>c+o||t[1]>h+a)return null;const u=this.getConnectomeLabels();for(const f of u){const m=this.opts.textHeight*this.gl.canvas.height*f.style.textScale,g=this.textHeight(m,f.text);if(t[1]>=h&&t[1]<=h+g+n/2)return f;h+=g,h+=n/2}return null}drawLabelLine(t,e,n,s,a=!1){const o=Array.isArray(t.points)&&Array.isArray(t.points[0])?t.points:[t.points];for(const c of o){const h=this.calculateScreenPoint(c,n,s);a?this.drawDottedLine([...e,h[0],h[1]],t.style.lineWidth,t.style.lineColor):this.draw3DLine(e,[h[0],h[1],h[2]],t.style.lineWidth,t.style.lineColor)}}draw3DLabel(t,e,n,s,a,o,c){const h=t.text,u=e[0],f=e[1],m=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,g=this.textHeight(t.style.textScale,h)*m;if(t.style.lineWidth>0&&Array.isArray(t.points)&&this.drawLabelLine(t,[u,f+g],n,s,c),t.style.bulletScale){const v=t.style.bulletScale*g,x=g-v,y=f+x/2+v/2,w=u+(a-v)/2;this.drawCircle([w,y,v,v],t.style.bulletColor)}let A=u;if(o)if(t.style.textAlignment!=="left"){const v=this.textWidth(t.style.textScale,t.text)*m;if(t.style.textAlignment==="right")A=u+o-m*1.5-v;else{const x=o-(a||m);A+=(x-v)/2}}else A+=a;this.drawText([A,f],h,t.style.textScale,t.style.textColor)}draw3DLabels(t,e,n=!1){const s=this.getConnectomeLabels();if(!this.opts.showLegend||s.length===0)return;if(!this.canvas)throw new Error("canvas undefined");const a=this.gl;a.disable(a.CULL_FACE),a.viewport(0,0,this.canvas.width,this.canvas.height);const c=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,h=this.getBulletMarginWidth(),u=this.getLegendPanelHeight(),f=this.getLegendPanelWidth(),m=a.canvas.width-f;let g=(this.canvas.height-u)/2;this.drawRect([a.canvas.width-f,g,f-c,u],this.opts.legendBackgroundColor);const A=a.getParameter(a.BLEND),v=a.getParameter(a.DEPTH_FUNC);n||(a.disable(a.BLEND),a.depthFunc(a.GREATER));for(const x of s){this.draw3DLabel(x,[m,g],t,e,h,f,n);const y=this.opts.textHeight*this.gl.canvas.height*x.style.textScale,w=this.textHeight(y,x.text);g+=w,g+=c/2}n||(a.depthFunc(v),A&&a.enable(a.BLEND))}drawAnchoredLabels(){const t=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,e=this.document.labels.filter(n=>n.anchor!=null&&n.anchor!==0);for(const n of e){const s=n.text,a=this.textHeight(n.style.textScale,s)*t,o=this.textWidth(n.style.textScale,s)*t;let c,h;const f=this.opts.textHeight*this.gl.canvas.height*1,m=f;let g=f/4,A=0,v=0;n.anchor&1&&(c=0),n.anchor&4&&(c=this.canvas.width-o,A-=f/4),n.anchor&2&&(c=(this.canvas.width-o)/2,A-=f/4,g+=f/4),n.anchor&8&&(h=0),n.anchor&16&&(h=(this.canvas.height-a-f)/2,v-=f/4),n.anchor&32&&(h=this.canvas.height-a-f,v-=f/4),this.drawRect([c+A,h+v,o+g,a+m],n.style.backgroundColor),this.draw3DLabel(n,[c,h])}}draw3D(t=[0,0,0,0],e=null,n=null,s=null,a=null,o=0){const c=a!==null;this.setPivot3D(),c||(a=this.scene.renderAzimuth,o=this.scene.renderElevation);const h=this.gl;e===null&&([e,n,s]=this.calculateMvpMatrix(null,t,a,o));let u=[...t];if(t[2]===0||t[3]===0?(t=[0,0,h.canvas.width,h.canvas.height],u=[...t],this.screenSlices.push({leftTopWidthHeight:t,axCorSag:4,sliceFrac:0,AxyzMxy:[],leftTopMM:[],fovMM:[Am(n),0]})):(this.screenSlices.push({leftTopWidthHeight:t.slice(),axCorSag:4,sliceFrac:0,AxyzMxy:[],leftTopMM:[],fovMM:[Am(n),0]}),t[1]=h.canvas.height-t[3]-t[1]),h.enable(h.DEPTH_TEST),h.depthFunc(h.ALWAYS),h.depthMask(!0),h.clearDepth(0),this.draw3DLabels(e,u,!1),h.viewport(t[0],t[1],t[2],t[3]),this.volumes.length>0&&(this.updateInterpolation(0,!0),this.updateInterpolation(1,!0),this.drawImage3D(e,a,o)),this.updateInterpolation(0),this.updateInterpolation(1),c||this.drawCrosshairs3D(!0,1,e),this.drawMesh3D(!0,1,e,n,s),this.uiData.mouseDepthPicker){this.depthPicker(t,e),this.createOnLocationChange(),this.draw3D(t,e,n,s,a,o);return}this.opts.meshXRay>0&&this.drawMesh3D(!1,this.opts.meshXRay,e,n,s),this.draw3DLabels(e,u,!1),h.viewport(t[0],t[1],t[2],t[3]),c||this.drawCrosshairs3D(!1,.15,e),h.viewport(0,0,h.canvas.width,h.canvas.height),this.drawOrientationCube(t,a,o);const f="azimuth: "+this.scene.renderAzimuth.toFixed(0)+" elevation: "+this.scene.renderElevation.toFixed(0);return this.readyForSync=!0,this.sync(),this.draw3DLabels(e,u,!0),f}drawMesh3D(t=!0,e=1,n,s,a){if(this.meshes.length<1)return;const o=this.gl;n||([n,s,a]=this.calculateMvpMatrix(this.volumeObject3D,void 0,this.scene.renderAzimuth,this.scene.renderElevation)),o.enable(o.DEPTH_TEST),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.disable(o.BLEND),o.depthFunc(o.GREATER),o.disable(o.CULL_FACE),t?(o.disable(o.BLEND),o.depthFunc(o.GREATER)):(o.enable(o.BLEND),o.depthFunc(o.ALWAYS),o.enable(o.CULL_FACE)),o.cullFace(o.BACK);let c=this.meshShaders[0].shader,h=!1;for(let u=0;u<this.meshes.length;u++)if(this.meshes[u].visible!==!1&&(c=this.meshShaders[this.meshes[u].meshShaderIndex].shader,this.uiData.mouseDepthPicker&&(c=this.pickingMeshShader),c.use(this.gl),o.uniformMatrix4fv(c.uniforms.mvpMtx,!1,n),o.uniformMatrix4fv(c.uniforms.normMtx,!1,a),o.uniform1f(c.uniforms.opacity,e),!(this.meshes[u].indexCount<3))){if(this.meshes[u].offsetPt0&&(this.meshes[u].fiberSides<3||this.meshes[u].fiberRadius<=0)){h=!0;continue}c.isMatcap&&(o.activeTexture(ym),o.bindTexture(o.TEXTURE_2D,this.matCapTexture)),o.bindVertexArray(this.meshes[u].vao),o.drawElements(o.TRIANGLES,this.meshes[u].indexCount,o.UNSIGNED_INT,0),o.bindVertexArray(this.unusedVAO)}if(!h){o.enable(o.BLEND),o.depthFunc(o.ALWAYS);return}c=this.fiberShader,c.use(this.gl),o.uniformMatrix4fv(c.uniforms.mvpMtx,!1,n),o.uniform1f(c.uniforms.opacity,e);for(let u=0;u<this.meshes.length;u++)this.meshes[u].indexCount<3||this.meshes[u].offsetPt0&&(this.meshes[u].fiberSides>=3&&this.meshes[u].fiberRadius>0||(o.bindVertexArray(this.meshes[u].vaoFiber),o.drawElements(o.LINE_STRIP,this.meshes[u].indexCount,o.UNSIGNED_INT,0),o.bindVertexArray(this.unusedVAO)));o.enable(o.BLEND),o.depthFunc(o.ALWAYS),this.readyForSync=!0}drawCrosshairs3D(t=!0,e=1,n=null,s=!1,a=!0){var v,x;if(!this.opts.show3Dcrosshair&&!s||this.opts.crosshairWidth<=0&&s)return;const o=this.gl,c=this.frac2mm(this.scene.crosshairPos,0,a);let h=1;const[u,f,m]=this.sceneExtentsMinMax(a);if(this.volumes.length>0){if(!this.back)throw new Error("back undefined");h=.5*Math.min(Math.min(this.back.pixDims[1],this.back.pixDims[2]),this.back.pixDims[3])}else(m[0]<50||m[0]>1e3)&&(h=m[0]*.02);if(h*=this.opts.crosshairWidth,((v=this.opts)==null?void 0:v.crosshairWidthUnit)==="percent"&&(h=m[0]*this.opts.crosshairWidth*.5*.01),((x=this.opts)==null?void 0:x.crosshairWidthUnit)==="mm"&&(h=this.opts.crosshairWidth*.5),(this.crosshairs3D===null||this.crosshairs3D.mm[0]!==c[0]||this.crosshairs3D.mm[1]!==c[1]||this.crosshairs3D.mm[2]!==c[2])&&(this.crosshairs3D!==null&&(o.deleteBuffer(this.crosshairs3D.indexBuffer),o.deleteBuffer(this.crosshairs3D.vertexBuffer)),this.crosshairs3D=bs.generateCrosshairs(this.gl,1,c,u,f,h,20,this.opts.crosshairGap),this.crosshairs3D.mm=c),!this.surfaceShader)throw new Error("surfaceShader undefined");const g=this.surfaceShader;g.use(this.gl),n==null&&([n]=this.calculateMvpMatrix(this.crosshairs3D,void 0,this.scene.renderAzimuth,this.scene.renderElevation)),o.uniformMatrix4fv(g.uniforms.mvpMtx,!1,n),o.disable(o.CULL_FACE),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.crosshairs3D.indexBuffer),o.enable(o.DEPTH_TEST);const A=[...this.opts.crosshairColor];t?(o.disable(o.BLEND),o.depthFunc(o.GREATER)):(o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.depthFunc(o.ALWAYS)),A[3]=e,o.uniform4fv(g.uniforms.surfaceColor,A),o.bindVertexArray(this.crosshairs3D.vao),o.drawElements(o.TRIANGLES,this.crosshairs3D.indexCount,o.UNSIGNED_INT,0),o.bindVertexArray(this.unusedVAO)}mm2frac(t,e=0,n=!1){if(this.volumes.length<1){const s=ut(.1,.5,.5),[a,o,c]=this.sceneExtentsMinMax();return s[0]=(t[0]-a[0])/c[0],s[1]=(t[1]-a[1])/c[1],s[2]=(t[2]-a[2])/c[2],isFinite(s)||(isFinite(s[0])||(s[0]=.5),isFinite(s[1])||(s[1]=.5),isFinite(s[2])||(s[2]=.5),this.meshes.length<1&&Y.error("mm2frac() not finite: objects not (yet) loaded.")),s}return this.volumes[e].convertMM2Frac(t,n||this.opts.isSliceMM)}vox2frac(t,e=0){return this.volumes[e].convertVox2Frac(t)}frac2vox(t,e=0){return this.volumes.length<=e?[0,0,0]:this.volumes[e].convertFrac2Vox(t)}moveCrosshairInVox(t,e,n){const s=this.frac2vox(this.scene.crosshairPos);s[0]+=t,s[1]+=e,s[2]+=n,s[0]=Qh(s[0],0,this.volumes[0].dimsRAS[1]-1),s[1]=Qh(s[1],0,this.volumes[0].dimsRAS[2]-1),s[2]=Qh(s[2],0,this.volumes[0].dimsRAS[3]-1),this.scene.crosshairPos=this.vox2frac(s),this.createOnLocationChange(),this.drawScene()}frac2mm(t,e=0,n=!1){const s=ie(t[0],t[1],t[2],1);if(this.volumes.length>0)return this.volumes[e].convertFrac2MM(t,n||this.opts.isSliceMM);{const[a,o]=this.sceneExtentsMinMax(),c=(h,u,f)=>h*(1-f)+u*f;s[0]=c(a[0],o[0],t[0]),s[1]=c(a[1],o[1],t[1]),s[2]=c(a[2],o[2],t[2])}return s}screenXY2TextureFrac(t,e,n,s=!0){const a=ut(-1,-1,-1),o=this.screenSlices[n].axCorSag;if(o>2)return a;const c=this.screenSlices[n].leftTopWidthHeight.slice();let h=!1;c[2]<0&&(h=!0,c[0]+=c[2],c[2]=-c[2]);let u=(t-c[0])/c[2];h&&(u=1-u);const f=1-(e-c[1])/c[3];if(u<0||u>1||f<0||f>1||this.screenSlices[n].AxyzMxy.length<4)return a;let m=ut(0,0,0);m[0]=this.screenSlices[n].leftTopMM[0]+u*this.screenSlices[n].fovMM[0],m[1]=this.screenSlices[n].leftTopMM[1]+f*this.screenSlices[n].fovMM[1];const g=this.screenSlices[n].AxyzMxy;m[2]=g[2]+g[4]*(m[1]-g[1])-g[3]*(m[0]-g[0]),o===1&&(m=Ge(m,[0,2,1])),o===2&&(m=Ge(m,[2,0,1]));const A=this.mm2frac(m);return s&&(A[0]<0||A[0]>1||A[1]<0||A[1]>1||A[2]<0||A[2]>1)?a:A}canvasPos2frac(t){for(let e=0;e<this.screenSlices.length;e++){const n=this.screenXY2TextureFrac(t[0],t[1],e);if(n[0]>=0)return n}return[-1,-1,-1]}scaleSlice(t,e,n=[0,0],s=[0,0]){const a=s[0]===0?this.effectiveCanvasWidth()-n[0]:s[0]-n[0],o=s[1]===0?this.effectiveCanvasHeight()-n[1]:s[1]-n[1];let c=a/t;e*c>o&&(c=o/e);const h=t*c,u=e*c;return[(a-h)*.5,(o-u)*.5,h,u,c]}drawThumbnail(){if(!this.bmpShader)throw new Error("bmpShader undefined");this.bmpShader.use(this.gl),this.gl.uniform2f(this.bmpShader.uniforms.canvasWidthHeight,this.gl.canvas.width,this.gl.canvas.height);let t=this.gl.canvas.height,e=this.gl.canvas.height*this.bmpTextureWH;e>this.gl.canvas.width&&(t=this.gl.canvas.width/this.bmpTextureWH,e=this.gl.canvas.width);const n=(this.gl.canvas.width-e)/2,s=(this.gl.canvas.height-t)/2;this.gl.uniform4f(this.bmpShader.uniforms.leftTopWidthHeight,n,s,e,t),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawLine(t,e=1,n=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl),n[3]<0&&(n=this.opts.crosshairColor),this.gl.uniform4fv(this.lineShader.uniforms.lineColor,n),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,e),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,t),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}draw3DLine(t,e,n=1,s=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.line3DShader)throw new Error("line3DShader undefined");this.line3DShader.use(this.gl),s[3]<0&&(s=this.opts.crosshairColor),this.gl.uniform4fv(this.line3DShader.uniforms.lineColor,s),this.gl.uniform2fv(this.line3DShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.line3DShader.uniforms.thickness,n),this.gl.uniform2fv(this.line3DShader.uniforms.startXY,t),this.gl.uniform3fv(this.line3DShader.uniforms.endXYZ,e),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawDottedLine(t,e=1,n=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl);const s=n[3]<0?[...this.opts.crosshairColor]:[...n];s[3]=.3;const a=$2(t[2]-t[0],t[3]-t[1]),o=tm(a);h4(a,a);const h=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1;u4(a,a,h/2);const u=tm(a);let f=Math.floor(o/u);o%u&&f++;const m=[t[0],t[1]];this.gl.uniform4fv(this.lineShader.uniforms.lineColor,s),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,e);for(let g=0;g<f-1;g++){if(g%2){m[0]+=a[0],m[1]+=a[1];continue}const A=[m[0],m[1],m[0]+a[0],m[1]+a[1]];this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,A),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),m[0]+=a[0],m[1]+=a[1]}this.gl.bindVertexArray(this.unusedVAO)}drawGraphLine(t,e=[1,0,0,.5],n=2){this.drawLine(t,n,e)}drawCrossLinesMM(t,e,n,s,a){if(t<0||this.screenSlices.length<=t)return;const o=this.screenSlices[t];let c=o.sliceFrac;c===1/0&&Y.warn("Rendering approximate cross lines in world view mode"),c===1/0&&(c=.5);let u=s.slice(),f=a.slice();const m=Math.max(1,this.opts.crosshairWidth);e===1&&(u=n.slice()),e===2&&(u=n.slice(),f=s.slice());function g(A){const v=$2(0,0);return v[0]=o.leftTopWidthHeight[0]+(A[0]-o.leftTopMM[0])/o.fovMM[0]*o.leftTopWidthHeight[2],v[1]=o.leftTopWidthHeight[1]+o.leftTopWidthHeight[3]-(A[1]-o.leftTopMM[1])/o.fovMM[1]*o.leftTopWidthHeight[3],v}if(u.length>0&&e===0){const A=c,v=1;for(let x=0;x<u.length;x++){const y=this.frac2mm([.5,.5,.5]);y[v]=u[x];let w=this.mm2frac(y);w=w[v];let C=this.frac2mm([0,w,A]);C=Ge(C,[0,1,2]);let T=this.frac2mm([1,w,A]);T=Ge(T,[0,1,2]),C=g(C),T=g(T),this.drawLine([C[0],C[1],T[0],T[1]],m)}}if(u.length>0&&e===1){const A=c,v=2;for(let x=0;x<u.length;x++){const y=this.frac2mm([.5,.5,.5]);y[v]=u[x];let w=this.mm2frac(y);w=w[v];let C=this.frac2mm([0,A,w]);C=Ge(C,[0,2,1]);let T=this.frac2mm([1,A,w]);T=Ge(T,[0,2,1]),C=g(C),T=g(T),this.drawLine([C[0],C[1],T[0],T[1]],m)}}if(u.length>0&&e===2){const A=c,v=2;for(let x=0;x<u.length;x++){const y=this.frac2mm([.5,.5,.5]);y[v]=u[x];let w=this.mm2frac(y);w=w[v];let C=this.frac2mm([A,0,w]);C=Ge(C,[1,2,0]);let T=this.frac2mm([A,1,w]);T=Ge(T,[1,2,0]),C=g(C),T=g(T),this.drawLine([C[0],C[1],T[0],T[1]],m)}}if(f.length>0&&e===0){const A=c,v=0;for(let x=0;x<f.length;x++){const y=this.frac2mm([.5,.5,.5]);y[v]=f[x];let w=this.mm2frac(y);w=w[v];let C=this.frac2mm([w,0,A]);C=Ge(C,[0,1,2]);let T=this.frac2mm([w,1,A]);T=Ge(T,[0,1,2]),C=g(C),T=g(T),this.drawLine([C[0],C[1],T[0],T[1]],m)}}if(f.length>0&&e===1){const A=c,v=0;for(let x=0;x<f.length;x++){const y=this.frac2mm([.5,.5,.5]);y[v]=f[x];let w=this.mm2frac(y);w=w[v];let C=this.frac2mm([w,A,0]);C=Ge(C,[0,2,1]);let T=this.frac2mm([w,A,1]);T=Ge(T,[0,2,1]),C=g(C),T=g(T),this.drawLine([C[0],C[1],T[0],T[1]],m)}}if(f.length>0&&e===2){const A=c,v=1;for(let x=0;x<f.length;x++){const y=this.frac2mm([.5,.5,.5]);y[v]=f[x];let w=this.mm2frac(y);w=w[v];let C=this.frac2mm([A,w,0]);C=Ge(C,[1,2,0]);let T=this.frac2mm([A,w,1]);T=Ge(T,[1,2,0]),C=g(C),T=g(T),this.drawLine([C[0],C[1],T[0],T[1]],m)}}}drawCrossLines(t,e,n,s,a){if(t<0||this.screenSlices.length<=t)return;if(this.opts.isSliceMM)return this.drawCrossLinesMM(t,e,n,s,a);if(this.screenSlices[t].sliceFrac===1/0)return this.drawCrossLinesMM(t,e,n,s,a);const o=this.screenSlices[t];let c=s.slice(),h=a.slice();if(e===1&&(c=n.slice()),e===2&&(c=n.slice(),h=s.slice()),c.length>0){const u=o.leftTopWidthHeight.slice();let f=2;e===0&&(f=1);const m=this.frac2mm([.5,.5,.5]);for(let g=0;g<c.length;g++){m[f]=c[g];const A=this.mm2frac(m);this.drawRect([u[0],u[1]+u[3]-A[f]*u[3],u[2],1])}}if(h.length>0){const u=o.leftTopWidthHeight.slice(),f=o.fovMM[0]<0;let m=0;e===2&&(m=1);const g=this.frac2mm([.5,.5,.5]);for(let A=0;A<h.length;A++){g[m]=h[A];const v=this.mm2frac(g);f?this.drawRect([u[0]+(u[2]-v[m]*u[2]),u[1],1,u[3]]):this.drawRect([u[0]+v[m]*u[2],u[1],1,u[3]])}}}drawMosaic(t){if(this.volumes.length===0){Y.debug("Unable to draw mosaic until voxel-based image is loaded");return}this.screenSlices=[];const e=this.screenFieldOfViewMM(0,!0),n=this.screenFieldOfViewMM(0);t=t.replaceAll(";"," ;").trim();const s=[],a=[],o=[],c=t.split(/\s+/);let h=1;const u=this.opts.textHeight;let f=0,m=0;for(let g=0;g<2;g++){let A=!1,v=!1;A=!1;let x=0,y=0,w=0,C=0,T=!1,D=0;for(let R=0;R<c.length;R++){const B=c[R];if(B.includes("X")){v=!0;continue}if(B.includes("L")){T=!B.includes("-");continue}if(B.includes("V")||B.includes("H")){R++;continue}B.includes("A")&&(D=0),B.includes("C")&&(D=1),B.includes("S")&&(D=2),B.includes("R")&&(A=!0),B.includes(";")&&(w+=x,C=Math.max(C,y),x=0,y=0);const U=parseFloat(B);if(isNaN(U))continue;let N=0,S=0,I=n;if(A&&(I=e),D===2?N=I[1]:N=I[0],D===0?S=I[1]:S=I[2],g===0)A||(D===0&&s.push(U),D===1&&a.push(U),D===2&&o.push(U));else{const F=[f+h*y,m+h*w,h*N,h*S];if(this.opts.textHeight=T?u:0,A){let L=U<0?-1/0:1/0;Object.is(U,-0)&&(L=-1/0),this.draw2D(F,D,L)}else this.draw2D(F,D,U);v&&this.drawCrossLines(this.screenSlices.length-1,D,s,a,o),A=!1,v=!1}y+=N,x=Math.max(x,S)}if(w+=x,C=Math.max(C,y),C<=0||w<=0)break;const M=this.gl.canvas.width/C,E=this.effectiveCanvasHeight()/w;h=Math.min(M,E),this.opts.centerMosaic&&(f=Math.floor(.5*(this.gl.canvas.width-C*h)),m=Math.floor(.5*(this.effectiveCanvasHeight()-w*h)))}this.opts.textHeight=u}drawSceneCore(){var a,o,c;if(!this.initialized)return;if(this.colorbarHeight=0,this.gl.clearColor(this.opts.backColor[0],this.opts.backColor[1],this.opts.backColor[2],this.opts.backColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.bmpTexture&&this.thumbnailVisible){this.drawThumbnail();return}let t="";if(this.volumes.length===0||typeof this.volumes[0].dims>"u"){if(this.meshes.length>0){this.screenSlices=[],this.draw3D(),this.opts.isColorbar&&this.drawColorbar();return}this.drawLoadingText(this.opts.loadingText);return}if(this.back===null)return;if(this.uiData.isDragging&&this.scene.clipPlaneDepthAziElev[0]<1.8&&this.inRenderTile(this.uiData.dragStart[0],this.uiData.dragStart[1])>=0){const h=this.uiData.dragStart[0]-this.uiData.dragEnd[0],u=this.uiData.dragStart[1]-this.uiData.dragEnd[1],f=this.uiData.dragClipPlaneStartDepthAziElev.slice();if(f[1]-=h,f[1]=f[1]%360,f[2]+=u,f[1]!==this.scene.clipPlaneDepthAziElev[1]||f[2]!==this.scene.clipPlaneDepthAziElev[2])return this.scene.clipPlaneDepthAziElev=f,this.setClipPlane(this.scene.clipPlaneDepthAziElev)}if(this.sliceMosaicString.length<1&&this.opts.sliceType===4){this.opts.isColorbar&&this.reserveColorbarPanel(),this.screenSlices=[],this.draw3D(),this.opts.isColorbar&&this.drawColorbar();return}this.opts.isColorbar&&this.reserveColorbarPanel();const e=this.getMaxVols(),n=this.opts.sliceType===3&&e>1&&this.graph.autoSizeMultiplanar&&this.graph.opacity>0;if(this.sliceMosaicString.length>0)this.drawMosaic(this.sliceMosaicString);else{const h=[0,0];let u=!1;if(this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.screenSlices=[],this.opts.sliceType===0)this.draw2D([0,0,0,0],0);else if(this.opts.sliceType===1)this.draw2D([0,0,0,0],1);else if(this.opts.sliceType===2)this.draw2D([0,0,0,0],2);else{let f=function(J,rt){return[(J-1)*x+J*y,(rt-1)*x+rt*y]},m=!1;this.opts.multiplanarForceRender?(m=!0,this.opts.multiplanarForceRender?this.opts.multiplanarShowRender=1:this.opts.multiplanarShowRender=2,delete this.opts.multiplanarForceRender):this.opts.multiplanarShowRender===1&&(m=!0);const g=isFinite(this.drawPenLocation[0])&&this.opts.drawingEnabled,{volScale:A}=this.sliceScale(),v=A.slice();this.opts.multiplanarEqualSize&&(A[0]=1,A[1]=1,A[2]=1),typeof this.opts.multiplanarPadPixels!="number"&&Y.debug("multiplanarPadPixels must be numeric");const x=parseFloat(`${this.opts.multiplanarPadPixels}`);let y=this.opts.tileMargin;y<0&&(y=2*(2+Math.ceil(Math.max(this.opts.textHeight,.01)*Math.min(this.gl.canvas.height,this.gl.canvas.width))));let w=[this.effectiveCanvasWidth(),this.effectiveCanvasHeight()];this.opts.heroImageFraction>0&&this.opts.heroImageFraction<1&&(m=!1,u=!0,w[0]>w[1]&&this.opts.multiplanarLayout!==3?h[0]=w[0]*this.opts.heroImageFraction:h[1]=w[1]*this.opts.heroImageFraction,w=[w[0]-h[0],w[1]-h[1]]);const C=this.scaleSlice(A[0]+A[1],A[1]+A[2],f(2,2),w),T=Math.max(Math.max(A[1],A[2]),A[0]),D=this.scaleSlice(A[0]+A[0]+A[1],Math.max(A[1],A[2]),f(3,1),w),M=this.scaleSlice(A[0]+A[0]+A[1]+T,Math.max(A[1],A[2]),f(4,1),w),E=this.scaleSlice(T,A[1]+A[2]+A[2],f(1,3),w),R=this.scaleSlice(T,A[1]+A[2]+A[2]+T,f(1,4),w);let B=!g&&(e<2||!n),U=!1,N=!1,S=!1;this.opts.multiplanarLayout===1?U=!0:this.opts.multiplanarLayout===2?N=!0:this.opts.multiplanarLayout===3?S=!0:E[4]>D[4]&&E[4]>C[4]?U=!0:D[4]>C[4]?S=!0:N=!0;let I=C;if(U?(I=E,!u&&(m||this.opts.multiplanarShowRender===2&&R[4]>=E[4])?I=R:B=!1):S&&(I=D,!u&&(m||this.opts.multiplanarShowRender===2&&M[4]>=D[4])?I=M:B=!1),u){const J=h[0]===0?this.effectiveCanvasWidth():h[0],rt=h[1]===0?this.effectiveCanvasHeight():h[1];if(((a=this.opts)==null?void 0:a.heroSliceType)===0||((o=this.opts)==null?void 0:o.heroSliceType)===1||((c=this.opts)==null?void 0:c.heroSliceType)===2)this.draw2D([0,0,J,rt],this.opts.heroSliceType,NaN,[1/0,1/0]);else{const G=I.slice(),tt=this.effectiveCanvasWidth();J===tt&&(G[0]=0),this.draw3D([G[0],0,J,rt])}I[0]+=h[0],I[1]+=h[1],B=!1}const F=A[0]*I[4]+y,L=A[1]*I[4]+y,k=A[2]*I[4]+y,q=v[0]*I[4],P=v[1]*I[4],K=v[2]*I[4];if(U){if(this.draw2D([I[0],I[1],F,L],0,NaN,[q,P]),this.draw2D([I[0],I[1]+L+x,F,k],1,NaN,[q,K]),this.draw2D([I[0],I[1]+L+x+k+x,L,k],2,NaN,[P,K]),B){const J=T*I[4];this.draw3D([I[0],I[1]+L+k+k+x*3,J,J])}}else if(S){if(this.draw2D([I[0],I[1],F,L],0,NaN,[q,P]),this.draw2D([I[0]+F+x,I[1],F,k],1,NaN,[q,K]),this.draw2D([I[0]+F+F+x*2,I[1],L,k],2,NaN,[P,K]),B){const J=T*I[4];this.draw3D([I[0]+F+F+L+x*3,I[1],J,J])}}else N&&(m||(B=!1),this.opts.multiplanarShowRender===2&&(B=!0),u&&(B=!1),this.draw2D([I[0],I[1]+k+x,F,L],0,NaN,[q,P]),this.draw2D([I[0],I[1],F,k],1,NaN,[q,K]),this.draw2D([I[0]+F+x,I[1],L,k],2,NaN,[P,K]),B&&this.draw3D([I[0]+F+x,I[1]+k+x,L,L]))}}if(this.opts.isRuler&&this.drawRuler(),this.opts.isColorbar&&this.drawColorbar(),n&&this.drawGraph(),this.uiData.isDragging){if(this.uiData.mouseButtonCenterDown){this.dragForCenterButton([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.opts.dragMode===4){this.dragForSlicer3D([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.opts.dragMode===3){this.dragForPanZoom([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.inRenderTile(this.uiData.dragStart[0],this.uiData.dragStart[1])>=0)return;if(this.opts.dragMode===2){this.drawMeasurementTool([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}const h=Math.abs(this.uiData.dragStart[0]-this.uiData.dragEnd[0]),u=Math.abs(this.uiData.dragStart[1]-this.uiData.dragEnd[1]);this.drawSelectionBox([Math.min(this.uiData.dragStart[0],this.uiData.dragEnd[0]),Math.min(this.uiData.dragStart[1],this.uiData.dragEnd[1]),h,u]);return}const s=this.frac2mm([this.scene.crosshairPos[0],this.scene.crosshairPos[1],this.scene.crosshairPos[2]]);return t=s[0].toFixed(2)+"×"+s[1].toFixed(2)+"×"+s[2].toFixed(2),this.readyForSync=!0,this.sync(),this.drawAnchoredLabels(),t}drawScene(){if(this.isBusy){this.needsRefresh=!0;return}this.isBusy=!1,this.needsRefresh=!1;let t=this.drawSceneCore();return this._gl!==null&&this.gl.finish(),this.needsRefresh&&(t=this.drawScene()),t}get gl(){if(!this._gl)throw new Error("unable to get WebGL context. Maybe the browser doesn't support WebGL2.");return this._gl}set gl(t){this._gl=t}};const Za={black:"#000",white:"#fff"},Ar={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},pr={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},vr={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},xr={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},yr={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},La={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ox={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ws(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(s=>n.searchParams.append("args[]",s)),`Minified MUI error #${t}; visit ${n} for the full message.`}const Lx="$$material";function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Wl.apply(null,arguments)}function zx(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kx(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Px=function(){function t(n){var s=this;this._insertTag=function(a){var o;s.tags.length===0?s.insertionPoint?o=s.insertionPoint.nextSibling:s.prepend?o=s.container.firstChild:o=s.before:o=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(a,o),s.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(s){s.forEach(this._insertTag)},e.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kx(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=zx(a);try{o.insertRule(s,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(s));this.ctr++},e.flush=function(){this.tags.forEach(function(s){var a;return(a=s.parentNode)==null?void 0:a.removeChild(s)}),this.tags=[],this.ctr=0},t}(),He="-ms-",Jl="-moz-",Pt="-webkit-",Gg="comm",Tf="rule",Bf="decl",Yx="@import",Hg="@keyframes",Gx="@layer",Hx=Math.abs,rc=String.fromCharCode,qx=Object.assign;function Kx(t,e){return Le(t,0)^45?(((e<<2^Le(t,0))<<2^Le(t,1))<<2^Le(t,2))<<2^Le(t,3):0}function qg(t){return t.trim()}function Qx(t,e){return(t=e.exec(t))?t[0]:t}function Yt(t,e,n){return t.replace(e,n)}function af(t,e){return t.indexOf(e)}function Le(t,e){return t.charCodeAt(e)|0}function Wa(t,e,n){return t.slice(e,n)}function ji(t){return t.length}function Rf(t){return t.length}function Fl(t,e){return e.push(t),t}function jx(t,e){return t.map(e).join("")}var ac=1,Br=1,Kg=0,ni=0,we=0,Ur="";function oc(t,e,n,s,a,o,c){return{value:t,root:e,parent:n,type:s,props:a,children:o,line:ac,column:Br,length:c,return:""}}function za(t,e){return qx(oc("",null,null,"",null,null,0),t,{length:-t.length},e)}function Xx(){return we}function Zx(){return we=ni>0?Le(Ur,--ni):0,Br--,we===10&&(Br=1,ac--),we}function Ai(){return we=ni<Kg?Le(Ur,ni++):0,Br++,we===10&&(Br=1,ac++),we}function Ji(){return Le(Ur,ni)}function Hl(){return ni}function eo(t,e){return Wa(Ur,t,e)}function Ja(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qg(t){return ac=Br=1,Kg=ji(Ur=t),ni=0,[]}function jg(t){return Ur="",t}function ql(t){return qg(eo(ni-1,of(t===91?t+2:t===40?t+1:t)))}function Wx(t){for(;(we=Ji())&&we<33;)Ai();return Ja(t)>2||Ja(we)>3?"":" "}function Jx(t,e){for(;--e&&Ai()&&!(we<48||we>102||we>57&&we<65||we>70&&we<97););return eo(t,Hl()+(e<6&&Ji()==32&&Ai()==32))}function of(t){for(;Ai();)switch(we){case t:return ni;case 34:case 39:t!==34&&t!==39&&of(we);break;case 40:t===41&&of(t);break;case 92:Ai();break}return ni}function _x(t,e){for(;Ai()&&t+we!==57;)if(t+we===84&&Ji()===47)break;return"/*"+eo(e,ni-1)+"*"+rc(t===47?t:Ai())}function $x(t){for(;!Ja(Ji());)Ai();return eo(t,ni)}function ty(t){return jg(Kl("",null,null,null,[""],t=Qg(t),0,[0],t))}function Kl(t,e,n,s,a,o,c,h,u){for(var f=0,m=0,g=c,A=0,v=0,x=0,y=1,w=1,C=1,T=0,D="",M=a,E=o,R=s,B=D;w;)switch(x=T,T=Ai()){case 40:if(x!=108&&Le(B,g-1)==58){af(B+=Yt(ql(T),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:B+=ql(T);break;case 9:case 10:case 13:case 32:B+=Wx(x);break;case 92:B+=Jx(Hl()-1,7);continue;case 47:switch(Ji()){case 42:case 47:Fl(ey(_x(Ai(),Hl()),e,n),u);break;default:B+="/"}break;case 123*y:h[f++]=ji(B)*C;case 125*y:case 59:case 0:switch(T){case 0:case 125:w=0;case 59+m:C==-1&&(B=Yt(B,/\f/g,"")),v>0&&ji(B)-g&&Fl(v>32?Em(B+";",s,n,g-1):Em(Yt(B," ","")+";",s,n,g-2),u);break;case 59:B+=";";default:if(Fl(R=Mm(B,e,n,f,m,a,h,D,M=[],E=[],g),o),T===123)if(m===0)Kl(B,e,R,R,M,o,g,h,E);else switch(A===99&&Le(B,3)===110?100:A){case 100:case 108:case 109:case 115:Kl(t,R,R,s&&Fl(Mm(t,R,R,0,0,a,h,D,a,M=[],g),E),a,E,g,h,s?M:E);break;default:Kl(B,R,R,R,[""],E,0,h,E)}}f=m=v=0,y=C=1,D=B="",g=c;break;case 58:g=1+ji(B),v=x;default:if(y<1){if(T==123)--y;else if(T==125&&y++==0&&Zx()==125)continue}switch(B+=rc(T),T*y){case 38:C=m>0?1:(B+="\f",-1);break;case 44:h[f++]=(ji(B)-1)*C,C=1;break;case 64:Ji()===45&&(B+=ql(Ai())),A=Ji(),m=g=ji(D=B+=$x(Hl())),T++;break;case 45:x===45&&ji(B)==2&&(y=0)}}return o}function Mm(t,e,n,s,a,o,c,h,u,f,m){for(var g=a-1,A=a===0?o:[""],v=Rf(A),x=0,y=0,w=0;x<s;++x)for(var C=0,T=Wa(t,g+1,g=Hx(y=c[x])),D=t;C<v;++C)(D=qg(y>0?A[C]+" "+T:Yt(T,/&\f/g,A[C])))&&(u[w++]=D);return oc(t,e,n,a===0?Tf:h,u,f,m)}function ey(t,e,n){return oc(t,e,n,Gg,rc(Xx()),Wa(t,2,-2),0)}function Em(t,e,n,s){return oc(t,e,n,Bf,Wa(t,0,s),Wa(t,s+1,-1),s)}function Dr(t,e){for(var n="",s=Rf(t),a=0;a<s;a++)n+=e(t[a],a,t,e)||"";return n}function iy(t,e,n,s){switch(t.type){case Gx:if(t.children.length)break;case Yx:case Bf:return t.return=t.return||t.value;case Gg:return"";case Hg:return t.return=t.value+"{"+Dr(t.children,s)+"}";case Tf:t.value=t.props.join(",")}return ji(n=Dr(t.children,s))?t.return=t.value+"{"+n+"}":""}function ny(t){var e=Rf(t);return function(n,s,a,o){for(var c="",h=0;h<e;h++)c+=t[h](n,s,a,o)||"";return c}}function sy(t){return function(e){e.root||(e=e.return)&&t(e)}}function Xg(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ry=function(e,n,s){for(var a=0,o=0;a=o,o=Ji(),a===38&&o===12&&(n[s]=1),!Ja(o);)Ai();return eo(e,ni)},ay=function(e,n){var s=-1,a=44;do switch(Ja(a)){case 0:a===38&&Ji()===12&&(n[s]=1),e[s]+=ry(ni-1,n,s);break;case 2:e[s]+=ql(a);break;case 4:if(a===44){e[++s]=Ji()===58?"&\f":"",n[s]=e[s].length;break}default:e[s]+=rc(a)}while(a=Ai());return e},oy=function(e,n){return jg(ay(Qg(e),n))},Dm=new WeakMap,ly=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,s=e.parent,a=e.column===s.column&&e.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Dm.get(s))&&!a){Dm.set(e,!0);for(var o=[],c=oy(n,o),h=s.props,u=0,f=0;u<c.length;u++)for(var m=0;m<h.length;m++,f++)e.props[f]=o[u]?c[u].replace(/&\f/g,h[m]):h[m]+" "+c[u]}}},cy=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Zg(t,e){switch(Kx(t,e)){case 5103:return Pt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pt+t+Jl+t+He+t+t;case 6828:case 4268:return Pt+t+He+t+t;case 6165:return Pt+t+He+"flex-"+t+t;case 5187:return Pt+t+Yt(t,/(\w+).+(:[^]+)/,Pt+"box-$1$2"+He+"flex-$1$2")+t;case 5443:return Pt+t+He+"flex-item-"+Yt(t,/flex-|-self/,"")+t;case 4675:return Pt+t+He+"flex-line-pack"+Yt(t,/align-content|flex-|-self/,"")+t;case 5548:return Pt+t+He+Yt(t,"shrink","negative")+t;case 5292:return Pt+t+He+Yt(t,"basis","preferred-size")+t;case 6060:return Pt+"box-"+Yt(t,"-grow","")+Pt+t+He+Yt(t,"grow","positive")+t;case 4554:return Pt+Yt(t,/([^-])(transform)/g,"$1"+Pt+"$2")+t;case 6187:return Yt(Yt(Yt(t,/(zoom-|grab)/,Pt+"$1"),/(image-set)/,Pt+"$1"),t,"")+t;case 5495:case 3959:return Yt(t,/(image-set\([^]*)/,Pt+"$1$`$1");case 4968:return Yt(Yt(t,/(.+:)(flex-)?(.*)/,Pt+"box-pack:$3"+He+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pt+t+t;case 4095:case 3583:case 4068:case 2532:return Yt(t,/(.+)-inline(.+)/,Pt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ji(t)-1-e>6)switch(Le(t,e+1)){case 109:if(Le(t,e+4)!==45)break;case 102:return Yt(t,/(.+:)(.+)-([^]+)/,"$1"+Pt+"$2-$3$1"+Jl+(Le(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~af(t,"stretch")?Zg(Yt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Le(t,e+1)!==115)break;case 6444:switch(Le(t,ji(t)-3-(~af(t,"!important")&&10))){case 107:return Yt(t,":",":"+Pt)+t;case 101:return Yt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pt+(Le(t,14)===45?"inline-":"")+"box$3$1"+Pt+"$2$3$1"+He+"$2box$3")+t}break;case 5936:switch(Le(t,e+11)){case 114:return Pt+t+He+Yt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pt+t+He+Yt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pt+t+He+Yt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Pt+t+He+t+t}return t}var uy=function(e,n,s,a){if(e.length>-1&&!e.return)switch(e.type){case Bf:e.return=Zg(e.value,e.length);break;case Hg:return Dr([za(e,{value:Yt(e.value,"@","@"+Pt)})],a);case Tf:if(e.length)return jx(e.props,function(o){switch(Qx(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dr([za(e,{props:[Yt(o,/:(read-\w+)/,":"+Jl+"$1")]})],a);case"::placeholder":return Dr([za(e,{props:[Yt(o,/:(plac\w+)/,":"+Pt+"input-$1")]}),za(e,{props:[Yt(o,/:(plac\w+)/,":"+Jl+"$1")]}),za(e,{props:[Yt(o,/:(plac\w+)/,He+"input-$1")]})],a)}return""})}},hy=[uy],fy=function(e){var n=e.key;if(n==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(y){var w=y.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var a=e.stylisPlugins||hy,o={},c,h=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var w=y.getAttribute("data-emotion").split(" "),C=1;C<w.length;C++)o[w[C]]=!0;h.push(y)});var u,f=[ly,cy];{var m,g=[iy,sy(function(y){m.insert(y)})],A=ny(f.concat(a,g)),v=function(w){return Dr(ty(w),A)};u=function(w,C,T,D){m=T,v(w?w+"{"+C.styles+"}":C.styles),D&&(x.inserted[C.name]=!0)}}var x={key:n,sheet:new Px({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:u};return x.sheet.hydrate(h),x},Xh={exports:{}},Gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function dy(){if(Tm)return Gt;Tm=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,s=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,h=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,m=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,A=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,T=t?Symbol.for("react.scope"):60119;function D(E){if(typeof E=="object"&&E!==null){var R=E.$$typeof;switch(R){case e:switch(E=E.type,E){case u:case f:case s:case o:case a:case g:return E;default:switch(E=E&&E.$$typeof,E){case h:case m:case x:case v:case c:return E;default:return R}}case n:return R}}}function M(E){return D(E)===f}return Gt.AsyncMode=u,Gt.ConcurrentMode=f,Gt.ContextConsumer=h,Gt.ContextProvider=c,Gt.Element=e,Gt.ForwardRef=m,Gt.Fragment=s,Gt.Lazy=x,Gt.Memo=v,Gt.Portal=n,Gt.Profiler=o,Gt.StrictMode=a,Gt.Suspense=g,Gt.isAsyncMode=function(E){return M(E)||D(E)===u},Gt.isConcurrentMode=M,Gt.isContextConsumer=function(E){return D(E)===h},Gt.isContextProvider=function(E){return D(E)===c},Gt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},Gt.isForwardRef=function(E){return D(E)===m},Gt.isFragment=function(E){return D(E)===s},Gt.isLazy=function(E){return D(E)===x},Gt.isMemo=function(E){return D(E)===v},Gt.isPortal=function(E){return D(E)===n},Gt.isProfiler=function(E){return D(E)===o},Gt.isStrictMode=function(E){return D(E)===a},Gt.isSuspense=function(E){return D(E)===g},Gt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===s||E===f||E===o||E===a||E===g||E===A||typeof E=="object"&&E!==null&&(E.$$typeof===x||E.$$typeof===v||E.$$typeof===c||E.$$typeof===h||E.$$typeof===m||E.$$typeof===w||E.$$typeof===C||E.$$typeof===T||E.$$typeof===y)},Gt.typeOf=D,Gt}var Bm;function my(){return Bm||(Bm=1,Xh.exports=dy()),Xh.exports}var Zh,Rm;function gy(){if(Rm)return Zh;Rm=1;var t=my(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=s,o[t.Memo]=a;function c(x){return t.isMemo(x)?a:o[x.$$typeof]||e}var h=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,A=Object.prototype;function v(x,y,w){if(typeof y!="string"){if(A){var C=g(y);C&&C!==A&&v(x,C,w)}var T=u(y);f&&(T=T.concat(f(y)));for(var D=c(x),M=c(y),E=0;E<T.length;++E){var R=T[E];if(!n[R]&&!(w&&w[R])&&!(M&&M[R])&&!(D&&D[R])){var B=m(y,R);try{h(x,R,B)}catch{}}}}return x}return Zh=v,Zh}gy();var Ay=!0;function Wg(t,e,n){var s="";return n.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(s+=a+" ")}),s}var Uf=function(e,n,s){var a=e.key+"-"+n.name;(s===!1||Ay===!1)&&e.registered[a]===void 0&&(e.registered[a]=n.styles)},Jg=function(e,n,s){Uf(e,n,s);var a=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+a:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function py(t){for(var e=0,n,s=0,a=t.length;a>=4;++s,a-=4)n=t.charCodeAt(s)&255|(t.charCodeAt(++s)&255)<<8|(t.charCodeAt(++s)&255)<<16|(t.charCodeAt(++s)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(s+2)&255)<<16;case 2:e^=(t.charCodeAt(s+1)&255)<<8;case 1:e^=t.charCodeAt(s)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var vy={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xy=/[A-Z]|^ms/g,yy=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_g=function(e){return e.charCodeAt(1)===45},Um=function(e){return e!=null&&typeof e!="boolean"},Wh=Xg(function(t){return _g(t)?t:t.replace(xy,"-$&").toLowerCase()}),Fm=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(yy,function(s,a,o){return Xi={name:a,styles:o,next:Xi},a})}return vy[e]!==1&&!_g(e)&&typeof n=="number"&&n!==0?n+"px":n};function _a(t,e,n){if(n==null)return"";var s=n;if(s.__emotion_styles!==void 0)return s;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return Xi={name:a.name,styles:a.styles,next:Xi},a.name;var o=n;if(o.styles!==void 0){var c=o.next;if(c!==void 0)for(;c!==void 0;)Xi={name:c.name,styles:c.styles,next:Xi},c=c.next;var h=o.styles+";";return h}return by(t,e,n)}case"function":{if(t!==void 0){var u=Xi,f=n(t);return Xi=u,_a(t,e,f)}break}}var m=n;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function by(t,e,n){var s="";if(Array.isArray(n))for(var a=0;a<n.length;a++)s+=_a(t,e,n[a])+";";else for(var o in n){var c=n[o];if(typeof c!="object"){var h=c;e!=null&&e[h]!==void 0?s+=o+"{"+e[h]+"}":Um(h)&&(s+=Wh(o)+":"+Fm(o,h)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var u=0;u<c.length;u++)Um(c[u])&&(s+=Wh(o)+":"+Fm(o,c[u])+";");else{var f=_a(t,e,c);switch(o){case"animation":case"animationName":{s+=Wh(o)+":"+f+";";break}default:s+=o+"{"+f+"}"}}}return s}var Vm=/label:\s*([^\s;{]+)\s*(;|$)/g,Xi;function lc(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,a="";Xi=void 0;var o=t[0];if(o==null||o.raw===void 0)s=!1,a+=_a(n,e,o);else{var c=o;a+=c[0]}for(var h=1;h<t.length;h++)if(a+=_a(n,e,t[h]),s){var u=o;a+=u[h]}Vm.lastIndex=0;for(var f="",m;(m=Vm.exec(a))!==null;)f+="-"+m[1];var g=py(a)+f;return{name:g,styles:a,next:Xi}}var wy=function(e){return e()},Cy=G2.useInsertionEffect?G2.useInsertionEffect:!1,$g=Cy||wy,tA=ct.createContext(typeof HTMLElement<"u"?fy({key:"css"}):null);tA.Provider;var eA=function(e){return ct.forwardRef(function(n,s){var a=ct.useContext(tA);return e(n,a,s)})},iA=ct.createContext({}),Ff={}.hasOwnProperty,lf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Sy=function(e,n){var s={};for(var a in n)Ff.call(n,a)&&(s[a]=n[a]);return s[lf]=e,s},My=function(e){var n=e.cache,s=e.serialized,a=e.isStringTag;return Uf(n,s,a),$g(function(){return Jg(n,s,a)}),null},Ey=eA(function(t,e,n){var s=t.css;typeof s=="string"&&e.registered[s]!==void 0&&(s=e.registered[s]);var a=t[lf],o=[s],c="";typeof t.className=="string"?c=Wg(e.registered,o,t.className):t.className!=null&&(c=t.className+" ");var h=lc(o,void 0,ct.useContext(iA));c+=e.key+"-"+h.name;var u={};for(var f in t)Ff.call(t,f)&&f!=="css"&&f!==lf&&(u[f]=t[f]);return u.className=c,n&&(u.ref=n),ct.createElement(ct.Fragment,null,ct.createElement(My,{cache:e,serialized:h,isStringTag:typeof a=="string"}),ct.createElement(a,u))}),Dy=Ey,Im=function(e,n){var s=arguments;if(n==null||!Ff.call(n,"css"))return ct.createElement.apply(void 0,s);var a=s.length,o=new Array(a);o[0]=Dy,o[1]=Sy(e,n);for(var c=2;c<a;c++)o[c]=s[c];return ct.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Im||(Im={}));function Ty(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return lc(e)}function Vf(){var t=Ty.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var By=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ry=Xg(function(t){return By.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Uy=Ry,Fy=function(e){return e!=="theme"},Nm=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Uy:Fy},Om=function(e,n,s){var a;if(n){var o=n.shouldForwardProp;a=e.__emotion_forwardProp&&o?function(c){return e.__emotion_forwardProp(c)&&o(c)}:o}return typeof a!="function"&&s&&(a=e.__emotion_forwardProp),a},Vy=function(e){var n=e.cache,s=e.serialized,a=e.isStringTag;return Uf(n,s,a),$g(function(){return Jg(n,s,a)}),null},Iy=function t(e,n){var s=e.__emotion_real===e,a=s&&e.__emotion_base||e,o,c;n!==void 0&&(o=n.label,c=n.target);var h=Om(e,n,s),u=h||Nm(a),f=!u("as");return function(){var m=arguments,g=s&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&g.push("label:"+o+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var A=m[0];g.push(A[0]);for(var v=m.length,x=1;x<v;x++)g.push(m[x],A[x])}var y=eA(function(w,C,T){var D=f&&w.as||a,M="",E=[],R=w;if(w.theme==null){R={};for(var B in w)R[B]=w[B];R.theme=ct.useContext(iA)}typeof w.className=="string"?M=Wg(C.registered,E,w.className):w.className!=null&&(M=w.className+" ");var U=lc(g.concat(E),C.registered,R);M+=C.key+"-"+U.name,c!==void 0&&(M+=" "+c);var N=f&&h===void 0?Nm(D):u,S={};for(var I in w)f&&I==="as"||N(I)&&(S[I]=w[I]);return S.className=M,T&&(S.ref=T),ct.createElement(ct.Fragment,null,ct.createElement(Vy,{cache:C,serialized:U,isStringTag:typeof D=="string"}),ct.createElement(D,S))});return y.displayName=o!==void 0?o:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=a,y.__emotion_styles=g,y.__emotion_forwardProp=h,Object.defineProperty(y,"toString",{value:function(){return"."+c}}),y.withComponent=function(w,C){var T=t(w,Wl({},n,C,{shouldForwardProp:Om(y,C,!0)}));return T.apply(void 0,g)},y}},Ny=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],cf=Iy.bind(null);Ny.forEach(function(t){cf[t]=cf(t)});function Oy(t,e){return cf(t,e)}function Ly(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const Lm=[];function zm(t){return Lm[0]=t,lc(Lm)}var Jh={exports:{}},Xt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function zy(){if(km)return Xt;km=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),A=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case t:switch(y=y.type,y){case n:case a:case s:case u:case f:case A:return y;default:switch(y=y&&y.$$typeof,y){case c:case h:case g:case m:return y;case o:return y;default:return w}}case e:return w}}}return Xt.ContextConsumer=o,Xt.ContextProvider=c,Xt.Element=t,Xt.ForwardRef=h,Xt.Fragment=n,Xt.Lazy=g,Xt.Memo=m,Xt.Portal=e,Xt.Profiler=a,Xt.StrictMode=s,Xt.Suspense=u,Xt.SuspenseList=f,Xt.isContextConsumer=function(y){return x(y)===o},Xt.isContextProvider=function(y){return x(y)===c},Xt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Xt.isForwardRef=function(y){return x(y)===h},Xt.isFragment=function(y){return x(y)===n},Xt.isLazy=function(y){return x(y)===g},Xt.isMemo=function(y){return x(y)===m},Xt.isPortal=function(y){return x(y)===e},Xt.isProfiler=function(y){return x(y)===a},Xt.isStrictMode=function(y){return x(y)===s},Xt.isSuspense=function(y){return x(y)===u},Xt.isSuspenseList=function(y){return x(y)===f},Xt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===a||y===s||y===u||y===f||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===m||y.$$typeof===c||y.$$typeof===o||y.$$typeof===h||y.$$typeof===v||y.getModuleId!==void 0)},Xt.typeOf=x,Xt}var Pm;function ky(){return Pm||(Pm=1,Jh.exports=zy()),Jh.exports}var nA=ky();function Zi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function sA(t){if(ct.isValidElement(t)||nA.isValidElementType(t)||!Zi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=sA(t[n])}),e}function pi(t,e,n={clone:!0}){const s=n.clone?{...t}:t;return Zi(t)&&Zi(e)&&Object.keys(e).forEach(a=>{ct.isValidElement(e[a])||nA.isValidElementType(e[a])?s[a]=e[a]:Zi(e[a])&&Object.prototype.hasOwnProperty.call(t,a)&&Zi(t[a])?s[a]=pi(t[a],e[a],n):n.clone?s[a]=Zi(e[a])?sA(e[a]):e[a]:s[a]=e[a]}),s}const Py=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,s)=>n.val-s.val),e.reduce((n,s)=>({...n,[s.key]:s.val}),{})};function Yy(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:s=5,...a}=t,o=Py(e),c=Object.keys(o);function h(A){return`@media (min-width:${typeof e[A]=="number"?e[A]:A}${n})`}function u(A){return`@media (max-width:${(typeof e[A]=="number"?e[A]:A)-s/100}${n})`}function f(A,v){const x=c.indexOf(v);return`@media (min-width:${typeof e[A]=="number"?e[A]:A}${n}) and (max-width:${(x!==-1&&typeof e[c[x]]=="number"?e[c[x]]:v)-s/100}${n})`}function m(A){return c.indexOf(A)+1<c.length?f(A,c[c.indexOf(A)+1]):h(A)}function g(A){const v=c.indexOf(A);return v===0?h(c[1]):v===c.length-1?u(c[v]):f(A,c[c.indexOf(A)+1]).replace("@media","@media not all and")}return{keys:c,values:o,up:h,down:u,between:f,only:m,not:g,unit:n,...a}}function Gy(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(s=>s.startsWith("@container")).sort((s,a)=>{var c,h;const o=/min-width:\s*([0-9.]+)/;return+(((c=s.match(o))==null?void 0:c[1])||0)-+(((h=a.match(o))==null?void 0:h[1])||0)});return n.length?n.reduce((s,a)=>{const o=e[a];return delete s[a],s[a]=o,s},{...e}):e}function Hy(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function qy(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,s,a]=n,o=Number.isNaN(+s)?s||0:+s;return t.containerQueries(a).up(o)}function Ky(t){const e=(o,c)=>o.replace("@media",c?`@container ${c}`:"@container");function n(o,c){o.up=(...h)=>e(t.breakpoints.up(...h),c),o.down=(...h)=>e(t.breakpoints.down(...h),c),o.between=(...h)=>e(t.breakpoints.between(...h),c),o.only=(...h)=>e(t.breakpoints.only(...h),c),o.not=(...h)=>{const u=e(t.breakpoints.not(...h),c);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const s={},a=o=>(n(s,o),s);return n(a),{...t,containerQueries:a}}const Qy={borderRadius:4};function ja(t,e){return e?pi(t,e,{clone:!1}):t}const cc={xs:0,sm:600,md:900,lg:1200,xl:1536},Ym={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${cc[t]}px)`},jy={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:cc[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function pn(t,e,n){const s=t.theme||{};if(Array.isArray(e)){const o=s.breakpoints||Ym;return e.reduce((c,h,u)=>(c[o.up(o.keys[u])]=n(e[u]),c),{})}if(typeof e=="object"){const o=s.breakpoints||Ym;return Object.keys(e).reduce((c,h)=>{if(Hy(o.keys,h)){const u=qy(s.containerQueries?s:jy,h);u&&(c[u]=n(e[h],h))}else if(Object.keys(o.values||cc).includes(h)){const u=o.up(h);c[u]=n(e[h],h)}else{const u=h;c[u]=e[u]}return c},{})}return n(e)}function Xy(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((s,a)=>{const o=t.up(a);return s[o]={},s},{}))||{}}function Zy(t,e){return t.reduce((n,s)=>{const a=n[s];return(!a||Object.keys(a).length===0)&&delete n[s],n},e)}function qe(t){if(typeof t!="string")throw new Error(ws(7));return t.charAt(0).toUpperCase()+t.slice(1)}function uc(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const s=`vars.${e}`.split(".").reduce((a,o)=>a&&a[o]?a[o]:null,t);if(s!=null)return s}return e.split(".").reduce((s,a)=>s&&s[a]!=null?s[a]:null,t)}function _l(t,e,n,s=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||s:a=uc(t,n)||s,e&&(a=e(a,s,t)),a}function pe(t){const{prop:e,cssProperty:n=t.prop,themeKey:s,transform:a}=t,o=c=>{if(c[e]==null)return null;const h=c[e],u=c.theme,f=uc(u,s)||{};return pn(c,h,g=>{let A=_l(f,a,g);return g===A&&typeof g=="string"&&(A=_l(f,a,`${e}${g==="default"?"":qe(g)}`,g)),n===!1?A:{[n]:A}})};return o.propTypes={},o.filterProps=[e],o}function Wy(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Jy={m:"margin",p:"padding"},_y={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Gm={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$y=Wy(t=>{if(t.length>2)if(Gm[t])t=Gm[t];else return[t];const[e,n]=t.split(""),s=Jy[e],a=_y[n]||"";return Array.isArray(a)?a.map(o=>s+o):[s+a]}),If=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Nf=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...If,...Nf];function io(t,e,n,s){const a=uc(t,e,!0)??n;return typeof a=="number"||typeof a=="string"?o=>typeof o=="string"?o:typeof a=="string"?a.startsWith("var(")&&o===0?0:a.startsWith("var(")&&o===1?a:`calc(${o} * ${a})`:a*o:Array.isArray(a)?o=>{if(typeof o=="string")return o;const c=Math.abs(o),h=a[c];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof a=="function"?a:()=>{}}function Of(t){return io(t,"spacing",8)}function no(t,e){return typeof e=="string"||e==null?e:t(e)}function t6(t,e){return n=>t.reduce((s,a)=>(s[a]=no(e,n),s),{})}function e6(t,e,n,s){if(!e.includes(n))return null;const a=$y(n),o=t6(a,s),c=t[n];return pn(t,c,o)}function rA(t,e){const n=Of(t.theme);return Object.keys(t).map(s=>e6(t,e,s,n)).reduce(ja,{})}function fe(t){return rA(t,If)}fe.propTypes={};fe.filterProps=If;function de(t){return rA(t,Nf)}de.propTypes={};de.filterProps=Nf;function aA(t=8,e=Of({spacing:t})){if(t.mui)return t;const n=(...s)=>(s.length===0?[1]:s).map(o=>{const c=e(o);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function hc(...t){const e=t.reduce((s,a)=>(a.filterProps.forEach(o=>{s[o]=a}),s),{}),n=s=>Object.keys(s).reduce((a,o)=>e[o]?ja(a,e[o](s)):a,{});return n.propTypes={},n.filterProps=t.reduce((s,a)=>s.concat(a.filterProps),[]),n}function Ti(t){return typeof t!="number"?t:`${t}px solid`}function Ri(t,e){return pe({prop:t,themeKey:"borders",transform:e})}const i6=Ri("border",Ti),n6=Ri("borderTop",Ti),s6=Ri("borderRight",Ti),r6=Ri("borderBottom",Ti),a6=Ri("borderLeft",Ti),o6=Ri("borderColor"),l6=Ri("borderTopColor"),c6=Ri("borderRightColor"),u6=Ri("borderBottomColor"),h6=Ri("borderLeftColor"),f6=Ri("outline",Ti),d6=Ri("outlineColor"),fc=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=io(t.theme,"shape.borderRadius",4),n=s=>({borderRadius:no(e,s)});return pn(t,t.borderRadius,n)}return null};fc.propTypes={};fc.filterProps=["borderRadius"];hc(i6,n6,s6,r6,a6,o6,l6,c6,u6,h6,fc,f6,d6);const dc=t=>{if(t.gap!==void 0&&t.gap!==null){const e=io(t.theme,"spacing",8),n=s=>({gap:no(e,s)});return pn(t,t.gap,n)}return null};dc.propTypes={};dc.filterProps=["gap"];const mc=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=io(t.theme,"spacing",8),n=s=>({columnGap:no(e,s)});return pn(t,t.columnGap,n)}return null};mc.propTypes={};mc.filterProps=["columnGap"];const gc=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=io(t.theme,"spacing",8),n=s=>({rowGap:no(e,s)});return pn(t,t.rowGap,n)}return null};gc.propTypes={};gc.filterProps=["rowGap"];const m6=pe({prop:"gridColumn"}),g6=pe({prop:"gridRow"}),A6=pe({prop:"gridAutoFlow"}),p6=pe({prop:"gridAutoColumns"}),v6=pe({prop:"gridAutoRows"}),x6=pe({prop:"gridTemplateColumns"}),y6=pe({prop:"gridTemplateRows"}),b6=pe({prop:"gridTemplateAreas"}),w6=pe({prop:"gridArea"});hc(dc,mc,gc,m6,g6,A6,p6,v6,x6,y6,b6,w6);function Tr(t,e){return e==="grey"?e:t}const C6=pe({prop:"color",themeKey:"palette",transform:Tr}),S6=pe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Tr}),M6=pe({prop:"backgroundColor",themeKey:"palette",transform:Tr});hc(C6,S6,M6);function gi(t){return t<=1&&t!==0?`${t*100}%`:t}const E6=pe({prop:"width",transform:gi}),Lf=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var a,o,c,h,u;const s=((c=(o=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:o.values)==null?void 0:c[n])||cc[n];return s?((u=(h=t.theme)==null?void 0:h.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:gi(n)}};return pn(t,t.maxWidth,e)}return null};Lf.filterProps=["maxWidth"];const D6=pe({prop:"minWidth",transform:gi}),T6=pe({prop:"height",transform:gi}),B6=pe({prop:"maxHeight",transform:gi}),R6=pe({prop:"minHeight",transform:gi});pe({prop:"size",cssProperty:"width",transform:gi});pe({prop:"size",cssProperty:"height",transform:gi});const U6=pe({prop:"boxSizing"});hc(E6,Lf,D6,T6,B6,R6,U6);const so={border:{themeKey:"borders",transform:Ti},borderTop:{themeKey:"borders",transform:Ti},borderRight:{themeKey:"borders",transform:Ti},borderBottom:{themeKey:"borders",transform:Ti},borderLeft:{themeKey:"borders",transform:Ti},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ti},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fc},color:{themeKey:"palette",transform:Tr},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Tr},backgroundColor:{themeKey:"palette",transform:Tr},p:{style:de},pt:{style:de},pr:{style:de},pb:{style:de},pl:{style:de},px:{style:de},py:{style:de},padding:{style:de},paddingTop:{style:de},paddingRight:{style:de},paddingBottom:{style:de},paddingLeft:{style:de},paddingX:{style:de},paddingY:{style:de},paddingInline:{style:de},paddingInlineStart:{style:de},paddingInlineEnd:{style:de},paddingBlock:{style:de},paddingBlockStart:{style:de},paddingBlockEnd:{style:de},m:{style:fe},mt:{style:fe},mr:{style:fe},mb:{style:fe},ml:{style:fe},mx:{style:fe},my:{style:fe},margin:{style:fe},marginTop:{style:fe},marginRight:{style:fe},marginBottom:{style:fe},marginLeft:{style:fe},marginX:{style:fe},marginY:{style:fe},marginInline:{style:fe},marginInlineStart:{style:fe},marginInlineEnd:{style:fe},marginBlock:{style:fe},marginBlockStart:{style:fe},marginBlockEnd:{style:fe},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:dc},rowGap:{style:gc},columnGap:{style:mc},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gi},maxWidth:{style:Lf},minWidth:{transform:gi},height:{transform:gi},maxHeight:{transform:gi},minHeight:{transform:gi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function F6(...t){const e=t.reduce((s,a)=>s.concat(Object.keys(a)),[]),n=new Set(e);return t.every(s=>n.size===Object.keys(s).length)}function V6(t,e){return typeof t=="function"?t(e):t}function I6(){function t(n,s,a,o){const c={[n]:s,theme:a},h=o[n];if(!h)return{[n]:s};const{cssProperty:u=n,themeKey:f,transform:m,style:g}=h;if(s==null)return null;if(f==="typography"&&s==="inherit")return{[n]:s};const A=uc(a,f)||{};return g?g(c):pn(c,s,x=>{let y=_l(A,m,x);return x===y&&typeof x=="string"&&(y=_l(A,m,`${n}${x==="default"?"":qe(x)}`,x)),u===!1?y:{[u]:y}})}function e(n){const{sx:s,theme:a={}}=n||{};if(!s)return null;const o=a.unstable_sxConfig??so;function c(h){let u=h;if(typeof h=="function")u=h(a);else if(typeof h!="object")return h;if(!u)return null;const f=Xy(a.breakpoints),m=Object.keys(f);let g=f;return Object.keys(u).forEach(A=>{const v=V6(u[A],a);if(v!=null)if(typeof v=="object")if(o[A])g=ja(g,t(A,v,a,o));else{const x=pn({theme:a},v,y=>({[A]:y}));F6(x,v)?g[A]=e({sx:v,theme:a}):g=ja(g,x)}else g=ja(g,t(A,v,a,o))}),Gy(a,Zy(m,g))}return Array.isArray(s)?s.map(c):c(s)}return e}const Rr=I6();Rr.filterProps=["sx"];function N6(t,e){var s;const n=this;if(n.vars){if(!((s=n.colorSchemes)!=null&&s[t])||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(t);return a==="&"?e:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:e})}return n.palette.mode===t?e:{}}function oA(t={},...e){const{breakpoints:n={},palette:s={},spacing:a,shape:o={},...c}=t,h=Yy(n),u=aA(a);let f=pi({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...s},spacing:u,shape:{...Qy,...o}},c);return f=Ky(f),f.applyStyles=N6,f=e.reduce((m,g)=>pi(m,g),f),f.unstable_sxConfig={...so,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(g){return Rr({sx:g,theme:this})},f}const O6=t=>{var s;const e={systemProps:{},otherProps:{}},n=((s=t==null?void 0:t.theme)==null?void 0:s.unstable_sxConfig)??so;return Object.keys(t).forEach(a=>{n[a]?e.systemProps[a]=t[a]:e.otherProps[a]=t[a]}),e};function L6(t){const{sx:e,...n}=t,{systemProps:s,otherProps:a}=O6(n);let o;return Array.isArray(e)?o=[s,...e]:typeof e=="function"?o=(...c)=>{const h=e(...c);return Zi(h)?{...s,...h}:s}:o={...s,...e},{...a,sx:o}}const Hm=t=>t,z6=()=>{let t=Hm;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Hm}}},k6=z6();function lA(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=lA(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function be(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=lA(t))&&(s&&(s+=" "),s+=e);return s}const P6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Zn(t,e,n="Mui"){const s=P6[e];return s?`${n}-${s}`:`${k6.generate(t)}-${e}`}function Wn(t,e,n="Mui"){const s={};return e.forEach(a=>{s[a]=Zn(t,a,n)}),s}function cA(t){const{variants:e,...n}=t,s={variants:e,style:zm(n),isProcessed:!0};return s.style===n||e&&e.forEach(a=>{typeof a.style!="function"&&(a.style=zm(a.style))}),s}const Y6=oA();function _h(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function G6(t){return t?(e,n)=>n[t]:null}function H6(t,e,n){t.theme=Q6(t.theme)?n:t.theme[e]||t.theme}function Ql(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(s=>Ql(t,s));if(Array.isArray(n==null?void 0:n.variants)){let s;if(n.isProcessed)s=n.style;else{const{variants:a,...o}=n;s=o}return uA(t,n.variants,[s])}return n!=null&&n.isProcessed?n.style:n}function uA(t,e,n=[]){var a;let s;t:for(let o=0;o<e.length;o+=1){const c=e[o];if(typeof c.props=="function"){if(s??(s={...t,...t.ownerState,ownerState:t.ownerState}),!c.props(s))continue}else for(const h in c.props)if(t[h]!==c.props[h]&&((a=t.ownerState)==null?void 0:a[h])!==c.props[h])continue t;typeof c.style=="function"?(s??(s={...t,...t.ownerState,ownerState:t.ownerState}),n.push(c.style(s))):n.push(c.style)}return n}function q6(t={}){const{themeId:e,defaultTheme:n=Y6,rootShouldForwardProp:s=_h,slotShouldForwardProp:a=_h}=t;function o(h){H6(h,e,n)}return(h,u={})=>{Ly(h,E=>E.filter(R=>R!==Rr));const{name:f,slot:m,skipVariantsResolver:g,skipSx:A,overridesResolver:v=G6(X6(m)),...x}=u,y=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,w=A||!1;let C=_h;m==="Root"||m==="root"?C=s:m?C=a:j6(h)&&(C=void 0);const T=Oy(h,{shouldForwardProp:C,label:K6(),...x}),D=E=>{if(typeof E=="function"&&E.__emotion_real!==E)return function(B){return Ql(B,E)};if(Zi(E)){const R=cA(E);return R.variants?function(U){return Ql(U,R)}:R.style}return E},M=(...E)=>{const R=[],B=E.map(D),U=[];if(R.push(o),f&&v&&U.push(function(F){var P,K;const k=(K=(P=F.theme.components)==null?void 0:P[f])==null?void 0:K.styleOverrides;if(!k)return null;const q={};for(const J in k)q[J]=Ql(F,k[J]);return v(F,q)}),f&&!y&&U.push(function(F){var q,P;const L=F.theme,k=(P=(q=L==null?void 0:L.components)==null?void 0:q[f])==null?void 0:P.variants;return k?uA(F,k):null}),w||U.push(Rr),Array.isArray(B[0])){const I=B.shift(),F=new Array(R.length).fill(""),L=new Array(U.length).fill("");let k;k=[...F,...I,...L],k.raw=[...F,...I.raw,...L],R.unshift(k)}const N=[...R,...B,...U],S=T(...N);return h.muiName&&(S.muiName=h.muiName),S};return T.withConfig&&(M.withConfig=T.withConfig),M}}function K6(t,e){return void 0}function Q6(t){for(const e in t)return!1;return!0}function j6(t){return typeof t=="string"&&t.charCodeAt(0)>96}function X6(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function uf(t,e){const n={...e};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const a=s;if(a==="components"||a==="slots")n[a]={...t[a],...n[a]};else if(a==="componentsProps"||a==="slotProps"){const o=t[a],c=e[a];if(!c)n[a]=o||{};else if(!o)n[a]=c;else{n[a]={...c};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const u=h;n[a][u]=uf(o[u],c[u])}}}else n[a]===void 0&&(n[a]=t[a])}return n}const Z6=typeof window<"u"?ct.useLayoutEffect:ct.useEffect;function W6(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function zf(t,e=0,n=1){return W6(t,e,n)}function J6(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(s=>s+s)),n?`rgb${n.length===4?"a":""}(${n.map((s,a)=>a<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function Xn(t){if(t.type)return t;if(t.charAt(0)==="#")return Xn(J6(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ws(9,t));let s=t.substring(e+1,t.length-1),a;if(n==="color"){if(s=s.split(" "),a=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(ws(10,a))}else s=s.split(",");return s=s.map(o=>parseFloat(o)),{type:n,values:s,colorSpace:a}}const _6=t=>{const e=Xn(t);return e.values.slice(0,3).map((n,s)=>e.type.includes("hsl")&&s!==0?`${n}%`:n).join(" ")},Ya=(t,e)=>{try{return _6(t)}catch{return t}};function Ac(t){const{type:e,colorSpace:n}=t;let{values:s}=t;return e.includes("rgb")?s=s.map((a,o)=>o<3?parseInt(a,10):a):e.includes("hsl")&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),e.includes("color")?s=`${n} ${s.join(" ")}`:s=`${s.join(", ")}`,`${e}(${s})`}function hA(t){t=Xn(t);const{values:e}=t,n=e[0],s=e[1]/100,a=e[2]/100,o=s*Math.min(a,1-a),c=(f,m=(f+n/30)%12)=>a-o*Math.max(Math.min(m-3,9-m,1),-1);let h="rgb";const u=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return t.type==="hsla"&&(h+="a",u.push(e[3])),Ac({type:h,values:u})}function hf(t){t=Xn(t);let e=t.type==="hsl"||t.type==="hsla"?Xn(hA(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function $6(t,e){const n=hf(t),s=hf(e);return(Math.max(n,s)+.05)/(Math.min(n,s)+.05)}function ff(t,e){return t=Xn(t),e=zf(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Ac(t)}function Vl(t,e,n){try{return ff(t,e)}catch{return t}}function kf(t,e){if(t=Xn(t),e=zf(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Ac(t)}function Jt(t,e,n){try{return kf(t,e)}catch{return t}}function Pf(t,e){if(t=Xn(t),e=zf(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Ac(t)}function _t(t,e,n){try{return Pf(t,e)}catch{return t}}function tb(t,e=.15){return hf(t)>.5?kf(t,e):Pf(t,e)}function Il(t,e,n){try{return tb(t,e)}catch{return t}}function eb(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ib({controlled:t,default:e,name:n,state:s="value"}){const{current:a}=ct.useRef(t!==void 0),[o,c]=ct.useState(e),h=a?t:o,u=ct.useCallback(f=>{a||c(f)},[]);return[h,u]}function jl(t){const e=ct.useRef(t);return Z6(()=>{e.current=t}),ct.useRef((...n)=>(0,e.current)(...n)).current}function df(...t){return ct.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{eb(n,e)})},t)}const qm={};function fA(t,e){const n=ct.useRef(qm);return n.current===qm&&(n.current=t(e)),n}const nb=[];function sb(t){ct.useEffect(t,nb)}class Yf{constructor(){W(this,"currentId",null);W(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});W(this,"disposeEffect",()=>this.clear)}static create(){return new Yf}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function rb(){const t=fA(Yf.create).current;return sb(t.disposeEffect),t}function Km(t){try{return t.matches(":focus-visible")}catch{}return!1}function Cs(t,e,n=void 0){const s={};for(const a in t){const o=t[a];let c="",h=!0;for(let u=0;u<o.length;u+=1){const f=o[u];f&&(c+=(h===!0?"":" ")+e(f),h=!1,n&&n[f]&&(c+=" "+n[f]))}s[a]=c}return s}function ab(t){return typeof t=="string"}function ob(t,e,n){return t===void 0||ab(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function lb(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(s=>s.match(/^on[A-Z]/)&&typeof t[s]=="function"&&!e.includes(s)).forEach(s=>{n[s]=t[s]}),n}function Qm(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function cb(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:s,externalForwardedProps:a,className:o}=t;if(!e){const v=be(n==null?void 0:n.className,o,a==null?void 0:a.className,s==null?void 0:s.className),x={...n==null?void 0:n.style,...a==null?void 0:a.style,...s==null?void 0:s.style},y={...n,...a,...s};return v.length>0&&(y.className=v),Object.keys(x).length>0&&(y.style=x),{props:y,internalRef:void 0}}const c=lb({...a,...s}),h=Qm(s),u=Qm(a),f=e(c),m=be(f==null?void 0:f.className,n==null?void 0:n.className,o,a==null?void 0:a.className,s==null?void 0:s.className),g={...f==null?void 0:f.style,...n==null?void 0:n.style,...a==null?void 0:a.style,...s==null?void 0:s.style},A={...f,...n,...u,...h};return m.length>0&&(A.className=m),Object.keys(g).length>0&&(A.style=g),{props:A,internalRef:f.ref}}function ub(t,e,n){return typeof t=="function"?t(e,n):t}const hb=ct.createContext(void 0);function fb(t){const{theme:e,name:n,props:s}=t;if(!e||!e.components||!e.components[n])return s;const a=e.components[n];return a.defaultProps?uf(a.defaultProps,s):!a.styleOverrides&&!a.variants?uf(a,s):s}function db({props:t,name:e}){const n=ct.useContext(hb);return fb({props:t,name:e,theme:{components:n}})}const jm={theme:void 0};function mb(t){let e,n;return function(a){let o=e;return(o===void 0||a.theme!==n)&&(jm.theme=a.theme,o=cA(t(jm)),e=o,n=a.theme),o}}function gb(t=""){function e(...s){if(!s.length)return"";const a=s[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${a}${e(...s.slice(1))})`:`, ${a}`}return(s,...a)=>`var(--${t?`${t}-`:""}${s}${e(...a)})`}const Xm=(t,e,n,s=[])=>{let a=t;e.forEach((o,c)=>{c===e.length-1?Array.isArray(a)?a[Number(o)]=n:a&&typeof a=="object"&&(a[o]=n):a&&typeof a=="object"&&(a[o]||(a[o]=s.includes(o)?[]:{}),a=a[o])})},Ab=(t,e,n)=>{function s(a,o=[],c=[]){Object.entries(a).forEach(([h,u])=>{(!n||n&&!n([...o,h]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?s(u,[...o,h],Array.isArray(u)?[...c,h]:c):e([...o,h],u,c))})}s(t)},pb=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(s=>t.includes(s))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function $h(t,e){const{prefix:n,shouldSkipGeneratingVar:s}=e||{},a={},o={},c={};return Ab(t,(h,u,f)=>{if((typeof u=="string"||typeof u=="number")&&(!s||!s(h,u))){const m=`--${n?`${n}-`:""}${h.join("-")}`,g=pb(h,u);Object.assign(a,{[m]:g}),Xm(o,h,`var(${m})`,f),Xm(c,h,`var(${m}, ${g})`,f)}},h=>h[0]==="vars"),{css:a,vars:o,varsWithDefaults:c}}function vb(t,e={}){const{getSelector:n=w,disableCssColorScheme:s,colorSchemeSelector:a}=e,{colorSchemes:o={},components:c,defaultColorScheme:h="light",...u}=t,{vars:f,css:m,varsWithDefaults:g}=$h(u,e);let A=g;const v={},{[h]:x,...y}=o;if(Object.entries(y||{}).forEach(([D,M])=>{const{vars:E,css:R,varsWithDefaults:B}=$h(M,e);A=pi(A,B),v[D]={css:R,vars:E}}),x){const{css:D,vars:M,varsWithDefaults:E}=$h(x,e);A=pi(A,E),v[h]={css:D,vars:M}}function w(D,M){var R,B;let E=a;if(a==="class"&&(E=".%s"),a==="data"&&(E="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(E=`[${a}="%s"]`),D){if(E==="media")return t.defaultColorScheme===D?":root":{[`@media (prefers-color-scheme: ${((B=(R=o[D])==null?void 0:R.palette)==null?void 0:B.mode)||D})`]:{":root":M}};if(E)return t.defaultColorScheme===D?`:root, ${E.replace("%s",String(D))}`:E.replace("%s",String(D))}return":root"}return{vars:A,generateThemeVars:()=>{let D={...f};return Object.entries(v).forEach(([,{vars:M}])=>{D=pi(D,M)}),D},generateStyleSheets:()=>{var U,N;const D=[],M=t.defaultColorScheme||"light";function E(S,I){Object.keys(I).length&&D.push(typeof S=="string"?{[S]:{...I}}:S)}E(n(void 0,{...m}),m);const{[M]:R,...B}=v;if(R){const{css:S}=R,I=(N=(U=o[M])==null?void 0:U.palette)==null?void 0:N.mode,F=!s&&I?{colorScheme:I,...S}:{...S};E(n(M,{...F}),F)}return Object.entries(B).forEach(([S,{css:I}])=>{var k,q;const F=(q=(k=o[S])==null?void 0:k.palette)==null?void 0:q.mode,L=!s&&F?{colorScheme:F,...I}:{...I};E(n(S,{...L}),L)}),D}}}function xb(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function dA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Za.white,default:Za.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const yb=dA();function mA(){return{text:{primary:Za.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Za.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Zm=mA();function Wm(t,e,n,s){const a=s.light||s,o=s.dark||s*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Pf(t.main,a):e==="dark"&&(t.dark=kf(t.main,o)))}function bb(t="light"){return t==="dark"?{main:vr[200],light:vr[50],dark:vr[400]}:{main:vr[700],light:vr[400],dark:vr[800]}}function wb(t="light"){return t==="dark"?{main:pr[200],light:pr[50],dark:pr[400]}:{main:pr[500],light:pr[300],dark:pr[700]}}function Cb(t="light"){return t==="dark"?{main:Ar[500],light:Ar[300],dark:Ar[700]}:{main:Ar[700],light:Ar[400],dark:Ar[800]}}function Sb(t="light"){return t==="dark"?{main:xr[400],light:xr[300],dark:xr[700]}:{main:xr[700],light:xr[500],dark:xr[900]}}function Mb(t="light"){return t==="dark"?{main:yr[400],light:yr[300],dark:yr[700]}:{main:yr[800],light:yr[500],dark:yr[900]}}function Eb(t="light"){return t==="dark"?{main:La[400],light:La[300],dark:La[700]}:{main:"#ed6c02",light:La[500],dark:La[900]}}function Gf(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:s=.2,...a}=t,o=t.primary||bb(e),c=t.secondary||wb(e),h=t.error||Cb(e),u=t.info||Sb(e),f=t.success||Mb(e),m=t.warning||Eb(e);function g(y){return $6(y,Zm.text.primary)>=n?Zm.text.primary:yb.text.primary}const A=({color:y,name:w,mainShade:C=500,lightShade:T=300,darkShade:D=700})=>{if(y={...y},!y.main&&y[C]&&(y.main=y[C]),!y.hasOwnProperty("main"))throw new Error(ws(11,w?` (${w})`:"",C));if(typeof y.main!="string")throw new Error(ws(12,w?` (${w})`:"",JSON.stringify(y.main)));return Wm(y,"light",T,s),Wm(y,"dark",D,s),y.contrastText||(y.contrastText=g(y.main)),y};let v;return e==="light"?v=dA():e==="dark"&&(v=mA()),pi({common:{...Za},mode:e,primary:A({color:o,name:"primary"}),secondary:A({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:h,name:"error"}),warning:A({color:m,name:"warning"}),info:A({color:u,name:"info"}),success:A({color:f,name:"success"}),grey:Ox,contrastThreshold:n,getContrastText:g,augmentColor:A,tonalOffset:s,...v},a)}function Db(t){const e={};return Object.entries(t).forEach(s=>{const[a,o]=s;typeof o=="object"&&(e[a]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function Tb(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Bb(t){return Math.round(t*1e5)/1e5}const Jm={textTransform:"uppercase"},_m='"Roboto", "Helvetica", "Arial", sans-serif';function Rb(t,e){const{fontFamily:n=_m,fontSize:s=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:c=500,fontWeightBold:h=700,htmlFontSize:u=16,allVariants:f,pxToRem:m,...g}=typeof e=="function"?e(t):e,A=s/14,v=m||(w=>`${w/u*A}rem`),x=(w,C,T,D,M)=>({fontFamily:n,fontWeight:w,fontSize:v(C),lineHeight:T,...n===_m?{letterSpacing:`${Bb(D/C)}em`}:{},...M,...f}),y={h1:x(a,96,1.167,-1.5),h2:x(a,60,1.2,-.5),h3:x(o,48,1.167,0),h4:x(o,34,1.235,.25),h5:x(o,24,1.334,0),h6:x(c,20,1.6,.15),subtitle1:x(o,16,1.75,.15),subtitle2:x(c,14,1.57,.1),body1:x(o,16,1.5,.15),body2:x(o,14,1.43,.15),button:x(c,14,1.75,.4,Jm),caption:x(o,12,1.66,.4),overline:x(o,12,2.66,1,Jm),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return pi({htmlFontSize:u,pxToRem:v,fontFamily:n,fontSize:s,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:c,fontWeightBold:h,...y},g,{clone:!1})}const Ub=.2,Fb=.14,Vb=.12;function oe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Ub})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Fb})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Vb})`].join(",")}const Ib=["none",oe(0,2,1,-1,0,1,1,0,0,1,3,0),oe(0,3,1,-2,0,2,2,0,0,1,5,0),oe(0,3,3,-2,0,3,4,0,0,1,8,0),oe(0,2,4,-1,0,4,5,0,0,1,10,0),oe(0,3,5,-1,0,5,8,0,0,1,14,0),oe(0,3,5,-1,0,6,10,0,0,1,18,0),oe(0,4,5,-2,0,7,10,1,0,2,16,1),oe(0,5,5,-3,0,8,10,1,0,3,14,2),oe(0,5,6,-3,0,9,12,1,0,3,16,2),oe(0,6,6,-3,0,10,14,1,0,4,18,3),oe(0,6,7,-4,0,11,15,1,0,4,20,3),oe(0,7,8,-4,0,12,17,2,0,5,22,4),oe(0,7,8,-4,0,13,19,2,0,5,24,4),oe(0,7,9,-4,0,14,21,2,0,5,26,4),oe(0,8,9,-5,0,15,22,2,0,6,28,5),oe(0,8,10,-5,0,16,24,2,0,6,30,5),oe(0,8,11,-5,0,17,26,2,0,6,32,5),oe(0,9,11,-5,0,18,28,2,0,7,34,6),oe(0,9,12,-6,0,19,29,2,0,7,36,6),oe(0,10,13,-6,0,20,31,3,0,8,38,7),oe(0,10,13,-6,0,21,33,3,0,8,40,7),oe(0,10,14,-6,0,22,35,3,0,8,42,7),oe(0,11,14,-7,0,23,36,3,0,9,44,8),oe(0,11,15,-7,0,24,38,3,0,9,46,8)],Nb={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ob={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $m(t){return`${Math.round(t)}ms`}function Lb(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function zb(t){const e={...Nb,...t.easing},n={...Ob,...t.duration};return{getAutoHeightDuration:Lb,create:(a=["all"],o={})=>{const{duration:c=n.standard,easing:h=e.easeInOut,delay:u=0,...f}=o;return(Array.isArray(a)?a:[a]).map(m=>`${m} ${typeof c=="string"?c:$m(c)} ${h} ${typeof u=="string"?u:$m(u)}`).join(",")},...t,easing:e,duration:n}}const kb={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Pb(t){return Zi(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function gA(t={}){const e={...t};function n(s){const a=Object.entries(s);for(let o=0;o<a.length;o++){const[c,h]=a[o];!Pb(h)||c.startsWith("unstable_")?delete s[c]:Zi(h)&&(s[c]={...h},n(s[c]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function mf(t={},...e){const{breakpoints:n,mixins:s={},spacing:a,palette:o={},transitions:c={},typography:h={},shape:u,...f}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ws(20));const m=Gf(o),g=oA(t);let A=pi(g,{mixins:Tb(g.breakpoints,s),palette:m,shadows:Ib.slice(),typography:Rb(m,h),transitions:zb(c),zIndex:{...kb}});return A=pi(A,f),A=e.reduce((v,x)=>pi(v,x),A),A.unstable_sxConfig={...so,...f==null?void 0:f.unstable_sxConfig},A.unstable_sx=function(x){return Rr({sx:x,theme:this})},A.toRuntimeSource=gA,A}function Yb(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Gb=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Yb(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function AA(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function pA(t){return t==="dark"?Gb:[]}function Hb(t){const{palette:e={mode:"light"},opacity:n,overlays:s,...a}=t,o=Gf(e);return{palette:o,opacity:{...AA(o.mode),...n},overlays:s||pA(o.mode),...a}}function qb(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Kb=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Qb=t=>(e,n)=>{const s=t.rootSelector||":root",a=t.colorSchemeSelector;let o=a;if(a==="class"&&(o=".%s"),a==="data"&&(o="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(o=`[${a}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const c={};return Kb(t.cssVarPrefix).forEach(h=>{c[h]=n[h],delete n[h]}),o==="media"?{[s]:n,"@media (prefers-color-scheme: dark)":{[s]:c}}:o?{[o.replace("%s",e)]:c,[`${s}, ${o.replace("%s",e)}`]:n}:{[s]:{...n,...c}}}if(o&&o!=="media")return`${s}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[s]:n}};if(o)return o.replace("%s",String(e))}return s};function jb(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function et(t,e,n){!t[e]&&n&&(t[e]=n)}function Ga(t){return typeof t!="string"||!t.startsWith("hsl")?t:hA(t)}function mn(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Ya(Ga(t[e])))}function Xb(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const qi=t=>{try{return t()}catch{}},Zb=(t="mui")=>gb(t);function tf(t,e,n,s){if(!e)return;e=e===!0?{}:e;const a=s==="dark"?"dark":"light";if(!n){t[s]=Hb({...e,palette:{mode:a,...e==null?void 0:e.palette}});return}const{palette:o,...c}=mf({...n,palette:{mode:a,...e==null?void 0:e.palette}});return t[s]={...e,palette:o,opacity:{...AA(a),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||pA(a)},c}function Wb(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:s,disableCssColorScheme:a=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:c=qb,colorSchemeSelector:h=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...f}=t,m=Object.keys(n)[0],g=s||(n.light&&m!=="light"?"light":m),A=Zb(o),{[g]:v,light:x,dark:y,...w}=n,C={...w};let T=v;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(T=!0),!T)throw new Error(ws(21,g));const D=tf(C,T,f,g);x&&!C.light&&tf(C,x,void 0,"light"),y&&!C.dark&&tf(C,y,void 0,"dark");let M={defaultColorScheme:g,...D,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:u,getCssVar:A,colorSchemes:C,font:{...Db(D.typography),...D.font},spacing:Xb(f.spacing)};Object.keys(M.colorSchemes).forEach(N=>{const S=M.colorSchemes[N].palette,I=F=>{const L=F.split("-"),k=L[1],q=L[2];return A(F,S[k][q])};if(S.mode==="light"&&(et(S.common,"background","#fff"),et(S.common,"onBackground","#000")),S.mode==="dark"&&(et(S.common,"background","#000"),et(S.common,"onBackground","#fff")),jb(S,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),S.mode==="light"){et(S.Alert,"errorColor",Jt(S.error.light,.6)),et(S.Alert,"infoColor",Jt(S.info.light,.6)),et(S.Alert,"successColor",Jt(S.success.light,.6)),et(S.Alert,"warningColor",Jt(S.warning.light,.6)),et(S.Alert,"errorFilledBg",I("palette-error-main")),et(S.Alert,"infoFilledBg",I("palette-info-main")),et(S.Alert,"successFilledBg",I("palette-success-main")),et(S.Alert,"warningFilledBg",I("palette-warning-main")),et(S.Alert,"errorFilledColor",qi(()=>S.getContrastText(S.error.main))),et(S.Alert,"infoFilledColor",qi(()=>S.getContrastText(S.info.main))),et(S.Alert,"successFilledColor",qi(()=>S.getContrastText(S.success.main))),et(S.Alert,"warningFilledColor",qi(()=>S.getContrastText(S.warning.main))),et(S.Alert,"errorStandardBg",_t(S.error.light,.9)),et(S.Alert,"infoStandardBg",_t(S.info.light,.9)),et(S.Alert,"successStandardBg",_t(S.success.light,.9)),et(S.Alert,"warningStandardBg",_t(S.warning.light,.9)),et(S.Alert,"errorIconColor",I("palette-error-main")),et(S.Alert,"infoIconColor",I("palette-info-main")),et(S.Alert,"successIconColor",I("palette-success-main")),et(S.Alert,"warningIconColor",I("palette-warning-main")),et(S.AppBar,"defaultBg",I("palette-grey-100")),et(S.Avatar,"defaultBg",I("palette-grey-400")),et(S.Button,"inheritContainedBg",I("palette-grey-300")),et(S.Button,"inheritContainedHoverBg",I("palette-grey-A100")),et(S.Chip,"defaultBorder",I("palette-grey-400")),et(S.Chip,"defaultAvatarColor",I("palette-grey-700")),et(S.Chip,"defaultIconColor",I("palette-grey-700")),et(S.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),et(S.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),et(S.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),et(S.LinearProgress,"primaryBg",_t(S.primary.main,.62)),et(S.LinearProgress,"secondaryBg",_t(S.secondary.main,.62)),et(S.LinearProgress,"errorBg",_t(S.error.main,.62)),et(S.LinearProgress,"infoBg",_t(S.info.main,.62)),et(S.LinearProgress,"successBg",_t(S.success.main,.62)),et(S.LinearProgress,"warningBg",_t(S.warning.main,.62)),et(S.Skeleton,"bg",`rgba(${I("palette-text-primaryChannel")} / 0.11)`),et(S.Slider,"primaryTrack",_t(S.primary.main,.62)),et(S.Slider,"secondaryTrack",_t(S.secondary.main,.62)),et(S.Slider,"errorTrack",_t(S.error.main,.62)),et(S.Slider,"infoTrack",_t(S.info.main,.62)),et(S.Slider,"successTrack",_t(S.success.main,.62)),et(S.Slider,"warningTrack",_t(S.warning.main,.62));const F=Il(S.background.default,.8);et(S.SnackbarContent,"bg",F),et(S.SnackbarContent,"color",qi(()=>S.getContrastText(F))),et(S.SpeedDialAction,"fabHoverBg",Il(S.background.paper,.15)),et(S.StepConnector,"border",I("palette-grey-400")),et(S.StepContent,"border",I("palette-grey-400")),et(S.Switch,"defaultColor",I("palette-common-white")),et(S.Switch,"defaultDisabledColor",I("palette-grey-100")),et(S.Switch,"primaryDisabledColor",_t(S.primary.main,.62)),et(S.Switch,"secondaryDisabledColor",_t(S.secondary.main,.62)),et(S.Switch,"errorDisabledColor",_t(S.error.main,.62)),et(S.Switch,"infoDisabledColor",_t(S.info.main,.62)),et(S.Switch,"successDisabledColor",_t(S.success.main,.62)),et(S.Switch,"warningDisabledColor",_t(S.warning.main,.62)),et(S.TableCell,"border",_t(Vl(S.divider,1),.88)),et(S.Tooltip,"bg",Vl(S.grey[700],.92))}if(S.mode==="dark"){et(S.Alert,"errorColor",_t(S.error.light,.6)),et(S.Alert,"infoColor",_t(S.info.light,.6)),et(S.Alert,"successColor",_t(S.success.light,.6)),et(S.Alert,"warningColor",_t(S.warning.light,.6)),et(S.Alert,"errorFilledBg",I("palette-error-dark")),et(S.Alert,"infoFilledBg",I("palette-info-dark")),et(S.Alert,"successFilledBg",I("palette-success-dark")),et(S.Alert,"warningFilledBg",I("palette-warning-dark")),et(S.Alert,"errorFilledColor",qi(()=>S.getContrastText(S.error.dark))),et(S.Alert,"infoFilledColor",qi(()=>S.getContrastText(S.info.dark))),et(S.Alert,"successFilledColor",qi(()=>S.getContrastText(S.success.dark))),et(S.Alert,"warningFilledColor",qi(()=>S.getContrastText(S.warning.dark))),et(S.Alert,"errorStandardBg",Jt(S.error.light,.9)),et(S.Alert,"infoStandardBg",Jt(S.info.light,.9)),et(S.Alert,"successStandardBg",Jt(S.success.light,.9)),et(S.Alert,"warningStandardBg",Jt(S.warning.light,.9)),et(S.Alert,"errorIconColor",I("palette-error-main")),et(S.Alert,"infoIconColor",I("palette-info-main")),et(S.Alert,"successIconColor",I("palette-success-main")),et(S.Alert,"warningIconColor",I("palette-warning-main")),et(S.AppBar,"defaultBg",I("palette-grey-900")),et(S.AppBar,"darkBg",I("palette-background-paper")),et(S.AppBar,"darkColor",I("palette-text-primary")),et(S.Avatar,"defaultBg",I("palette-grey-600")),et(S.Button,"inheritContainedBg",I("palette-grey-800")),et(S.Button,"inheritContainedHoverBg",I("palette-grey-700")),et(S.Chip,"defaultBorder",I("palette-grey-700")),et(S.Chip,"defaultAvatarColor",I("palette-grey-300")),et(S.Chip,"defaultIconColor",I("palette-grey-300")),et(S.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),et(S.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),et(S.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),et(S.LinearProgress,"primaryBg",Jt(S.primary.main,.5)),et(S.LinearProgress,"secondaryBg",Jt(S.secondary.main,.5)),et(S.LinearProgress,"errorBg",Jt(S.error.main,.5)),et(S.LinearProgress,"infoBg",Jt(S.info.main,.5)),et(S.LinearProgress,"successBg",Jt(S.success.main,.5)),et(S.LinearProgress,"warningBg",Jt(S.warning.main,.5)),et(S.Skeleton,"bg",`rgba(${I("palette-text-primaryChannel")} / 0.13)`),et(S.Slider,"primaryTrack",Jt(S.primary.main,.5)),et(S.Slider,"secondaryTrack",Jt(S.secondary.main,.5)),et(S.Slider,"errorTrack",Jt(S.error.main,.5)),et(S.Slider,"infoTrack",Jt(S.info.main,.5)),et(S.Slider,"successTrack",Jt(S.success.main,.5)),et(S.Slider,"warningTrack",Jt(S.warning.main,.5));const F=Il(S.background.default,.98);et(S.SnackbarContent,"bg",F),et(S.SnackbarContent,"color",qi(()=>S.getContrastText(F))),et(S.SpeedDialAction,"fabHoverBg",Il(S.background.paper,.15)),et(S.StepConnector,"border",I("palette-grey-600")),et(S.StepContent,"border",I("palette-grey-600")),et(S.Switch,"defaultColor",I("palette-grey-300")),et(S.Switch,"defaultDisabledColor",I("palette-grey-600")),et(S.Switch,"primaryDisabledColor",Jt(S.primary.main,.55)),et(S.Switch,"secondaryDisabledColor",Jt(S.secondary.main,.55)),et(S.Switch,"errorDisabledColor",Jt(S.error.main,.55)),et(S.Switch,"infoDisabledColor",Jt(S.info.main,.55)),et(S.Switch,"successDisabledColor",Jt(S.success.main,.55)),et(S.Switch,"warningDisabledColor",Jt(S.warning.main,.55)),et(S.TableCell,"border",Jt(Vl(S.divider,1),.68)),et(S.Tooltip,"bg",Vl(S.grey[700],.92))}mn(S.background,"default"),mn(S.background,"paper"),mn(S.common,"background"),mn(S.common,"onBackground"),mn(S,"divider"),Object.keys(S).forEach(F=>{const L=S[F];F!=="tonalOffset"&&L&&typeof L=="object"&&(L.main&&et(S[F],"mainChannel",Ya(Ga(L.main))),L.light&&et(S[F],"lightChannel",Ya(Ga(L.light))),L.dark&&et(S[F],"darkChannel",Ya(Ga(L.dark))),L.contrastText&&et(S[F],"contrastTextChannel",Ya(Ga(L.contrastText))),F==="text"&&(mn(S[F],"primary"),mn(S[F],"secondary")),F==="action"&&(L.active&&mn(S[F],"active"),L.selected&&mn(S[F],"selected")))})}),M=e.reduce((N,S)=>pi(N,S),M);const E={prefix:o,disableCssColorScheme:a,shouldSkipGeneratingVar:c,getSelector:Qb(M)},{vars:R,generateThemeVars:B,generateStyleSheets:U}=vb(M,E);return M.vars=R,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([N,S])=>{M[N]=S}),M.generateThemeVars=B,M.generateStyleSheets=U,M.generateSpacing=function(){return aA(f.spacing,Of(this))},M.getColorSchemeSelector=xb(h),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=c,M.unstable_sxConfig={...so,...f==null?void 0:f.unstable_sxConfig},M.unstable_sx=function(S){return Rr({sx:S,theme:this})},M.toRuntimeSource=gA,M}function tg(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Gf({...n===!0?{}:n.palette,mode:e})})}function Jb(t={},...e){const{palette:n,cssVariables:s=!1,colorSchemes:a=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...c}=t,h=o||"light",u=a==null?void 0:a[h],f={...a,...n?{[h]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(s===!1){if(!("colorSchemes"in t))return mf(t,...e);let m=n;"palette"in t||f[h]&&(f[h]!==!0?m=f[h].palette:h==="dark"&&(m={mode:"dark"}));const g=mf({...t,palette:m},...e);return g.defaultColorScheme=h,g.colorSchemes=f,g.palette.mode==="light"&&(g.colorSchemes.light={...f.light!==!0&&f.light,palette:g.palette},tg(g,"dark",f.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:g.palette},tg(g,"light",f.light)),g}return!n&&!("light"in f)&&h==="light"&&(f.light=!0),Wb({...c,colorSchemes:f,defaultColorScheme:h,...typeof s!="boolean"&&s},...e)}const _b=Jb();function $b(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Hf=t=>$b(t)&&t!=="classes",Li=q6({themeId:Lx,defaultTheme:_b,rootShouldForwardProp:Hf});function tw(){return L6}const ro=mb;function Ss(t){return db(t)}function ew(t){return Zn("MuiSvgIcon",t)}Wn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const iw=t=>{const{color:e,fontSize:n,classes:s}=t,a={root:["root",e!=="inherit"&&`color${qe(e)}`,`fontSize${qe(n)}`]};return Cs(a,ew,s)},nw=Li("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${qe(n.color)}`],e[`fontSize${qe(n.fontSize)}`]]}})(ro(({theme:t})=>{var e,n,s,a,o,c,h,u,f,m,g,A,v,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(e=t.transitions)==null?void 0:e.create)==null?void 0:a.call(e,"fill",{duration:(s=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:s.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((c=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:c.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(h=t.typography)==null?void 0:h.pxToRem)==null?void 0:u.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(f=t.typography)==null?void 0:f.pxToRem)==null?void 0:m.call(f,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,y])=>y&&y.main).map(([y])=>{var w,C;return{props:{color:y},style:{color:(C=(w=(t.vars??t).palette)==null?void 0:w[y])==null?void 0:C.main}}}),{props:{color:"action"},style:{color:(A=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:A.active}},{props:{color:"disabled"},style:{color:(x=(v=(t.vars??t).palette)==null?void 0:v.action)==null?void 0:x.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),gf=ct.forwardRef(function(e,n){const s=Ss({props:e,name:"MuiSvgIcon"}),{children:a,className:o,color:c="inherit",component:h="svg",fontSize:u="medium",htmlColor:f,inheritViewBox:m=!1,titleAccess:g,viewBox:A="0 0 24 24",...v}=s,x=ct.isValidElement(a)&&a.type==="svg",y={...s,color:c,component:h,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:A,hasSvgAsChild:x},w={};m||(w.viewBox=A);const C=iw(y);return It.jsxs(nw,{as:h,className:be(C.root,o),focusable:"false",color:f,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...w,...v,...x&&a.props,ownerState:y,children:[x?a.props.children:a,g?It.jsx("title",{children:g}):null]})});gf.muiName="SvgIcon";function qf(t,e){function n(s,a){return It.jsx(gf,{"data-testid":void 0,ref:a,...s,children:t})}return n.muiName=gf.muiName,ct.memo(ct.forwardRef(n))}function sw(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function rw(t,e){if(!t)return e;function n(c,h){const u={};return Object.keys(h).forEach(f=>{sw(f,h[f])&&typeof c[f]=="function"&&(u[f]=(...m)=>{c[f](...m),h[f](...m)})}),u}if(typeof t=="function"||typeof e=="function")return c=>{const h=typeof e=="function"?e(c):e,u=typeof t=="function"?t({...c,...h}):t,f=be(c==null?void 0:c.className,h==null?void 0:h.className,u==null?void 0:u.className),m=n(u,h);return{...h,...u,...m,...!!f&&{className:f},...(h==null?void 0:h.style)&&(u==null?void 0:u.style)&&{style:{...h.style,...u.style}},...(h==null?void 0:h.sx)&&(u==null?void 0:u.sx)&&{sx:[...Array.isArray(h.sx)?h.sx:[h.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const s=e,a=n(t,s),o=be(s==null?void 0:s.className,t==null?void 0:t.className);return{...e,...t,...a,...!!o&&{className:o},...(s==null?void 0:s.style)&&(t==null?void 0:t.style)&&{style:{...s.style,...t.style}},...(s==null?void 0:s.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function aw(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.indexOf(s)!==-1)continue;n[s]=t[s]}return n}function Af(t,e){return Af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Af(t,e)}function ow(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Af(t,e)}const eg=Mr.createContext(null);function lw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kf(t,e){var n=function(o){return e&&ct.isValidElement(o)?e(o):o},s=Object.create(null);return t&&ct.Children.map(t,function(a){return a}).forEach(function(a){s[a.key]=n(a)}),s}function cw(t,e){t=t||{},e=e||{};function n(m){return m in e?e[m]:t[m]}var s=Object.create(null),a=[];for(var o in t)o in e?a.length&&(s[o]=a,a=[]):a.push(o);var c,h={};for(var u in e){if(s[u])for(c=0;c<s[u].length;c++){var f=s[u][c];h[s[u][c]]=n(f)}h[u]=n(u)}for(c=0;c<a.length;c++)h[a[c]]=n(a[c]);return h}function xs(t,e,n){return n[e]!=null?n[e]:t.props[e]}function uw(t,e){return Kf(t.children,function(n){return ct.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:xs(n,"appear",t),enter:xs(n,"enter",t),exit:xs(n,"exit",t)})})}function hw(t,e,n){var s=Kf(t.children),a=cw(e,s);return Object.keys(a).forEach(function(o){var c=a[o];if(ct.isValidElement(c)){var h=o in e,u=o in s,f=e[o],m=ct.isValidElement(f)&&!f.props.in;u&&(!h||m)?a[o]=ct.cloneElement(c,{onExited:n.bind(null,c),in:!0,exit:xs(c,"exit",t),enter:xs(c,"enter",t)}):!u&&h&&!m?a[o]=ct.cloneElement(c,{in:!1}):u&&h&&ct.isValidElement(f)&&(a[o]=ct.cloneElement(c,{onExited:n.bind(null,c),in:f.props.in,exit:xs(c,"exit",t),enter:xs(c,"enter",t)}))}}),a}var fw=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},dw={component:"div",childFactory:function(e){return e}},Qf=function(t){ow(e,t);function e(s,a){var o;o=t.call(this,s,a)||this;var c=o.handleExited.bind(lw(o));return o.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,o){var c=o.children,h=o.handleExited,u=o.firstRender;return{children:u?uw(a,h):hw(a,c,h),firstRender:!1}},n.handleExited=function(a,o){var c=Kf(this.props.children);a.key in c||(a.props.onExited&&a.props.onExited(o),this.mounted&&this.setState(function(h){var u=Wl({},h.children);return delete u[a.key],{children:u}}))},n.render=function(){var a=this.props,o=a.component,c=a.childFactory,h=aw(a,["component","childFactory"]),u=this.state.contextValue,f=fw(this.state.children).map(c);return delete h.appear,delete h.enter,delete h.exit,o===null?Mr.createElement(eg.Provider,{value:u},f):Mr.createElement(eg.Provider,{value:u},Mr.createElement(o,h,f))},e}(Mr.Component);Qf.propTypes={};Qf.defaultProps=dw;function $l(t,e){const{className:n,elementType:s,ownerState:a,externalForwardedProps:o,internalForwardedProps:c,shouldForwardComponentProp:h=!1,...u}=e,{component:f,slots:m={[t]:void 0},slotProps:g={[t]:void 0},...A}=o,v=m[t]||s,x=ub(g[t],a),{props:{component:y,...w},internalRef:C}=cb({className:n,...u,externalForwardedProps:t==="root"?A:void 0,externalSlotProps:x}),T=df(C,x==null?void 0:x.ref,e.ref),D=t==="root"?y||f:y,M=ob(v,{...t==="root"&&!f&&!m[t]&&c,...t!=="root"&&!m[t]&&c,...w,...D&&!h&&{as:D},...D&&h&&{component:D},ref:T},a);return[v,M]}class tc{constructor(){W(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new tc}static use(){const e=fA(tc.create).current,[n,s]=ct.useState(!1);return e.shouldMount=n,e.setShouldMount=s,ct.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=gw(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function mw(){return tc.use()}function gw(){let t,e;const n=new Promise((s,a)=>{t=s,e=a});return n.resolve=t,n.reject=e,n}function Aw(t){const{className:e,classes:n,pulsate:s=!1,rippleX:a,rippleY:o,rippleSize:c,in:h,onExited:u,timeout:f}=t,[m,g]=ct.useState(!1),A=be(e,n.ripple,n.rippleVisible,s&&n.ripplePulsate),v={width:c,height:c,top:-(c/2)+o,left:-(c/2)+a},x=be(n.child,m&&n.childLeaving,s&&n.childPulsate);return!h&&!m&&g(!0),ct.useEffect(()=>{if(!h&&u!=null){const y=setTimeout(u,f);return()=>{clearTimeout(y)}}},[u,h,f]),It.jsx("span",{className:A,style:v,children:It.jsx("span",{className:x})})}const Di=Wn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),pf=550,pw=80,vw=Vf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,xw=Vf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,yw=Vf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,bw=Li("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ww=Li(Aw,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Di.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${vw};
    animation-duration: ${pf}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Di.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Di.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Di.childLeaving} {
    opacity: 0;
    animation-name: ${xw};
    animation-duration: ${pf}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Di.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${yw};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Cw=ct.forwardRef(function(e,n){const s=Ss({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:o={},className:c,...h}=s,[u,f]=ct.useState([]),m=ct.useRef(0),g=ct.useRef(null);ct.useEffect(()=>{g.current&&(g.current(),g.current=null)},[u]);const A=ct.useRef(!1),v=rb(),x=ct.useRef(null),y=ct.useRef(null),w=ct.useCallback(M=>{const{pulsate:E,rippleX:R,rippleY:B,rippleSize:U,cb:N}=M;f(S=>[...S,It.jsx(ww,{classes:{ripple:be(o.ripple,Di.ripple),rippleVisible:be(o.rippleVisible,Di.rippleVisible),ripplePulsate:be(o.ripplePulsate,Di.ripplePulsate),child:be(o.child,Di.child),childLeaving:be(o.childLeaving,Di.childLeaving),childPulsate:be(o.childPulsate,Di.childPulsate)},timeout:pf,pulsate:E,rippleX:R,rippleY:B,rippleSize:U},m.current)]),m.current+=1,g.current=N},[o]),C=ct.useCallback((M={},E={},R=()=>{})=>{const{pulsate:B=!1,center:U=a||E.pulsate,fakeElement:N=!1}=E;if((M==null?void 0:M.type)==="mousedown"&&A.current){A.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(A.current=!0);const S=N?null:y.current,I=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,L,k;if(U||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)F=Math.round(I.width/2),L=Math.round(I.height/2);else{const{clientX:q,clientY:P}=M.touches&&M.touches.length>0?M.touches[0]:M;F=Math.round(q-I.left),L=Math.round(P-I.top)}if(U)k=Math.sqrt((2*I.width**2+I.height**2)/3),k%2===0&&(k+=1);else{const q=Math.max(Math.abs((S?S.clientWidth:0)-F),F)*2+2,P=Math.max(Math.abs((S?S.clientHeight:0)-L),L)*2+2;k=Math.sqrt(q**2+P**2)}M!=null&&M.touches?x.current===null&&(x.current=()=>{w({pulsate:B,rippleX:F,rippleY:L,rippleSize:k,cb:R})},v.start(pw,()=>{x.current&&(x.current(),x.current=null)})):w({pulsate:B,rippleX:F,rippleY:L,rippleSize:k,cb:R})},[a,w,v]),T=ct.useCallback(()=>{C({},{pulsate:!0})},[C]),D=ct.useCallback((M,E)=>{if(v.clear(),(M==null?void 0:M.type)==="touchend"&&x.current){x.current(),x.current=null,v.start(0,()=>{D(M,E)});return}x.current=null,f(R=>R.length>0?R.slice(1):R),g.current=E},[v]);return ct.useImperativeHandle(n,()=>({pulsate:T,start:C,stop:D}),[T,C,D]),It.jsx(bw,{className:be(Di.root,o.root,c),ref:y,...h,children:It.jsx(Qf,{component:null,exit:!0,children:u})})});function Sw(t){return Zn("MuiButtonBase",t)}const Mw=Wn("MuiButtonBase",["root","disabled","focusVisible"]),Ew=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:s,classes:a}=t,c=Cs({root:["root",e&&"disabled",n&&"focusVisible"]},Sw,a);return n&&s&&(c.root+=` ${s}`),c},Dw=Li("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Mw.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Tw=ct.forwardRef(function(e,n){const s=Ss({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:o=!1,children:c,className:h,component:u="button",disabled:f=!1,disableRipple:m=!1,disableTouchRipple:g=!1,focusRipple:A=!1,focusVisibleClassName:v,LinkComponent:x="a",onBlur:y,onClick:w,onContextMenu:C,onDragLeave:T,onFocus:D,onFocusVisible:M,onKeyDown:E,onKeyUp:R,onMouseDown:B,onMouseLeave:U,onMouseUp:N,onTouchEnd:S,onTouchMove:I,onTouchStart:F,tabIndex:L=0,TouchRippleProps:k,touchRippleRef:q,type:P,...K}=s,J=ct.useRef(null),rt=mw(),G=df(rt.ref,q),[tt,at]=ct.useState(!1);f&&tt&&at(!1),ct.useImperativeHandle(a,()=>({focusVisible:()=>{at(!0),J.current.focus()}}),[]);const ot=rt.shouldMount&&!m&&!f;ct.useEffect(()=>{tt&&A&&!m&&rt.pulsate()},[m,A,tt,rt]);const mt=gn(rt,"start",B,g),ft=gn(rt,"stop",C,g),dt=gn(rt,"stop",T,g),Ut=gn(rt,"stop",N,g),Ft=gn(rt,"stop",Mt=>{tt&&Mt.preventDefault(),U&&U(Mt)},g),Ce=gn(rt,"start",F,g),ve=gn(rt,"stop",S,g),se=gn(rt,"stop",I,g),Zt=gn(rt,"stop",Mt=>{Km(Mt.target)||at(!1),y&&y(Mt)},!1),Ui=jl(Mt=>{J.current||(J.current=Mt.currentTarget),Km(Mt.target)&&(at(!0),M&&M(Mt)),D&&D(Mt)}),zi=()=>{const Mt=J.current;return u&&u!=="button"&&!(Mt.tagName==="A"&&Mt.href)},ao=jl(Mt=>{A&&!Mt.repeat&&tt&&Mt.key===" "&&rt.stop(Mt,()=>{rt.start(Mt)}),Mt.target===Mt.currentTarget&&zi()&&Mt.key===" "&&Mt.preventDefault(),E&&E(Mt),Mt.target===Mt.currentTarget&&zi()&&Mt.key==="Enter"&&!f&&(Mt.preventDefault(),w&&w(Mt))}),Fr=jl(Mt=>{A&&Mt.key===" "&&tt&&!Mt.defaultPrevented&&rt.stop(Mt,()=>{rt.pulsate(Mt)}),R&&R(Mt),w&&Mt.target===Mt.currentTarget&&zi()&&Mt.key===" "&&!Mt.defaultPrevented&&w(Mt)});let Ve=u;Ve==="button"&&(K.href||K.to)&&(Ve=x);const vn={};Ve==="button"?(vn.type=P===void 0?"button":P,vn.disabled=f):(!K.href&&!K.to&&(vn.role="button"),f&&(vn["aria-disabled"]=f));const Ms=df(n,J),Vr={...s,centerRipple:o,component:u,disabled:f,disableRipple:m,disableTouchRipple:g,focusRipple:A,tabIndex:L,focusVisible:tt},Es=Ew(Vr);return It.jsxs(Dw,{as:Ve,className:be(Es.root,h),ownerState:Vr,onBlur:Zt,onClick:w,onContextMenu:ft,onFocus:Ui,onKeyDown:ao,onKeyUp:Fr,onMouseDown:mt,onMouseLeave:Ft,onMouseUp:Ut,onDragLeave:dt,onTouchEnd:ve,onTouchMove:se,onTouchStart:Ce,ref:Ms,tabIndex:f?-1:L,type:P,...vn,...K,children:[c,ot?It.jsx(Cw,{ref:G,center:o,...k}):null]})});function gn(t,e,n,s=!1){return jl(a=>(n&&n(a),s||t[e](a),!0))}function Bw(t){return typeof t.main=="string"}function Rw(t,e=[]){if(!Bw(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function vf(t=[]){return([,e])=>e&&Rw(e,t)}function Uw(t){return Zn("MuiTypography",t)}Wn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Fw={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Vw=tw(),Iw=t=>{const{align:e,gutterBottom:n,noWrap:s,paragraph:a,variant:o,classes:c}=t,h={root:["root",o,t.align!=="inherit"&&`align${qe(e)}`,n&&"gutterBottom",s&&"noWrap",a&&"paragraph"]};return Cs(h,Uw,c)},Nw=Li("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${qe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(ro(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,s])=>n!=="inherit"&&s&&typeof s=="object").map(([n,s])=>({props:{variant:n},style:s})),...Object.entries(t.palette).filter(vf()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qe(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),ig={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ng=ct.forwardRef(function(e,n){const{color:s,...a}=Ss({props:e,name:"MuiTypography"}),o=!Fw[s],c=Vw({...a,...o&&{color:s}}),{align:h="inherit",className:u,component:f,gutterBottom:m=!1,noWrap:g=!1,paragraph:A=!1,variant:v="body1",variantMapping:x=ig,...y}=c,w={...c,align:h,color:s,className:u,component:f,gutterBottom:m,noWrap:g,paragraph:A,variant:v,variantMapping:x},C=f||(A?"p":x[v]||ig[v])||"span",T=Iw(w);return It.jsx(Nw,{as:C,ref:n,className:be(T.root,u),...y,ownerState:w,style:{...h!=="inherit"&&{"--Typography-textAlign":h},...y.style}})});function vA({props:t,states:e,muiFormControl:n}){return e.reduce((s,a)=>(s[a]=t[a],n&&typeof t[a]>"u"&&(s[a]=n[a]),s),{})}const Ow=ct.createContext(void 0);function jf(){return ct.useContext(Ow)}function Lw(t){return Zn("PrivateSwitchBase",t)}Wn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const zw=t=>{const{classes:e,checked:n,disabled:s,edge:a}=t,o={root:["root",n&&"checked",s&&"disabled",a&&`edge${qe(a)}`],input:["input"]};return Cs(o,Lw,e)},kw=Li(Tw)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Pw=Li("input",{shouldForwardProp:Hf})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Yw=ct.forwardRef(function(e,n){const{autoFocus:s,checked:a,checkedIcon:o,defaultChecked:c,disabled:h,disableFocusRipple:u=!1,edge:f=!1,icon:m,id:g,inputProps:A,inputRef:v,name:x,onBlur:y,onChange:w,onFocus:C,readOnly:T,required:D=!1,tabIndex:M,type:E,value:R,slots:B={},slotProps:U={},...N}=e,[S,I]=ib({controlled:a,default:!!c,name:"SwitchBase",state:"checked"}),F=jf(),L=ft=>{C&&C(ft),F&&F.onFocus&&F.onFocus(ft)},k=ft=>{y&&y(ft),F&&F.onBlur&&F.onBlur(ft)},q=ft=>{if(ft.nativeEvent.defaultPrevented)return;const dt=ft.target.checked;I(dt),w&&w(ft,dt)};let P=h;F&&typeof P>"u"&&(P=F.disabled);const K=E==="checkbox"||E==="radio",J={...e,checked:S,disabled:P,disableFocusRipple:u,edge:f},rt=zw(J),G={slots:B,slotProps:{input:A,...U}},[tt,at]=$l("root",{ref:n,elementType:kw,className:rt.root,shouldForwardComponentProp:!0,externalForwardedProps:{...G,component:"span",...N},getSlotProps:ft=>({...ft,onFocus:dt=>{var Ut;(Ut=ft.onFocus)==null||Ut.call(ft,dt),L(dt)},onBlur:dt=>{var Ut;(Ut=ft.onBlur)==null||Ut.call(ft,dt),k(dt)}}),ownerState:J,additionalProps:{centerRipple:!0,focusRipple:!u,disabled:P,role:void 0,tabIndex:null}}),[ot,mt]=$l("input",{ref:v,elementType:Pw,className:rt.input,externalForwardedProps:G,getSlotProps:ft=>({...ft,onChange:dt=>{var Ut;(Ut=ft.onChange)==null||Ut.call(ft,dt),q(dt)}}),ownerState:J,additionalProps:{autoFocus:s,checked:a,defaultChecked:c,disabled:P,id:K?g:void 0,name:x,readOnly:T,required:D,tabIndex:M,type:E,...E==="checkbox"&&R===void 0?{}:{value:R}}});return It.jsxs(tt,{...at,children:[It.jsx(ot,{...mt}),S?o:m]})}),Gw=qf(It.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Hw=qf(It.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),qw=qf(It.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Kw(t){return Zn("MuiCheckbox",t)}const ef=Wn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Qw=t=>{const{classes:e,indeterminate:n,color:s,size:a}=t,o={root:["root",n&&"indeterminate",`color${qe(s)}`,`size${qe(a)}`]},c=Cs(o,Kw,e);return{...e,...c}},jw=Li(Yw,{shouldForwardProp:t=>Hf(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${qe(n.size)}`],n.color!=="default"&&e[`color${qe(n.color)}`]]}})(ro(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ff(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(vf()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ff(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(vf()).map(([e])=>({props:{color:e},style:{[`&.${ef.checked}, &.${ef.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${ef.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Xw=It.jsx(Hw,{}),Zw=It.jsx(Gw,{}),Ww=It.jsx(qw,{}),sg=ct.forwardRef(function(e,n){const s=Ss({props:e,name:"MuiCheckbox"}),{checkedIcon:a=Xw,color:o="primary",icon:c=Zw,indeterminate:h=!1,indeterminateIcon:u=Ww,inputProps:f,size:m="medium",disableRipple:g=!1,className:A,slots:v={},slotProps:x={},...y}=s,w=h?u:c,C=h?u:a,T={...s,disableRipple:g,color:o,indeterminate:h,size:m},D=Qw(T),M=x.input??f,[E,R]=$l("root",{ref:n,elementType:jw,className:be(D.root,A),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:x,...y},ownerState:T,additionalProps:{type:"checkbox",icon:ct.cloneElement(w,{fontSize:w.props.fontSize??m}),checkedIcon:ct.cloneElement(C,{fontSize:C.props.fontSize??m}),disableRipple:g,slots:v,slotProps:{input:rw(typeof M=="function"?M(T):M,{"data-indeterminate":h})}}});return It.jsx(E,{...R,classes:D})});function Jw(t){return Zn("MuiFormControlLabel",t)}const Ha=Wn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),_w=t=>{const{classes:e,disabled:n,labelPlacement:s,error:a,required:o}=t,c={root:["root",n&&"disabled",`labelPlacement${qe(s)}`,a&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",a&&"error"]};return Cs(c,Jw,e)},$w=Li("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ha.label}`]:e.label},e.root,e[`labelPlacement${qe(n.labelPlacement)}`]]}})(ro(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Ha.disabled}`]:{cursor:"default"},[`& .${Ha.label}`]:{[`&.${Ha.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),t8=Li("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(ro(({theme:t})=>({[`&.${Ha.error}`]:{color:(t.vars||t).palette.error.main}}))),rg=ct.forwardRef(function(e,n){const s=Ss({props:e,name:"MuiFormControlLabel"}),{checked:a,className:o,componentsProps:c={},control:h,disabled:u,disableTypography:f,inputRef:m,label:g,labelPlacement:A="end",name:v,onChange:x,required:y,slots:w={},slotProps:C={},value:T,...D}=s,M=jf(),E=u??h.props.disabled??(M==null?void 0:M.disabled),R=y??h.props.required,B={disabled:E,required:R};["checked","name","onChange","value","inputRef"].forEach(q=>{typeof h.props[q]>"u"&&typeof s[q]<"u"&&(B[q]=s[q])});const U=vA({props:s,muiFormControl:M,states:["error"]}),N={...s,disabled:E,labelPlacement:A,required:R,error:U.error},S=_w(N),I={slots:w,slotProps:{...c,...C}},[F,L]=$l("typography",{elementType:ng,externalForwardedProps:I,ownerState:N});let k=g;return k!=null&&k.type!==ng&&!f&&(k=It.jsx(F,{component:"span",...L,className:be(S.label,L==null?void 0:L.className),children:k})),It.jsxs($w,{className:be(S.root,o),ownerState:N,ref:n,...D,children:[ct.cloneElement(h,B),R?It.jsxs("div",{children:[k,It.jsxs(t8,{ownerState:N,"aria-hidden":!0,className:S.asterisk,children:[" ","*"]})]}):k]})});function e8(t){return Zn("MuiFormGroup",t)}Wn("MuiFormGroup",["root","row","error"]);const i8=t=>{const{classes:e,row:n,error:s}=t;return Cs({root:["root",n&&"row",s&&"error"]},e8,e)},n8=Li("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),s8=ct.forwardRef(function(e,n){const s=Ss({props:e,name:"MuiFormGroup"}),{className:a,row:o=!1,...c}=s,h=jf(),u=vA({props:s,muiFormControl:h,states:["error"]}),f={...s,row:o,error:u.error},m=i8(f);return It.jsx(n8,{className:be(m.root,a),ownerState:f,ref:n,...c})}),r8=()=>{const t=ct.useRef(null),[e,n]=ct.useState(null),[s,a]=ct.useState(!0),[o,c]=ct.useState(!0);ct.useEffect(()=>{if(!t||!t.current)return;const f={show3Dcrosshair:!0},m=new Nx(f);m.attachToCanvas(t.current),n(m)},[t]),ct.useEffect(()=>{if(!e)return;const f=[{url:"./chris_t1.nii.gz"},{url:"./chris_t1-2.nii.gz"}];e.loadVolumes(f)},[e]);const h=()=>{e!=null&&e.back&&(e.back.opacity=1-e.back.opacity,e.drawScene(),a(!s))},u=()=>{var f;(f=e==null?void 0:e.overlays)!=null&&f.length&&(e.overlays[0].opacity=1-e.overlays[0].opacity,e.drawScene(),c(!o))};return It.jsxs(It.Fragment,{children:[It.jsxs(s8,{children:[It.jsx(rg,{control:It.jsx(sg,{defaultChecked:!0,onClick:h}),label:"whole"}),It.jsx(rg,{control:It.jsx(sg,{defaultChecked:!0,onClick:u}),label:"partial"})]}),It.jsx("canvas",{ref:t})]})};Z5.createRoot(document.getElementById("root")).render(It.jsx(ct.StrictMode,{children:It.jsx(r8,{})}));
